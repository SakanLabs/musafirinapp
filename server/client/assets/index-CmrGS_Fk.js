var Ak=Object.defineProperty;var cv=e=>{throw TypeError(e)};var Tk=(e,t,r)=>t in e?Ak(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Re=(e,t,r)=>Tk(e,typeof t!="symbol"?t+"":t,r),dm=(e,t,r)=>t.has(e)||cv("Cannot "+r);var _=(e,t,r)=>(dm(e,t,"read from private field"),r?r.call(e):t.get(e)),ce=(e,t,r)=>t.has(e)?cv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),re=(e,t,r,a)=>(dm(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Ce=(e,t,r)=>(dm(e,t,"access private method"),r);var Mu=(e,t,r,a)=>({set _(l){re(e,t,l,r)},get _(){return _(e,t,a)}});function Rk(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function pw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function Ck(){if(uv)return Bl;uv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Bl.Fragment=t,Bl.jsx=r,Bl.jsxs=r,Bl}var dv;function Ok(){return dv||(dv=1,fm.exports=Ck()),fm.exports}var o=Ok(),hm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function Dk(){if(fv)return Ae;fv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.iterator;function v(E){return E===null||typeof E!="object"?null:(E=g&&E[g]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,N={};function k(E,Z,ne){this.props=E,this.context=Z,this.refs=N,this.updater=ne||w}k.prototype.isReactComponent={},k.prototype.setState=function(E,Z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Z,"setState")},k.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function R(){}R.prototype=k.prototype;function M(E,Z,ne){this.props=E,this.context=Z,this.refs=N,this.updater=ne||w}var U=M.prototype=new R;U.constructor=M,b(U,k.prototype),U.isPureReactComponent=!0;var T=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function J(E,Z,ne,te,le,ke){return ne=ke.ref,{$$typeof:e,type:E,key:Z,ref:ne!==void 0?ne:null,props:ke}}function K(E,Z){return J(E.type,Z,void 0,void 0,void 0,E.props)}function q(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function L(E){var Z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ne){return Z[ne]})}var ie=/\/+/g;function ue(E,Z){return typeof E=="object"&&E!==null&&E.key!=null?L(""+E.key):Z.toString(36)}function he(){}function de(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(he,he):(E.status="pending",E.then(function(Z){E.status==="pending"&&(E.status="fulfilled",E.value=Z)},function(Z){E.status==="pending"&&(E.status="rejected",E.reason=Z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function me(E,Z,ne,te,le){var ke=typeof E;(ke==="undefined"||ke==="boolean")&&(E=null);var be=!1;if(E===null)be=!0;else switch(ke){case"bigint":case"string":case"number":be=!0;break;case"object":switch(E.$$typeof){case e:case t:be=!0;break;case x:return be=E._init,me(be(E._payload),Z,ne,te,le)}}if(be)return le=le(E),be=te===""?"."+ue(E,0):te,T(le)?(ne="",be!=null&&(ne=be.replace(ie,"$&/")+"/"),me(le,Z,ne,"",function(at){return at})):le!=null&&(q(le)&&(le=K(le,ne+(le.key==null||E&&E.key===le.key?"":(""+le.key).replace(ie,"$&/")+"/")+be)),Z.push(le)),1;be=0;var Ee=te===""?".":te+":";if(T(E))for(var Me=0;Me<E.length;Me++)te=E[Me],ke=Ee+ue(te,Me),be+=me(te,Z,ne,ke,le);else if(Me=v(E),typeof Me=="function")for(E=Me.call(E),Me=0;!(te=E.next()).done;)te=te.value,ke=Ee+ue(te,Me++),be+=me(te,Z,ne,ke,le);else if(ke==="object"){if(typeof E.then=="function")return me(de(E),Z,ne,te,le);throw Z=String(E),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return be}function D(E,Z,ne){if(E==null)return E;var te=[],le=0;return me(E,te,"","",function(ke){return Z.call(ne,ke,le++)}),te}function Q(E){if(E._status===-1){var Z=E._result;Z=Z(),Z.then(function(ne){(E._status===0||E._status===-1)&&(E._status=1,E._result=ne)},function(ne){(E._status===0||E._status===-1)&&(E._status=2,E._result=ne)}),E._status===-1&&(E._status=0,E._result=Z)}if(E._status===1)return E._result.default;throw E._result}var G=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function ee(){}return Ae.Children={map:D,forEach:function(E,Z,ne){D(E,function(){Z.apply(this,arguments)},ne)},count:function(E){var Z=0;return D(E,function(){Z++}),Z},toArray:function(E){return D(E,function(Z){return Z})||[]},only:function(E){if(!q(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ae.Component=k,Ae.Fragment=r,Ae.Profiler=l,Ae.PureComponent=M,Ae.StrictMode=a,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(E){return B.H.useMemoCache(E)}},Ae.cache=function(E){return function(){return E.apply(null,arguments)}},Ae.cloneElement=function(E,Z,ne){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var te=b({},E.props),le=E.key,ke=void 0;if(Z!=null)for(be in Z.ref!==void 0&&(ke=void 0),Z.key!==void 0&&(le=""+Z.key),Z)!z.call(Z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Z.ref===void 0||(te[be]=Z[be]);var be=arguments.length-2;if(be===1)te.children=ne;else if(1<be){for(var Ee=Array(be),Me=0;Me<be;Me++)Ee[Me]=arguments[Me+2];te.children=Ee}return J(E.type,le,void 0,void 0,ke,te)},Ae.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},Ae.createElement=function(E,Z,ne){var te,le={},ke=null;if(Z!=null)for(te in Z.key!==void 0&&(ke=""+Z.key),Z)z.call(Z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=Z[te]);var be=arguments.length-2;if(be===1)le.children=ne;else if(1<be){for(var Ee=Array(be),Me=0;Me<be;Me++)Ee[Me]=arguments[Me+2];le.children=Ee}if(E&&E.defaultProps)for(te in be=E.defaultProps,be)le[te]===void 0&&(le[te]=be[te]);return J(E,ke,void 0,void 0,null,le)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(E){return{$$typeof:f,render:E}},Ae.isValidElement=q,Ae.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:Q}},Ae.memo=function(E,Z){return{$$typeof:p,type:E,compare:Z===void 0?null:Z}},Ae.startTransition=function(E){var Z=B.T,ne={};B.T=ne;try{var te=E(),le=B.S;le!==null&&le(ne,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ee,G)}catch(ke){G(ke)}finally{B.T=Z}},Ae.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ae.use=function(E){return B.H.use(E)},Ae.useActionState=function(E,Z,ne){return B.H.useActionState(E,Z,ne)},Ae.useCallback=function(E,Z){return B.H.useCallback(E,Z)},Ae.useContext=function(E){return B.H.useContext(E)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(E,Z){return B.H.useDeferredValue(E,Z)},Ae.useEffect=function(E,Z,ne){var te=B.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(E,Z)},Ae.useId=function(){return B.H.useId()},Ae.useImperativeHandle=function(E,Z,ne){return B.H.useImperativeHandle(E,Z,ne)},Ae.useInsertionEffect=function(E,Z){return B.H.useInsertionEffect(E,Z)},Ae.useLayoutEffect=function(E,Z){return B.H.useLayoutEffect(E,Z)},Ae.useMemo=function(E,Z){return B.H.useMemo(E,Z)},Ae.useOptimistic=function(E,Z){return B.H.useOptimistic(E,Z)},Ae.useReducer=function(E,Z,ne){return B.H.useReducer(E,Z,ne)},Ae.useRef=function(E){return B.H.useRef(E)},Ae.useState=function(E){return B.H.useState(E)},Ae.useSyncExternalStore=function(E,Z,ne){return B.H.useSyncExternalStore(E,Z,ne)},Ae.useTransition=function(){return B.H.useTransition()},Ae.version="19.1.0",Ae}var hv;function yc(){return hv||(hv=1,hm.exports=Dk()),hm.exports}var C=yc();const _o=pw(C),Uk=Rk({__proto__:null,default:_o},[C]);var mm={exports:{}},ql={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function Ik(){return mv||(mv=1,function(e){function t(D,Q){var G=D.length;D.push(Q);e:for(;0<G;){var ee=G-1>>>1,E=D[ee];if(0<l(E,Q))D[ee]=Q,D[G]=E,G=ee;else break e}}function r(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var Q=D[0],G=D.pop();if(G!==Q){D[0]=G;e:for(var ee=0,E=D.length,Z=E>>>1;ee<Z;){var ne=2*(ee+1)-1,te=D[ne],le=ne+1,ke=D[le];if(0>l(te,G))le<E&&0>l(ke,te)?(D[ee]=ke,D[le]=G,ee=le):(D[ee]=te,D[ne]=G,ee=ne);else if(le<E&&0>l(ke,G))D[ee]=ke,D[le]=G,ee=le;else break e}}return Q}function l(D,Q){var G=D.sortIndex-Q.sortIndex;return G!==0?G:D.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],p=[],x=1,g=null,v=3,w=!1,b=!1,N=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function T(D){for(var Q=r(p);Q!==null;){if(Q.callback===null)a(p);else if(Q.startTime<=D)a(p),Q.sortIndex=Q.expirationTime,t(m,Q);else break;Q=r(p)}}function B(D){if(N=!1,T(D),!b)if(r(m)!==null)b=!0,z||(z=!0,ue());else{var Q=r(p);Q!==null&&me(B,Q.startTime-D)}}var z=!1,J=-1,K=5,q=-1;function L(){return k?!0:!(e.unstable_now()-q<K)}function ie(){if(k=!1,z){var D=e.unstable_now();q=D;var Q=!0;try{e:{b=!1,N&&(N=!1,M(J),J=-1),w=!0;var G=v;try{t:{for(T(D),g=r(m);g!==null&&!(g.expirationTime>D&&L());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var E=ee(g.expirationTime<=D);if(D=e.unstable_now(),typeof E=="function"){g.callback=E,T(D),Q=!0;break t}g===r(m)&&a(m),T(D)}else a(m);g=r(m)}if(g!==null)Q=!0;else{var Z=r(p);Z!==null&&me(B,Z.startTime-D),Q=!1}}break e}finally{g=null,v=G,w=!1}Q=void 0}}finally{Q?ue():z=!1}}}var ue;if(typeof U=="function")ue=function(){U(ie)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,de=he.port2;he.port1.onmessage=ie,ue=function(){de.postMessage(null)}}else ue=function(){R(ie,0)};function me(D,Q){J=R(function(){D(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var G=v;v=Q;try{return D()}finally{v=G}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(D,Q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=v;v=D;try{return Q()}finally{v=G}},e.unstable_scheduleCallback=function(D,Q,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,D){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=G+E,D={id:x++,callback:Q,priorityLevel:D,startTime:G,expirationTime:E,sortIndex:-1},G>ee?(D.sortIndex=G,t(p,D),r(m)===null&&D===r(p)&&(N?(M(J),J=-1):N=!0,me(B,G-ee))):(D.sortIndex=E,t(m,D),b||w||(b=!0,z||(z=!0,ue()))),D},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(D){var Q=v;return function(){var G=v;v=Q;try{return D.apply(this,arguments)}finally{v=G}}}}(gm)),gm}var pv;function Mk(){return pv||(pv=1,pm.exports=Ik()),pm.exports}var ym={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function zk(){if(gv)return an;gv=1;var e=yc();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,p,x){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:m,containerInfo:p,implementation:x}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(m,p,null,x)},an.flushSync=function(m){var p=d.T,x=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=p,a.p=x,a.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,g=f(x,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:w}):x==="script"&&a.d.X(m,{crossOrigin:g,integrity:v,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,g=f(x,p.crossOrigin);a.d.L(m,x,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},an.requestFormReset=function(m){a.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,x){return d.H.useFormState(m,p,x)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.1.0",an}var yv;function gw(){if(yv)return ym.exports;yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ym.exports=zk(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function Lk(){if(xv)return ql;xv=1;var e=Mk(),t=yc(),r=gw();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,i=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(i=s.return),n=s.return;while(n)}return s.tag===3?i:null}function d(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(c(n)!==n)throw Error(a(188))}function m(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(a(188));return s!==n?null:n}for(var i=n,u=s;;){var h=i.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===i)return f(h),n;if(y===u)return f(h),s;y=y.sibling}throw Error(a(188))}if(i.return!==u.return)i=h,u=y;else{for(var S=!1,j=h.child;j;){if(j===i){S=!0,i=h,u=y;break}if(j===u){S=!0,u=h,i=y;break}j=j.sibling}if(!S){for(j=y.child;j;){if(j===i){S=!0,i=y,u=h;break}if(j===u){S=!0,u=y,i=h;break}j=j.sibling}if(!S)throw Error(a(189))}}if(i.alternate!==u)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var x=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),U=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ue(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var he=Symbol.for("react.client.reference");function de(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===he?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case B:return"Suspense";case z:return"SuspenseList";case q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case U:return(n.displayName||"Context")+".Provider";case M:return(n._context.displayName||"Context")+".Consumer";case T:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return s=n.displayName||null,s!==null?s:de(n.type)||"Memo";case K:s=n._payload,n=n._init;try{return de(n(s))}catch{}}return null}var me=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ee=[],E=-1;function Z(n){return{current:n}}function ne(n){0>E||(n.current=ee[E],ee[E]=null,E--)}function te(n,s){E++,ee[E]=n.current,n.current=s}var le=Z(null),ke=Z(null),be=Z(null),Ee=Z(null);function Me(n,s){switch(te(be,s),te(ke,n),te(le,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?zx(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=zx(s),n=Lx(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(le),te(le,n)}function at(){ne(le),ne(ke),ne(be)}function Mn(n){n.memoizedState!==null&&te(Ee,n);var s=le.current,i=Lx(s,n.type);s!==i&&(te(ke,n),te(le,i))}function zn(n){ke.current===n&&(ne(le),ne(ke)),Ee.current===n&&(ne(Ee),Ml._currentValue=G)}var tn=Object.prototype.hasOwnProperty,Vo=e.unstable_scheduleCallback,Ho=e.unstable_cancelCallback,wc=e.unstable_shouldYield,Jd=e.unstable_requestPaint,Ln=e.unstable_now,Xd=e.unstable_getCurrentPriorityLevel,va=e.unstable_ImmediatePriority,ba=e.unstable_UserBlockingPriority,wa=e.unstable_NormalPriority,Sc=e.unstable_LowPriority,ht=e.unstable_IdlePriority,nn=e.log,pr=e.unstable_setDisableYieldValue,fi=null,jn=null;function vs(n){if(typeof nn=="function"&&pr(n),jn&&typeof jn.setStrictMode=="function")try{jn.setStrictMode(fi,n)}catch{}}var kn=Math.clz32?Math.clz32:mN,fN=Math.log,hN=Math.LN2;function mN(n){return n>>>=0,n===0?32:31-(fN(n)/hN|0)|0}var Nc=256,jc=4194304;function Sa(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function kc(n,s,i){var u=n.pendingLanes;if(u===0)return 0;var h=0,y=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var j=u&134217727;return j!==0?(u=j&~y,u!==0?h=Sa(u):(S&=j,S!==0?h=Sa(S):i||(i=j&~n,i!==0&&(h=Sa(i))))):(j=u&~y,j!==0?h=Sa(j):S!==0?h=Sa(S):i||(i=u&~n,i!==0&&(h=Sa(i)))),h===0?0:s!==0&&s!==h&&(s&y)===0&&(y=h&-h,i=s&-s,y>=i||y===32&&(i&4194048)!==0)?s:h}function Go(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function pN(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bg(){var n=Nc;return Nc<<=1,(Nc&4194048)===0&&(Nc=256),n}function wg(){var n=jc;return jc<<=1,(jc&62914560)===0&&(jc=4194304),n}function Wd(n){for(var s=[],i=0;31>i;i++)s.push(n);return s}function Ko(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function gN(n,s,i,u,h,y){var S=n.pendingLanes;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=i,n.entangledLanes&=i,n.errorRecoveryDisabledLanes&=i,n.shellSuspendCounter=0;var j=n.entanglements,A=n.expirationTimes,$=n.hiddenUpdates;for(i=S&~i;0<i;){var F=31-kn(i),W=1<<F;j[F]=0,A[F]=-1;var V=$[F];if(V!==null)for($[F]=null,F=0;F<V.length;F++){var H=V[F];H!==null&&(H.lane&=-536870913)}i&=~W}u!==0&&Sg(n,u,0),y!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=y&~(S&~s))}function Sg(n,s,i){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-kn(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|i&4194090}function Ng(n,s){var i=n.entangledLanes|=s;for(n=n.entanglements;i;){var u=31-kn(i),h=1<<u;h&s|n[u]&s&&(n[u]|=s),i&=~h}}function ef(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function tf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function jg(){var n=Q.p;return n!==0?n:(n=window.event,n===void 0?32:rv(n.type))}function yN(n,s){var i=Q.p;try{return Q.p=n,s()}finally{Q.p=i}}var bs=Math.random().toString(36).slice(2),rn="__reactFiber$"+bs,hn="__reactProps$"+bs,hi="__reactContainer$"+bs,nf="__reactEvents$"+bs,xN="__reactListeners$"+bs,vN="__reactHandles$"+bs,kg="__reactResources$"+bs,Zo="__reactMarker$"+bs;function rf(n){delete n[rn],delete n[hn],delete n[nf],delete n[xN],delete n[vN]}function mi(n){var s=n[rn];if(s)return s;for(var i=n.parentNode;i;){if(s=i[hi]||i[rn]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(n=qx(n);n!==null;){if(i=n[rn])return i;n=qx(n)}return s}n=i,i=n.parentNode}return null}function pi(n){if(n=n[rn]||n[hi]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Fo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function gi(n){var s=n[kg];return s||(s=n[kg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(n){n[Zo]=!0}var _g=new Set,Eg={};function Na(n,s){yi(n,s),yi(n+"Capture",s)}function yi(n,s){for(Eg[n]=s,n=0;n<s.length;n++)_g.add(s[n])}var bN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ag={},Tg={};function wN(n){return tn.call(Tg,n)?!0:tn.call(Ag,n)?!1:bN.test(n)?Tg[n]=!0:(Ag[n]=!0,!1)}function _c(n,s,i){if(wN(s))if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+i)}}function Ec(n,s,i){if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+i)}}function qr(n,s,i,u){if(u===null)n.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttributeNS(s,i,""+u)}}var sf,Rg;function xi(n){if(sf===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);sf=s&&s[1]||"",Rg=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sf+n+Rg}var af=!1;function of(n,s){if(!n||af)return"";af=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var V=H}Reflect.construct(n,[],W)}else{try{W.call()}catch(H){V=H}n.call(W.prototype)}}else{try{throw Error()}catch(H){V=H}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&V&&typeof H.stack=="string")return[H.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],j=y[1];if(S&&j){var A=S.split(`
`),$=j.split(`
`);for(h=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(u===A.length||h===$.length)for(u=A.length-1,h=$.length-1;1<=u&&0<=h&&A[u]!==$[h];)h--;for(;1<=u&&0<=h;u--,h--)if(A[u]!==$[h]){if(u!==1||h!==1)do if(u--,h--,0>h||A[u]!==$[h]){var F=`
`+A[u].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=u&&0<=h);break}}}finally{af=!1,Error.prepareStackTrace=i}return(i=n?n.displayName||n.name:"")?xi(i):""}function SN(n){switch(n.tag){case 26:case 27:case 5:return xi(n.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return of(n.type,!1);case 11:return of(n.type.render,!1);case 1:return of(n.type,!0);case 31:return xi("Activity");default:return""}}function Cg(n){try{var s="";do s+=SN(n),n=n.return;while(n);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Og(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function NN(n){var s=Og(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,y=i.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(n,s,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ac(n){n._valueTracker||(n._valueTracker=NN(n))}function Dg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var i=s.getValue(),u="";return n&&(u=Og(n)?n.checked?"true":"false":n.value),n=u,n!==i?(s.setValue(n),!0):!1}function Tc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var jN=/[\n"\\]/g;function $n(n){return n.replace(jN,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function lf(n,s,i,u,h,y,S,j){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),s!=null?S==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Pn(s)):n.value!==""+Pn(s)&&(n.value=""+Pn(s)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),s!=null?cf(n,S,Pn(s)):i!=null?cf(n,S,Pn(i)):u!=null&&n.removeAttribute("value"),h==null&&y!=null&&(n.defaultChecked=!!y),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?n.name=""+Pn(j):n.removeAttribute("name")}function Ug(n,s,i,u,h,y,S,j){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||i!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;i=i!=null?""+Pn(i):"",s=s!=null?""+Pn(s):i,j||s===n.value||(n.value=s),n.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=j?n.checked:!!u,n.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function cf(n,s,i){s==="number"&&Tc(n.ownerDocument)===n||n.defaultValue===""+i||(n.defaultValue=""+i)}function vi(n,s,i,u){if(n=n.options,s){s={};for(var h=0;h<i.length;h++)s["$"+i[h]]=!0;for(i=0;i<n.length;i++)h=s.hasOwnProperty("$"+n[i].value),n[i].selected!==h&&(n[i].selected=h),h&&u&&(n[i].defaultSelected=!0)}else{for(i=""+Pn(i),s=null,h=0;h<n.length;h++){if(n[h].value===i){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function Ig(n,s,i){if(s!=null&&(s=""+Pn(s),s!==n.value&&(n.value=s),i==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=i!=null?""+Pn(i):""}function Mg(n,s,i,u){if(s==null){if(u!=null){if(i!=null)throw Error(a(92));if(me(u)){if(1<u.length)throw Error(a(93));u=u[0]}i=u}i==null&&(i=""),s=i}i=Pn(s),n.defaultValue=i,u=n.textContent,u===i&&u!==""&&u!==null&&(n.value=u)}function bi(n,s){if(s){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=s;return}}n.textContent=s}var kN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zg(n,s,i){var u=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,i):typeof i!="number"||i===0||kN.has(s)?s==="float"?n.cssFloat=i:n[s]=(""+i).trim():n[s]=i+"px"}function Lg(n,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,i!=null){for(var u in i)!i.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&i[h]!==u&&zg(n,h,u)}else for(var y in s)s.hasOwnProperty(y)&&zg(n,y,s[y])}function uf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _N=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rc(n){return EN.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var df=null;function ff(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wi=null,Si=null;function Pg(n){var s=pi(n);if(s&&(n=s.stateNode)){var i=n[hn]||null;e:switch(n=s.stateNode,s.type){case"input":if(lf(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+$n(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var u=i[s];if(u!==n&&u.form===n.form){var h=u[hn]||null;if(!h)throw Error(a(90));lf(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<i.length;s++)u=i[s],u.form===n.form&&Dg(u)}break e;case"textarea":Ig(n,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&vi(n,!!i.multiple,s,!1)}}}var hf=!1;function $g(n,s,i){if(hf)return n(s,i);hf=!0;try{var u=n(s);return u}finally{if(hf=!1,(wi!==null||Si!==null)&&(pu(),wi&&(s=wi,n=Si,Si=wi=null,Pg(s),n)))for(s=0;s<n.length;s++)Pg(n[s])}}function Qo(n,s){var i=n.stateNode;if(i===null)return null;var u=i[hn]||null;if(u===null)return null;i=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=!1;if(Vr)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){mf=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{mf=!1}var ws=null,pf=null,Cc=null;function Bg(){if(Cc)return Cc;var n,s=pf,i=s.length,u,h="value"in ws?ws.value:ws.textContent,y=h.length;for(n=0;n<i&&s[n]===h[n];n++);var S=i-n;for(u=1;u<=S&&s[i-u]===h[y-u];u++);return Cc=h.slice(n,1<u?1-u:void 0)}function Oc(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Dc(){return!0}function qg(){return!1}function mn(n){function s(i,u,h,y,S){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(i=n[j],this[j]=i?i(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Dc:qg,this.isPropagationStopped=qg,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),s}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=mn(ja),Jo=x({},ja,{view:0,detail:0}),AN=mn(Jo),gf,yf,Xo,Ic=x({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xo&&(Xo&&n.type==="mousemove"?(gf=n.screenX-Xo.screenX,yf=n.screenY-Xo.screenY):yf=gf=0,Xo=n),gf)},movementY:function(n){return"movementY"in n?n.movementY:yf}}),Vg=mn(Ic),TN=x({},Ic,{dataTransfer:0}),RN=mn(TN),CN=x({},Jo,{relatedTarget:0}),xf=mn(CN),ON=x({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),DN=mn(ON),UN=x({},ja,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),IN=mn(UN),MN=x({},ja,{data:0}),Hg=mn(MN),zN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $N(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=PN[n])?!!s[n]:!1}function vf(){return $N}var BN=x({},Jo,{key:function(n){if(n.key){var s=zN[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Oc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?LN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vf,charCode:function(n){return n.type==="keypress"?Oc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Oc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qN=mn(BN),VN=x({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gg=mn(VN),HN=x({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vf}),GN=mn(HN),KN=x({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZN=mn(KN),FN=x({},Ic,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),QN=mn(FN),YN=x({},ja,{newState:0,oldState:0}),JN=mn(YN),XN=[9,13,27,32],bf=Vr&&"CompositionEvent"in window,Wo=null;Vr&&"documentMode"in document&&(Wo=document.documentMode);var WN=Vr&&"TextEvent"in window&&!Wo,Kg=Vr&&(!bf||Wo&&8<Wo&&11>=Wo),Zg=" ",Fg=!1;function Qg(n,s){switch(n){case"keyup":return XN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ni=!1;function ej(n,s){switch(n){case"compositionend":return Yg(s);case"keypress":return s.which!==32?null:(Fg=!0,Zg);case"textInput":return n=s.data,n===Zg&&Fg?null:n;default:return null}}function tj(n,s){if(Ni)return n==="compositionend"||!bf&&Qg(n,s)?(n=Bg(),Cc=pf=ws=null,Ni=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Kg&&s.locale!=="ko"?null:s.data;default:return null}}var nj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!nj[n.type]:s==="textarea"}function Xg(n,s,i,u){wi?Si?Si.push(u):Si=[u]:wi=u,s=wu(s,"onChange"),0<s.length&&(i=new Uc("onChange","change",null,i,u),n.push({event:i,listeners:s}))}var el=null,tl=null;function rj(n){Ox(n,0)}function Mc(n){var s=Fo(n);if(Dg(s))return n}function Wg(n,s){if(n==="change")return s}var ey=!1;if(Vr){var wf;if(Vr){var Sf="oninput"in document;if(!Sf){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Sf=typeof ty.oninput=="function"}wf=Sf}else wf=!1;ey=wf&&(!document.documentMode||9<document.documentMode)}function ny(){el&&(el.detachEvent("onpropertychange",ry),tl=el=null)}function ry(n){if(n.propertyName==="value"&&Mc(tl)){var s=[];Xg(s,tl,n,ff(n)),$g(rj,s)}}function sj(n,s,i){n==="focusin"?(ny(),el=s,tl=i,el.attachEvent("onpropertychange",ry)):n==="focusout"&&ny()}function aj(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mc(tl)}function ij(n,s){if(n==="click")return Mc(s)}function oj(n,s){if(n==="input"||n==="change")return Mc(s)}function lj(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var _n=typeof Object.is=="function"?Object.is:lj;function nl(n,s){if(_n(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var i=Object.keys(n),u=Object.keys(s);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!tn.call(s,h)||!_n(n[h],s[h]))return!1}return!0}function sy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ay(n,s){var i=sy(n);n=0;for(var u;i;){if(i.nodeType===3){if(u=n+i.textContent.length,n<=s&&u>=s)return{node:i,offset:s-n};n=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=sy(i)}}function iy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?iy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function oy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Tc(n.document);s instanceof n.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)n=s.contentWindow;else break;s=Tc(n.document)}return s}function Nf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var cj=Vr&&"documentMode"in document&&11>=document.documentMode,ji=null,jf=null,rl=null,kf=!1;function ly(n,s,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;kf||ji==null||ji!==Tc(u)||(u=ji,"selectionStart"in u&&Nf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rl&&nl(rl,u)||(rl=u,u=wu(jf,"onSelect"),0<u.length&&(s=new Uc("onSelect","select",null,s,i),n.push({event:s,listeners:u}),s.target=ji)))}function ka(n,s){var i={};return i[n.toLowerCase()]=s.toLowerCase(),i["Webkit"+n]="webkit"+s,i["Moz"+n]="moz"+s,i}var ki={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},_f={},cy={};Vr&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function _a(n){if(_f[n])return _f[n];if(!ki[n])return n;var s=ki[n],i;for(i in s)if(s.hasOwnProperty(i)&&i in cy)return _f[n]=s[i];return n}var uy=_a("animationend"),dy=_a("animationiteration"),fy=_a("animationstart"),uj=_a("transitionrun"),dj=_a("transitionstart"),fj=_a("transitioncancel"),hy=_a("transitionend"),my=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function tr(n,s){my.set(n,s),Na(s,[n])}var py=new WeakMap;function Bn(n,s){if(typeof n=="object"&&n!==null){var i=py.get(n);return i!==void 0?i:(s={value:n,source:s,stack:Cg(s)},py.set(n,s),s)}return{value:n,source:s,stack:Cg(s)}}var qn=[],_i=0,Af=0;function zc(){for(var n=_i,s=Af=_i=0;s<n;){var i=qn[s];qn[s++]=null;var u=qn[s];qn[s++]=null;var h=qn[s];qn[s++]=null;var y=qn[s];if(qn[s++]=null,u!==null&&h!==null){var S=u.pending;S===null?h.next=h:(h.next=S.next,S.next=h),u.pending=h}y!==0&&gy(i,h,y)}}function Lc(n,s,i,u){qn[_i++]=n,qn[_i++]=s,qn[_i++]=i,qn[_i++]=u,Af|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Tf(n,s,i,u){return Lc(n,s,i,u),Pc(n)}function Ei(n,s){return Lc(n,null,null,s),Pc(n)}function gy(n,s,i){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i);for(var h=!1,y=n.return;y!==null;)y.childLanes|=i,u=y.alternate,u!==null&&(u.childLanes|=i),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(h=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,h&&s!==null&&(h=31-kn(i),n=y.hiddenUpdates,u=n[h],u===null?n[h]=[s]:u.push(s),s.lane=i|536870912),y):null}function Pc(n){if(50<Al)throw Al=0,Ih=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ai={};function hj(n,s,i,u){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,s,i,u){return new hj(n,s,i,u)}function Rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hr(n,s){var i=n.alternate;return i===null?(i=En(n.tag,s,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=s,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&65011712,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,s=n.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i.refCleanup=n.refCleanup,i}function yy(n,s){n.flags&=65011714;var i=n.alternate;return i===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,s=i.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function $c(n,s,i,u,h,y){var S=0;if(u=n,typeof n=="function")Rf(n)&&(S=1);else if(typeof n=="string")S=pk(n,i,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case q:return n=En(31,i,s,h),n.elementType=q,n.lanes=y,n;case b:return Ea(i.children,h,y,s);case N:S=8,h|=24;break;case k:return n=En(12,i,s,h|2),n.elementType=k,n.lanes=y,n;case B:return n=En(13,i,s,h),n.elementType=B,n.lanes=y,n;case z:return n=En(19,i,s,h),n.elementType=z,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:case U:S=10;break e;case M:S=9;break e;case T:S=11;break e;case J:S=14;break e;case K:S=16,u=null;break e}S=29,i=Error(a(130,n===null?"null":typeof n,"")),u=null}return s=En(S,i,s,h),s.elementType=n,s.type=u,s.lanes=y,s}function Ea(n,s,i,u){return n=En(7,n,u,s),n.lanes=i,n}function Cf(n,s,i){return n=En(6,n,null,s),n.lanes=i,n}function Of(n,s,i){return s=En(4,n.children!==null?n.children:[],n.key,s),s.lanes=i,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ti=[],Ri=0,Bc=null,qc=0,Vn=[],Hn=0,Aa=null,Gr=1,Kr="";function Ta(n,s){Ti[Ri++]=qc,Ti[Ri++]=Bc,Bc=n,qc=s}function xy(n,s,i){Vn[Hn++]=Gr,Vn[Hn++]=Kr,Vn[Hn++]=Aa,Aa=n;var u=Gr;n=Kr;var h=32-kn(u)-1;u&=~(1<<h),i+=1;var y=32-kn(s)+h;if(30<y){var S=h-h%5;y=(u&(1<<S)-1).toString(32),u>>=S,h-=S,Gr=1<<32-kn(s)+h|i<<h|u,Kr=y+n}else Gr=1<<y|i<<h|u,Kr=n}function Df(n){n.return!==null&&(Ta(n,1),xy(n,1,0))}function Uf(n){for(;n===Bc;)Bc=Ti[--Ri],Ti[Ri]=null,qc=Ti[--Ri],Ti[Ri]=null;for(;n===Aa;)Aa=Vn[--Hn],Vn[Hn]=null,Kr=Vn[--Hn],Vn[Hn]=null,Gr=Vn[--Hn],Vn[Hn]=null}var on=null,bt=null,Ze=!1,Ra=null,gr=!1,If=Error(a(519));function Ca(n){var s=Error(a(418,""));throw il(Bn(s,n)),If}function vy(n){var s=n.stateNode,i=n.type,u=n.memoizedProps;switch(s[rn]=n,s[hn]=u,i){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(i=0;i<Rl.length;i++)Pe(Rl[i],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Ug(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ac(s);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Mg(s,u.value,u.defaultValue,u.children),Ac(s)}i=u.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||u.suppressHydrationWarning===!0||Mx(s.textContent,i)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=Su),s=!0):s=!1,s||Ca(n)}function by(n){for(on=n.return;on;)switch(on.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:on=on.return}}function sl(n){if(n!==on)return!1;if(!Ze)return by(n),Ze=!0,!1;var s=n.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=n.type,i=!(i!=="form"&&i!=="button")||Jh(n.type,n.memoizedProps)),i=!i),i&&bt&&Ca(n),by(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(i=n.data,i==="/$"){if(s===0){bt=rr(n.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++;n=n.nextSibling}bt=null}}else s===27?(s=bt,zs(n.type)?(n=tm,tm=null,bt=n):bt=s):bt=on?rr(n.stateNode.nextSibling):null;return!0}function al(){bt=on=null,Ze=!1}function wy(){var n=Ra;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Ra=null),n}function il(n){Ra===null?Ra=[n]:Ra.push(n)}var Mf=Z(null),Oa=null,Zr=null;function Ss(n,s,i){te(Mf,s._currentValue),s._currentValue=i}function Fr(n){n._currentValue=Mf.current,ne(Mf)}function zf(n,s,i){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===i)break;n=n.return}}function Lf(n,s,i,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var y=h.dependencies;if(y!==null){var S=h.child;y=y.firstContext;e:for(;y!==null;){var j=y;y=h;for(var A=0;A<s.length;A++)if(j.context===s[A]){y.lanes|=i,j=y.alternate,j!==null&&(j.lanes|=i),zf(y.return,i,n),u||(S=null);break e}y=j.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(a(341));S.lanes|=i,y=S.alternate,y!==null&&(y.lanes|=i),zf(S,i,n),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===n){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function ol(n,s,i,u){n=null;for(var h=s,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var j=h.type;_n(h.pendingProps.value,S.value)||(n!==null?n.push(j):n=[j])}}else if(h===Ee.current){if(S=h.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}h=h.return}n!==null&&Lf(s,n,i,u),s.flags|=262144}function Vc(n){for(n=n.firstContext;n!==null;){if(!_n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Da(n){Oa=n,Zr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return Sy(Oa,n)}function Hc(n,s){return Oa===null&&Da(n),Sy(n,s)}function Sy(n,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},Zr===null){if(n===null)throw Error(a(308));Zr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Zr=Zr.next=s;return i}var mj=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(i,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(i){return i()})}},pj=e.unstable_scheduleCallback,gj=e.unstable_NormalPriority,It={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new mj,data:new Map,refCount:0}}function ll(n){n.refCount--,n.refCount===0&&pj(gj,function(){n.controller.abort()})}var cl=null,$f=0,Ci=0,Oi=null;function yj(n,s){if(cl===null){var i=cl=[];$f=0,Ci=qh(),Oi={status:"pending",value:void 0,then:function(u){i.push(u)}}}return $f++,s.then(Ny,Ny),s}function Ny(){if(--$f===0&&cl!==null){Oi!==null&&(Oi.status="fulfilled");var n=cl;cl=null,Ci=0,Oi=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function xj(n,s){var i=[],u={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<i.length;h++)(0,i[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),u}var jy=D.S;D.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&yj(n,s),jy!==null&&jy(n,s)};var Ua=Z(null);function Bf(){var n=Ua.current;return n!==null?n:ct.pooledCache}function Gc(n,s){s===null?te(Ua,Ua.current):te(Ua,s.pool)}function ky(){var n=Bf();return n===null?null:{parent:It._currentValue,pool:n}}var ul=Error(a(460)),_y=Error(a(474)),Kc=Error(a(542)),qf={then:function(){}};function Ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Zc(){}function Ay(n,s,i){switch(i=n[i],i===void 0?n.push(s):i!==s&&(s.then(Zc,Zc),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ry(n),n;default:if(typeof s.status=="string")s.then(Zc,Zc);else{if(n=ct,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ry(n),n}throw dl=s,ul}}var dl=null;function Ty(){if(dl===null)throw Error(a(459));var n=dl;return dl=null,n}function Ry(n){if(n===ul||n===Kc)throw Error(a(483))}var Ns=!1;function Vf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function js(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ks(n,s,i){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Pc(n),gy(n,null,i),s}return Lc(n,u,s,i),Pc(n)}function fl(n,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,i|=u,s.lanes=i,Ng(n,i)}}function Gf(n,s){var i=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,y=null;if(i=i.firstBaseUpdate,i!==null){do{var S={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};y===null?h=y=S:y=y.next=S,i=i.next}while(i!==null);y===null?h=y=s:y=y.next=s}else h=y=s;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=s:n.next=s,i.lastBaseUpdate=s}var Kf=!1;function hl(){if(Kf){var n=Oi;if(n!==null)throw n}}function ml(n,s,i,u){Kf=!1;var h=n.updateQueue;Ns=!1;var y=h.firstBaseUpdate,S=h.lastBaseUpdate,j=h.shared.pending;if(j!==null){h.shared.pending=null;var A=j,$=A.next;A.next=null,S===null?y=$:S.next=$,S=A;var F=n.alternate;F!==null&&(F=F.updateQueue,j=F.lastBaseUpdate,j!==S&&(j===null?F.firstBaseUpdate=$:j.next=$,F.lastBaseUpdate=A))}if(y!==null){var W=h.baseState;S=0,F=$=A=null,j=y;do{var V=j.lane&-536870913,H=V!==j.lane;if(H?(qe&V)===V:(u&V)===V){V!==0&&V===Ci&&(Kf=!0),F!==null&&(F=F.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var _e=n,Ne=j;V=s;var nt=i;switch(Ne.tag){case 1:if(_e=Ne.payload,typeof _e=="function"){W=_e.call(nt,W,V);break e}W=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ne.payload,V=typeof _e=="function"?_e.call(nt,W,V):_e,V==null)break e;W=x({},W,V);break e;case 2:Ns=!0}}V=j.callback,V!==null&&(n.flags|=64,H&&(n.flags|=8192),H=h.callbacks,H===null?h.callbacks=[V]:H.push(V))}else H={lane:V,tag:j.tag,payload:j.payload,callback:j.callback,next:null},F===null?($=F=H,A=W):F=F.next=H,S|=V;if(j=j.next,j===null){if(j=h.shared.pending,j===null)break;H=j,j=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(A=W),h.baseState=A,h.firstBaseUpdate=$,h.lastBaseUpdate=F,y===null&&(h.shared.lanes=0),Ds|=S,n.lanes=S,n.memoizedState=W}}function Cy(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function Oy(n,s){var i=n.callbacks;if(i!==null)for(n.callbacks=null,n=0;n<i.length;n++)Cy(i[n],s)}var Di=Z(null),Fc=Z(0);function Dy(n,s){n=ts,te(Fc,n),te(Di,s),ts=n|s.baseLanes}function Zf(){te(Fc,ts),te(Di,Di.current)}function Ff(){ts=Fc.current,ne(Di),ne(Fc)}var _s=0,Ue=null,et=null,Ct=null,Qc=!1,Ui=!1,Ia=!1,Yc=0,pl=0,Ii=null,vj=0;function Et(){throw Error(a(321))}function Qf(n,s){if(s===null)return!1;for(var i=0;i<s.length&&i<n.length;i++)if(!_n(n[i],s[i]))return!1;return!0}function Yf(n,s,i,u,h,y){return _s=y,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=n===null||n.memoizedState===null?g0:y0,Ia=!1,y=i(u,h),Ia=!1,Ui&&(y=Iy(s,i,u,h)),Uy(n),y}function Uy(n){D.H=nu;var s=et!==null&&et.next!==null;if(_s=0,Ct=et=Ue=null,Qc=!1,pl=0,Ii=null,s)throw Error(a(300));n===null||Vt||(n=n.dependencies,n!==null&&Vc(n)&&(Vt=!0))}function Iy(n,s,i,u){Ue=n;var h=0;do{if(Ui&&(Ii=null),pl=0,Ui=!1,25<=h)throw Error(a(301));if(h+=1,Ct=et=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}D.H=_j,y=s(i,u)}while(Ui);return y}function bj(){var n=D.H,s=n.useState()[0];return s=typeof s.then=="function"?gl(s):s,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Ue.flags|=1024),s}function Jf(){var n=Yc!==0;return Yc=0,n}function Xf(n,s,i){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~i}function Wf(n){if(Qc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Qc=!1}_s=0,Ct=et=Ue=null,Ui=!1,pl=Yc=0,Ii=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ue.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function Ot(){if(et===null){var n=Ue.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var s=Ct===null?Ue.memoizedState:Ct.next;if(s!==null)Ct=s,et=n;else{if(n===null)throw Ue.alternate===null?Error(a(467)):Error(a(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ue.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(n){var s=pl;return pl+=1,Ii===null&&(Ii=[]),n=Ay(Ii,n,s),s=Ue,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?g0:y0),n}function Jc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return gl(n);if(n.$$typeof===U)return sn(n)}throw Error(a(438,String(n)))}function th(n){var s=null,i=Ue.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=eh(),Ue.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(n),u=0;u<n;u++)i[u]=L;return s.index++,i}function Qr(n,s){return typeof s=="function"?s(n):s}function Xc(n){var s=Ot();return nh(s,et,n)}function nh(n,s,i){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var h=n.baseQueue,y=u.pending;if(y!==null){if(h!==null){var S=h.next;h.next=y.next,y.next=S}s.baseQueue=h=y,u.pending=null}if(y=n.baseState,h===null)n.memoizedState=y;else{s=h.next;var j=S=null,A=null,$=s,F=!1;do{var W=$.lane&-536870913;if(W!==$.lane?(qe&W)===W:(_s&W)===W){var V=$.revertLane;if(V===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),W===Ci&&(F=!0);else if((_s&V)===V){$=$.next,V===Ci&&(F=!0);continue}else W={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},A===null?(j=A=W,S=y):A=A.next=W,Ue.lanes|=V,Ds|=V;W=$.action,Ia&&i(y,W),y=$.hasEagerState?$.eagerState:i(y,W)}else V={lane:W,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},A===null?(j=A=V,S=y):A=A.next=V,Ue.lanes|=W,Ds|=W;$=$.next}while($!==null&&$!==s);if(A===null?S=y:A.next=j,!_n(y,n.memoizedState)&&(Vt=!0,F&&(i=Oi,i!==null)))throw i;n.memoizedState=y,n.baseState=S,n.baseQueue=A,u.lastRenderedState=y}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function rh(n){var s=Ot(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=n;var u=i.dispatch,h=i.pending,y=s.memoizedState;if(h!==null){i.pending=null;var S=h=h.next;do y=n(y,S.action),S=S.next;while(S!==h);_n(y,s.memoizedState)||(Vt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),i.lastRenderedState=y}return[y,u]}function My(n,s,i){var u=Ue,h=Ot(),y=Ze;if(y){if(i===void 0)throw Error(a(407));i=i()}else i=s();var S=!_n((et||h).memoizedState,i);S&&(h.memoizedState=i,Vt=!0),h=h.queue;var j=Py.bind(null,u,h,n);if(yl(2048,8,j,[n]),h.getSnapshot!==s||S||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,Mi(9,Wc(),Ly.bind(null,u,h,i,s),null),ct===null)throw Error(a(349));y||(_s&124)!==0||zy(u,s,i)}return i}function zy(n,s,i){n.flags|=16384,n={getSnapshot:s,value:i},s=Ue.updateQueue,s===null?(s=eh(),Ue.updateQueue=s,s.stores=[n]):(i=s.stores,i===null?s.stores=[n]:i.push(n))}function Ly(n,s,i,u){s.value=i,s.getSnapshot=u,$y(s)&&By(n)}function Py(n,s,i){return i(function(){$y(s)&&By(n)})}function $y(n){var s=n.getSnapshot;n=n.value;try{var i=s();return!_n(n,i)}catch{return!0}}function By(n){var s=Ei(n,2);s!==null&&On(s,n,2)}function sh(n){var s=pn();if(typeof n=="function"){var i=n;if(n=i(),Ia){vs(!0);try{i()}finally{vs(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:n},s}function qy(n,s,i,u){return n.baseState=i,nh(n,et,typeof u=="function"?u:Qr)}function wj(n,s,i,u,h){if(tu(n))throw Error(a(485));if(n=s.action,n!==null){var y={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};D.T!==null?i(!0):y.isTransition=!1,u(y),i=s.pending,i===null?(y.next=s.pending=y,Vy(s,y)):(y.next=i.next,s.pending=i.next=y)}}function Vy(n,s){var i=s.action,u=s.payload,h=n.state;if(s.isTransition){var y=D.T,S={};D.T=S;try{var j=i(h,u),A=D.S;A!==null&&A(S,j),Hy(n,s,j)}catch($){ah(n,s,$)}finally{D.T=y}}else try{y=i(h,u),Hy(n,s,y)}catch($){ah(n,s,$)}}function Hy(n,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(u){Gy(n,s,u)},function(u){return ah(n,s,u)}):Gy(n,s,i)}function Gy(n,s,i){s.status="fulfilled",s.value=i,Ky(s),n.state=i,s=n.pending,s!==null&&(i=s.next,i===s?n.pending=null:(i=i.next,s.next=i,Vy(n,i)))}function ah(n,s,i){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=i,Ky(s),s=s.next;while(s!==u)}n.action=null}function Ky(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Zy(n,s){return s}function Fy(n,s){if(Ze){var i=ct.formState;if(i!==null){e:{var u=Ue;if(Ze){if(bt){t:{for(var h=bt,y=gr;h.nodeType!==8;){if(!y){h=null;break t}if(h=rr(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){bt=rr(h.nextSibling),u=h.data==="F!";break e}}Ca(u)}u=!1}u&&(s=i[0])}}return i=pn(),i.memoizedState=i.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:s},i.queue=u,i=h0.bind(null,Ue,u),u.dispatch=i,u=sh(!1),y=uh.bind(null,Ue,!1,u.queue),u=pn(),h={state:s,dispatch:null,action:n,pending:null},u.queue=h,i=wj.bind(null,Ue,h,y,i),h.dispatch=i,u.memoizedState=n,[s,i,!1]}function Qy(n){var s=Ot();return Yy(s,et,n)}function Yy(n,s,i){if(s=nh(n,s,Zy)[0],n=Xc(Qr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=gl(s)}catch(S){throw S===ul?Kc:S}else u=s;s=Ot();var h=s.queue,y=h.dispatch;return i!==s.memoizedState&&(Ue.flags|=2048,Mi(9,Wc(),Sj.bind(null,h,i),null)),[u,y,n]}function Sj(n,s){n.action=s}function Jy(n){var s=Ot(),i=et;if(i!==null)return Yy(s,i,n);Ot(),s=s.memoizedState,i=Ot();var u=i.queue.dispatch;return i.memoizedState=n,[s,u,!1]}function Mi(n,s,i,u){return n={tag:n,create:i,deps:u,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=eh(),Ue.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=n.next=n:(u=i.next,i.next=n,n.next=u,s.lastEffect=n),n}function Wc(){return{destroy:void 0,resource:void 0}}function Xy(){return Ot().memoizedState}function eu(n,s,i,u){var h=pn();u=u===void 0?null:u,Ue.flags|=n,h.memoizedState=Mi(1|s,Wc(),i,u)}function yl(n,s,i,u){var h=Ot();u=u===void 0?null:u;var y=h.memoizedState.inst;et!==null&&u!==null&&Qf(u,et.memoizedState.deps)?h.memoizedState=Mi(s,y,i,u):(Ue.flags|=n,h.memoizedState=Mi(1|s,y,i,u))}function Wy(n,s){eu(8390656,8,n,s)}function e0(n,s){yl(2048,8,n,s)}function t0(n,s){return yl(4,2,n,s)}function n0(n,s){return yl(4,4,n,s)}function r0(n,s){if(typeof s=="function"){n=n();var i=s(n);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function s0(n,s,i){i=i!=null?i.concat([n]):null,yl(4,4,r0.bind(null,s,n),i)}function ih(){}function a0(n,s){var i=Ot();s=s===void 0?null:s;var u=i.memoizedState;return s!==null&&Qf(s,u[1])?u[0]:(i.memoizedState=[n,s],n)}function i0(n,s){var i=Ot();s=s===void 0?null:s;var u=i.memoizedState;if(s!==null&&Qf(s,u[1]))return u[0];if(u=n(),Ia){vs(!0);try{n()}finally{vs(!1)}}return i.memoizedState=[u,s],u}function oh(n,s,i){return i===void 0||(_s&1073741824)!==0?n.memoizedState=s:(n.memoizedState=i,n=cx(),Ue.lanes|=n,Ds|=n,i)}function o0(n,s,i,u){return _n(i,s)?i:Di.current!==null?(n=oh(n,i,u),_n(n,s)||(Vt=!0),n):(_s&42)===0?(Vt=!0,n.memoizedState=i):(n=cx(),Ue.lanes|=n,Ds|=n,s)}function l0(n,s,i,u,h){var y=Q.p;Q.p=y!==0&&8>y?y:8;var S=D.T,j={};D.T=j,uh(n,!1,s,i);try{var A=h(),$=D.S;if($!==null&&$(j,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=xj(A,u);xl(n,s,F,Cn(n))}else xl(n,s,u,Cn(n))}catch(W){xl(n,s,{then:function(){},status:"rejected",reason:W},Cn())}finally{Q.p=y,D.T=S}}function Nj(){}function lh(n,s,i,u){if(n.tag!==5)throw Error(a(476));var h=c0(n).queue;l0(n,h,s,G,i===null?Nj:function(){return u0(n),i(u)})}function c0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:G},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:i},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function u0(n){var s=c0(n).next.queue;xl(n,s,{},Cn())}function ch(){return sn(Ml)}function d0(){return Ot().memoizedState}function f0(){return Ot().memoizedState}function jj(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var i=Cn();n=js(i);var u=ks(s,n,i);u!==null&&(On(u,s,i),fl(u,s,i)),s={cache:Pf()},n.payload=s;return}s=s.return}}function kj(n,s,i){var u=Cn();i={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},tu(n)?m0(s,i):(i=Tf(n,s,i,u),i!==null&&(On(i,n,u),p0(i,s,u)))}function h0(n,s,i){var u=Cn();xl(n,s,i,u)}function xl(n,s,i,u){var h={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(tu(n))m0(s,h);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,j=y(S,i);if(h.hasEagerState=!0,h.eagerState=j,_n(j,S))return Lc(n,s,h,0),ct===null&&zc(),!1}catch{}finally{}if(i=Tf(n,s,h,u),i!==null)return On(i,n,u),p0(i,s,u),!0}return!1}function uh(n,s,i,u){if(u={lane:2,revertLane:qh(),action:u,hasEagerState:!1,eagerState:null,next:null},tu(n)){if(s)throw Error(a(479))}else s=Tf(n,i,u,2),s!==null&&On(s,n,2)}function tu(n){var s=n.alternate;return n===Ue||s!==null&&s===Ue}function m0(n,s){Ui=Qc=!0;var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}function p0(n,s,i){if((i&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,i|=u,s.lanes=i,Ng(n,i)}}var nu={readContext:sn,use:Jc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},g0={readContext:sn,use:Jc,useCallback:function(n,s){return pn().memoizedState=[n,s===void 0?null:s],n},useContext:sn,useEffect:Wy,useImperativeHandle:function(n,s,i){i=i!=null?i.concat([n]):null,eu(4194308,4,r0.bind(null,s,n),i)},useLayoutEffect:function(n,s){return eu(4194308,4,n,s)},useInsertionEffect:function(n,s){eu(4,2,n,s)},useMemo:function(n,s){var i=pn();s=s===void 0?null:s;var u=n();if(Ia){vs(!0);try{n()}finally{vs(!1)}}return i.memoizedState=[u,s],u},useReducer:function(n,s,i){var u=pn();if(i!==void 0){var h=i(s);if(Ia){vs(!0);try{i(s)}finally{vs(!1)}}}else h=s;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=kj.bind(null,Ue,n),[u.memoizedState,n]},useRef:function(n){var s=pn();return n={current:n},s.memoizedState=n},useState:function(n){n=sh(n);var s=n.queue,i=h0.bind(null,Ue,s);return s.dispatch=i,[n.memoizedState,i]},useDebugValue:ih,useDeferredValue:function(n,s){var i=pn();return oh(i,n,s)},useTransition:function(){var n=sh(!1);return n=l0.bind(null,Ue,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,i){var u=Ue,h=pn();if(Ze){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),ct===null)throw Error(a(349));(qe&124)!==0||zy(u,s,i)}h.memoizedState=i;var y={value:i,getSnapshot:s};return h.queue=y,Wy(Py.bind(null,u,y,n),[n]),u.flags|=2048,Mi(9,Wc(),Ly.bind(null,u,y,i,s),null),i},useId:function(){var n=pn(),s=ct.identifierPrefix;if(Ze){var i=Kr,u=Gr;i=(u&~(1<<32-kn(u)-1)).toString(32)+i,s="«"+s+"R"+i,i=Yc++,0<i&&(s+="H"+i.toString(32)),s+="»"}else i=vj++,s="«"+s+"r"+i.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:ch,useFormState:Fy,useActionState:Fy,useOptimistic:function(n){var s=pn();s.memoizedState=s.baseState=n;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=uh.bind(null,Ue,!0,i),i.dispatch=s,[n,s]},useMemoCache:th,useCacheRefresh:function(){return pn().memoizedState=jj.bind(null,Ue)}},y0={readContext:sn,use:Jc,useCallback:a0,useContext:sn,useEffect:e0,useImperativeHandle:s0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:i0,useReducer:Xc,useRef:Xy,useState:function(){return Xc(Qr)},useDebugValue:ih,useDeferredValue:function(n,s){var i=Ot();return o0(i,et.memoizedState,n,s)},useTransition:function(){var n=Xc(Qr)[0],s=Ot().memoizedState;return[typeof n=="boolean"?n:gl(n),s]},useSyncExternalStore:My,useId:d0,useHostTransitionStatus:ch,useFormState:Qy,useActionState:Qy,useOptimistic:function(n,s){var i=Ot();return qy(i,et,n,s)},useMemoCache:th,useCacheRefresh:f0},_j={readContext:sn,use:Jc,useCallback:a0,useContext:sn,useEffect:e0,useImperativeHandle:s0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:i0,useReducer:rh,useRef:Xy,useState:function(){return rh(Qr)},useDebugValue:ih,useDeferredValue:function(n,s){var i=Ot();return et===null?oh(i,n,s):o0(i,et.memoizedState,n,s)},useTransition:function(){var n=rh(Qr)[0],s=Ot().memoizedState;return[typeof n=="boolean"?n:gl(n),s]},useSyncExternalStore:My,useId:d0,useHostTransitionStatus:ch,useFormState:Jy,useActionState:Jy,useOptimistic:function(n,s){var i=Ot();return et!==null?qy(i,et,n,s):(i.baseState=n,[n,i.queue.dispatch])},useMemoCache:th,useCacheRefresh:f0},zi=null,vl=0;function ru(n){var s=vl;return vl+=1,zi===null&&(zi=[]),Ay(zi,n,s)}function bl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function su(n,s){throw s.$$typeof===g?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function x0(n){var s=n._init;return s(n._payload)}function v0(n){function s(I,O){if(n){var P=I.deletions;P===null?(I.deletions=[O],I.flags|=16):P.push(O)}}function i(I,O){if(!n)return null;for(;O!==null;)s(I,O),O=O.sibling;return null}function u(I){for(var O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function h(I,O){return I=Hr(I,O),I.index=0,I.sibling=null,I}function y(I,O,P){return I.index=P,n?(P=I.alternate,P!==null?(P=P.index,P<O?(I.flags|=67108866,O):P):(I.flags|=67108866,O)):(I.flags|=1048576,O)}function S(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function j(I,O,P,Y){return O===null||O.tag!==6?(O=Cf(P,I.mode,Y),O.return=I,O):(O=h(O,P),O.return=I,O)}function A(I,O,P,Y){var ge=P.type;return ge===b?F(I,O,P.props.children,Y,P.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===K&&x0(ge)===O.type)?(O=h(O,P.props),bl(O,P),O.return=I,O):(O=$c(P.type,P.key,P.props,null,I.mode,Y),bl(O,P),O.return=I,O)}function $(I,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Of(P,I.mode,Y),O.return=I,O):(O=h(O,P.children||[]),O.return=I,O)}function F(I,O,P,Y,ge){return O===null||O.tag!==7?(O=Ea(P,I.mode,Y,ge),O.return=I,O):(O=h(O,P),O.return=I,O)}function W(I,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Cf(""+O,I.mode,P),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return P=$c(O.type,O.key,O.props,null,I.mode,P),bl(P,O),P.return=I,P;case w:return O=Of(O,I.mode,P),O.return=I,O;case K:var Y=O._init;return O=Y(O._payload),W(I,O,P)}if(me(O)||ue(O))return O=Ea(O,I.mode,P,null),O.return=I,O;if(typeof O.then=="function")return W(I,ru(O),P);if(O.$$typeof===U)return W(I,Hc(I,O),P);su(I,O)}return null}function V(I,O,P,Y){var ge=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:j(I,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return P.key===ge?A(I,O,P,Y):null;case w:return P.key===ge?$(I,O,P,Y):null;case K:return ge=P._init,P=ge(P._payload),V(I,O,P,Y)}if(me(P)||ue(P))return ge!==null?null:F(I,O,P,Y,null);if(typeof P.then=="function")return V(I,O,ru(P),Y);if(P.$$typeof===U)return V(I,O,Hc(I,P),Y);su(I,P)}return null}function H(I,O,P,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return I=I.get(P)||null,j(O,I,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return I=I.get(Y.key===null?P:Y.key)||null,A(O,I,Y,ge);case w:return I=I.get(Y.key===null?P:Y.key)||null,$(O,I,Y,ge);case K:var ze=Y._init;return Y=ze(Y._payload),H(I,O,P,Y,ge)}if(me(Y)||ue(Y))return I=I.get(P)||null,F(O,I,Y,ge,null);if(typeof Y.then=="function")return H(I,O,P,ru(Y),ge);if(Y.$$typeof===U)return H(I,O,P,Hc(O,Y),ge);su(O,Y)}return null}function _e(I,O,P,Y){for(var ge=null,ze=null,we=O,je=O=0,Gt=null;we!==null&&je<P.length;je++){we.index>je?(Gt=we,we=null):Gt=we.sibling;var Ve=V(I,we,P[je],Y);if(Ve===null){we===null&&(we=Gt);break}n&&we&&Ve.alternate===null&&s(I,we),O=y(Ve,O,je),ze===null?ge=Ve:ze.sibling=Ve,ze=Ve,we=Gt}if(je===P.length)return i(I,we),Ze&&Ta(I,je),ge;if(we===null){for(;je<P.length;je++)we=W(I,P[je],Y),we!==null&&(O=y(we,O,je),ze===null?ge=we:ze.sibling=we,ze=we);return Ze&&Ta(I,je),ge}for(we=u(we);je<P.length;je++)Gt=H(we,I,je,P[je],Y),Gt!==null&&(n&&Gt.alternate!==null&&we.delete(Gt.key===null?je:Gt.key),O=y(Gt,O,je),ze===null?ge=Gt:ze.sibling=Gt,ze=Gt);return n&&we.forEach(function(qs){return s(I,qs)}),Ze&&Ta(I,je),ge}function Ne(I,O,P,Y){if(P==null)throw Error(a(151));for(var ge=null,ze=null,we=O,je=O=0,Gt=null,Ve=P.next();we!==null&&!Ve.done;je++,Ve=P.next()){we.index>je?(Gt=we,we=null):Gt=we.sibling;var qs=V(I,we,Ve.value,Y);if(qs===null){we===null&&(we=Gt);break}n&&we&&qs.alternate===null&&s(I,we),O=y(qs,O,je),ze===null?ge=qs:ze.sibling=qs,ze=qs,we=Gt}if(Ve.done)return i(I,we),Ze&&Ta(I,je),ge;if(we===null){for(;!Ve.done;je++,Ve=P.next())Ve=W(I,Ve.value,Y),Ve!==null&&(O=y(Ve,O,je),ze===null?ge=Ve:ze.sibling=Ve,ze=Ve);return Ze&&Ta(I,je),ge}for(we=u(we);!Ve.done;je++,Ve=P.next())Ve=H(we,I,je,Ve.value,Y),Ve!==null&&(n&&Ve.alternate!==null&&we.delete(Ve.key===null?je:Ve.key),O=y(Ve,O,je),ze===null?ge=Ve:ze.sibling=Ve,ze=Ve);return n&&we.forEach(function(Ek){return s(I,Ek)}),Ze&&Ta(I,je),ge}function nt(I,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===b&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case v:e:{for(var ge=P.key;O!==null;){if(O.key===ge){if(ge=P.type,ge===b){if(O.tag===7){i(I,O.sibling),Y=h(O,P.props.children),Y.return=I,I=Y;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===K&&x0(ge)===O.type){i(I,O.sibling),Y=h(O,P.props),bl(Y,P),Y.return=I,I=Y;break e}i(I,O);break}else s(I,O);O=O.sibling}P.type===b?(Y=Ea(P.props.children,I.mode,Y,P.key),Y.return=I,I=Y):(Y=$c(P.type,P.key,P.props,null,I.mode,Y),bl(Y,P),Y.return=I,I=Y)}return S(I);case w:e:{for(ge=P.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){i(I,O.sibling),Y=h(O,P.children||[]),Y.return=I,I=Y;break e}else{i(I,O);break}else s(I,O);O=O.sibling}Y=Of(P,I.mode,Y),Y.return=I,I=Y}return S(I);case K:return ge=P._init,P=ge(P._payload),nt(I,O,P,Y)}if(me(P))return _e(I,O,P,Y);if(ue(P)){if(ge=ue(P),typeof ge!="function")throw Error(a(150));return P=ge.call(P),Ne(I,O,P,Y)}if(typeof P.then=="function")return nt(I,O,ru(P),Y);if(P.$$typeof===U)return nt(I,O,Hc(I,P),Y);su(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(i(I,O.sibling),Y=h(O,P),Y.return=I,I=Y):(i(I,O),Y=Cf(P,I.mode,Y),Y.return=I,I=Y),S(I)):i(I,O)}return function(I,O,P,Y){try{vl=0;var ge=nt(I,O,P,Y);return zi=null,ge}catch(we){if(we===ul||we===Kc)throw we;var ze=En(29,we,null,I.mode);return ze.lanes=Y,ze.return=I,ze}finally{}}}var Li=v0(!0),b0=v0(!1),Gn=Z(null),yr=null;function Es(n){var s=n.alternate;te(Mt,Mt.current&1),te(Gn,n),yr===null&&(s===null||Di.current!==null||s.memoizedState!==null)&&(yr=n)}function w0(n){if(n.tag===22){if(te(Mt,Mt.current),te(Gn,n),yr===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(yr=n)}}else As()}function As(){te(Mt,Mt.current),te(Gn,Gn.current)}function Yr(n){ne(Gn),yr===n&&(yr=null),ne(Mt)}var Mt=Z(0);function au(n){for(var s=n;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||em(i)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function dh(n,s,i,u){s=n.memoizedState,i=i(u,s),i=i==null?s:x({},s,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var fh={enqueueSetState:function(n,s,i){n=n._reactInternals;var u=Cn(),h=js(u);h.payload=s,i!=null&&(h.callback=i),s=ks(n,h,u),s!==null&&(On(s,n,u),fl(s,n,u))},enqueueReplaceState:function(n,s,i){n=n._reactInternals;var u=Cn(),h=js(u);h.tag=1,h.payload=s,i!=null&&(h.callback=i),s=ks(n,h,u),s!==null&&(On(s,n,u),fl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var i=Cn(),u=js(i);u.tag=2,s!=null&&(u.callback=s),s=ks(n,u,i),s!==null&&(On(s,n,i),fl(s,n,i))}};function S0(n,s,i,u,h,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,S):s.prototype&&s.prototype.isPureReactComponent?!nl(i,u)||!nl(h,y):!0}function N0(n,s,i,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,u),s.state!==n&&fh.enqueueReplaceState(s,s.state,null)}function Ma(n,s){var i=s;if("ref"in s){i={};for(var u in s)u!=="ref"&&(i[u]=s[u])}if(n=n.defaultProps){i===s&&(i=x({},i));for(var h in n)i[h]===void 0&&(i[h]=n[h])}return i}var iu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function j0(n){iu(n)}function k0(n){console.error(n)}function _0(n){iu(n)}function ou(n,s){try{var i=n.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function E0(n,s,i){try{var u=n.onCaughtError;u(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hh(n,s,i){return i=js(i),i.tag=3,i.payload={element:null},i.callback=function(){ou(n,s)},i}function A0(n){return n=js(n),n.tag=3,n}function T0(n,s,i,u){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;n.payload=function(){return h(y)},n.callback=function(){E0(s,i,u)}}var S=i.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){E0(s,i,u),typeof h!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var j=u.stack;this.componentDidCatch(u.value,{componentStack:j!==null?j:""})})}function Ej(n,s,i,u,h){if(i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=i.alternate,s!==null&&ol(s,i,h,!0),i=Gn.current,i!==null){switch(i.tag){case 13:return yr===null?zh():i.alternate===null&&wt===0&&(wt=3),i.flags&=-257,i.flags|=65536,i.lanes=h,u===qf?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([u]):s.add(u),Ph(n,u,h)),!1;case 22:return i.flags|=65536,u===qf?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([u]):i.add(u)),Ph(n,u,h)),!1}throw Error(a(435,i.tag))}return Ph(n,u,h),zh(),!1}if(Ze)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==If&&(n=Error(a(422),{cause:u}),il(Bn(n,i)))):(u!==If&&(s=Error(a(423),{cause:u}),il(Bn(s,i))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=Bn(u,i),h=hh(n.stateNode,u,h),Gf(n,h),wt!==4&&(wt=2)),!1;var y=Error(a(520),{cause:u});if(y=Bn(y,i),El===null?El=[y]:El.push(y),wt!==4&&(wt=2),s===null)return!0;u=Bn(u,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,n=h&-h,i.lanes|=n,n=hh(i.stateNode,u,n),Gf(i,n),!1;case 1:if(s=i.type,y=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Us===null||!Us.has(y))))return i.flags|=65536,h&=-h,i.lanes|=h,h=A0(h),T0(h,n,i,u),Gf(i,h),!1}i=i.return}while(i!==null);return!1}var R0=Error(a(461)),Vt=!1;function Yt(n,s,i,u){s.child=n===null?b0(s,null,i,u):Li(s,n.child,i,u)}function C0(n,s,i,u,h){i=i.render;var y=s.ref;if("ref"in u){var S={};for(var j in u)j!=="ref"&&(S[j]=u[j])}else S=u;return Da(s),u=Yf(n,s,i,S,y,h),j=Jf(),n!==null&&!Vt?(Xf(n,s,h),Jr(n,s,h)):(Ze&&j&&Df(s),s.flags|=1,Yt(n,s,u,h),s.child)}function O0(n,s,i,u,h){if(n===null){var y=i.type;return typeof y=="function"&&!Rf(y)&&y.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=y,D0(n,s,y,u,h)):(n=$c(i.type,null,u,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!wh(n,h)){var S=y.memoizedProps;if(i=i.compare,i=i!==null?i:nl,i(S,u)&&n.ref===s.ref)return Jr(n,s,h)}return s.flags|=1,n=Hr(y,u),n.ref=s.ref,n.return=s,s.child=n}function D0(n,s,i,u,h){if(n!==null){var y=n.memoizedProps;if(nl(y,u)&&n.ref===s.ref)if(Vt=!1,s.pendingProps=u=y,wh(n,h))(n.flags&131072)!==0&&(Vt=!0);else return s.lanes=n.lanes,Jr(n,s,h)}return mh(n,s,i,u,h)}function U0(n,s,i){var u=s.pendingProps,h=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|i:i,n!==null){for(h=s.child=n.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return I0(n,s,u,i)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Gc(s,y!==null?y.cachePool:null),y!==null?Dy(s,y):Zf(),w0(s);else return s.lanes=s.childLanes=536870912,I0(n,s,y!==null?y.baseLanes|i:i,i)}else y!==null?(Gc(s,y.cachePool),Dy(s,y),As(),s.memoizedState=null):(n!==null&&Gc(s,null),Zf(),As());return Yt(n,s,h,i),s.child}function I0(n,s,i,u){var h=Bf();return h=h===null?null:{parent:It._currentValue,pool:h},s.memoizedState={baseLanes:i,cachePool:h},n!==null&&Gc(s,null),Zf(),w0(s),n!==null&&ol(n,s,u,!0),null}function lu(n,s){var i=s.ref;if(i===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(n===null||n.ref!==i)&&(s.flags|=4194816)}}function mh(n,s,i,u,h){return Da(s),i=Yf(n,s,i,u,void 0,h),u=Jf(),n!==null&&!Vt?(Xf(n,s,h),Jr(n,s,h)):(Ze&&u&&Df(s),s.flags|=1,Yt(n,s,i,h),s.child)}function M0(n,s,i,u,h,y){return Da(s),s.updateQueue=null,i=Iy(s,u,i,h),Uy(n),u=Jf(),n!==null&&!Vt?(Xf(n,s,y),Jr(n,s,y)):(Ze&&u&&Df(s),s.flags|=1,Yt(n,s,i,y),s.child)}function z0(n,s,i,u,h){if(Da(s),s.stateNode===null){var y=Ai,S=i.contextType;typeof S=="object"&&S!==null&&(y=sn(S)),y=new i(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=fh,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Vf(s),S=i.contextType,y.context=typeof S=="object"&&S!==null?sn(S):Ai,y.state=s.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(dh(s,i,S,u),y.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&fh.enqueueReplaceState(y,y.state,null),ml(s,u,y,h),hl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var j=s.memoizedProps,A=Ma(i,j);y.props=A;var $=y.context,F=i.contextType;S=Ai,typeof F=="object"&&F!==null&&(S=sn(F));var W=i.getDerivedStateFromProps;F=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,F||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j||$!==S)&&N0(s,y,u,S),Ns=!1;var V=s.memoizedState;y.state=V,ml(s,u,y,h),hl(),$=s.memoizedState,j||V!==$||Ns?(typeof W=="function"&&(dh(s,i,W,u),$=s.memoizedState),(A=Ns||S0(s,i,A,u,V,$,S))?(F||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=$),y.props=u,y.state=$,y.context=S,u=A):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Hf(n,s),S=s.memoizedProps,F=Ma(i,S),y.props=F,W=s.pendingProps,V=y.context,$=i.contextType,A=Ai,typeof $=="object"&&$!==null&&(A=sn($)),j=i.getDerivedStateFromProps,($=typeof j=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==W||V!==A)&&N0(s,y,u,A),Ns=!1,V=s.memoizedState,y.state=V,ml(s,u,y,h),hl();var H=s.memoizedState;S!==W||V!==H||Ns||n!==null&&n.dependencies!==null&&Vc(n.dependencies)?(typeof j=="function"&&(dh(s,i,j,u),H=s.memoizedState),(F=Ns||S0(s,i,F,u,V,H,A)||n!==null&&n.dependencies!==null&&Vc(n.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,H,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,H,A)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=H),y.props=u,y.state=H,y.context=A,u=F):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,lu(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,i=u&&typeof i.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=Li(s,n.child,null,h),s.child=Li(s,null,i,h)):Yt(n,s,i,h),s.memoizedState=y.state,n=s.child):n=Jr(n,s,h),n}function L0(n,s,i,u){return al(),s.flags|=256,Yt(n,s,i,u),s.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gh(n){return{baseLanes:n,cachePool:ky()}}function yh(n,s,i){return n=n!==null?n.childLanes&~i:0,s&&(n|=Kn),n}function P0(n,s,i){var u=s.pendingProps,h=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),S&&(h=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ze){if(h?Es(s):As(),Ze){var j=bt,A;if(A=j){e:{for(A=j,j=gr;A.nodeType!==8;){if(!j){j=null;break e}if(A=rr(A.nextSibling),A===null){j=null;break e}}j=A}j!==null?(s.memoizedState={dehydrated:j,treeContext:Aa!==null?{id:Gr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},A=En(18,null,null,0),A.stateNode=j,A.return=s,s.child=A,on=s,bt=null,A=!0):A=!1}A||Ca(s)}if(j=s.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return em(j)?s.lanes=32:s.lanes=536870912,null;Yr(s)}return j=u.children,u=u.fallback,h?(As(),h=s.mode,j=cu({mode:"hidden",children:j},h),u=Ea(u,h,i,null),j.return=s,u.return=s,j.sibling=u,s.child=j,h=s.child,h.memoizedState=gh(i),h.childLanes=yh(n,S,i),s.memoizedState=ph,u):(Es(s),xh(s,j))}if(A=n.memoizedState,A!==null&&(j=A.dehydrated,j!==null)){if(y)s.flags&256?(Es(s),s.flags&=-257,s=vh(n,s,i)):s.memoizedState!==null?(As(),s.child=n.child,s.flags|=128,s=null):(As(),h=u.fallback,j=s.mode,u=cu({mode:"visible",children:u.children},j),h=Ea(h,j,i,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Li(s,n.child,null,i),u=s.child,u.memoizedState=gh(i),u.childLanes=yh(n,S,i),s.memoizedState=ph,s=h);else if(Es(s),em(j)){if(S=j.nextSibling&&j.nextSibling.dataset,S)var $=S.dgst;S=$,u=Error(a(419)),u.stack="",u.digest=S,il({value:u,source:null,stack:null}),s=vh(n,s,i)}else if(Vt||ol(n,s,i,!1),S=(i&n.childLanes)!==0,Vt||S){if(S=ct,S!==null&&(u=i&-i,u=(u&42)!==0?1:ef(u),u=(u&(S.suspendedLanes|i))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,Ei(n,u),On(S,n,u),R0;j.data==="$?"||zh(),s=vh(n,s,i)}else j.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=A.treeContext,bt=rr(j.nextSibling),on=s,Ze=!0,Ra=null,gr=!1,n!==null&&(Vn[Hn++]=Gr,Vn[Hn++]=Kr,Vn[Hn++]=Aa,Gr=n.id,Kr=n.overflow,Aa=s),s=xh(s,u.children),s.flags|=4096);return s}return h?(As(),h=u.fallback,j=s.mode,A=n.child,$=A.sibling,u=Hr(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,$!==null?h=Hr($,h):(h=Ea(h,j,i,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,j=n.child.memoizedState,j===null?j=gh(i):(A=j.cachePool,A!==null?($=It._currentValue,A=A.parent!==$?{parent:$,pool:$}:A):A=ky(),j={baseLanes:j.baseLanes|i,cachePool:A}),h.memoizedState=j,h.childLanes=yh(n,S,i),s.memoizedState=ph,u):(Es(s),i=n.child,n=i.sibling,i=Hr(i,{mode:"visible",children:u.children}),i.return=s,i.sibling=null,n!==null&&(S=s.deletions,S===null?(s.deletions=[n],s.flags|=16):S.push(n)),s.child=i,s.memoizedState=null,i)}function xh(n,s){return s=cu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function cu(n,s){return n=En(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vh(n,s,i){return Li(s,n.child,null,i),n=xh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $0(n,s,i){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),zf(n.return,s,i)}function bh(n,s,i,u,h){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=i,y.tailMode=h)}function B0(n,s,i){var u=s.pendingProps,h=u.revealOrder,y=u.tail;if(Yt(n,s,u.children,i),u=Mt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$0(n,i,s);else if(n.tag===19)$0(n,i,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(te(Mt,u),h){case"forwards":for(i=s.child,h=null;i!==null;)n=i.alternate,n!==null&&au(n)===null&&(h=i),i=i.sibling;i=h,i===null?(h=s.child,s.child=null):(h=i.sibling,i.sibling=null),bh(s,!1,h,i,y);break;case"backwards":for(i=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&au(n)===null){s.child=h;break}n=h.sibling,h.sibling=i,i=h,h=n}bh(s,!0,i,null,y);break;case"together":bh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Jr(n,s,i){if(n!==null&&(s.dependencies=n.dependencies),Ds|=s.lanes,(i&s.childLanes)===0)if(n!==null){if(ol(n,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,i=Hr(n,n.pendingProps),s.child=i,i.return=s;n.sibling!==null;)n=n.sibling,i=i.sibling=Hr(n,n.pendingProps),i.return=s;i.sibling=null}return s.child}function wh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Vc(n)))}function Aj(n,s,i){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),Ss(s,It,n.memoizedState.cache),al();break;case 27:case 5:Mn(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:Ss(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Es(s),s.flags|=128,null):(i&s.child.childLanes)!==0?P0(n,s,i):(Es(s),n=Jr(n,s,i),n!==null?n.sibling:null);Es(s);break;case 19:var h=(n.flags&128)!==0;if(u=(i&s.childLanes)!==0,u||(ol(n,s,i,!1),u=(i&s.childLanes)!==0),h){if(u)return B0(n,s,i);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Mt,Mt.current),u)break;return null;case 22:case 23:return s.lanes=0,U0(n,s,i);case 24:Ss(s,It,n.memoizedState.cache)}return Jr(n,s,i)}function q0(n,s,i){if(n!==null)if(n.memoizedProps!==s.pendingProps)Vt=!0;else{if(!wh(n,i)&&(s.flags&128)===0)return Vt=!1,Aj(n,s,i);Vt=(n.flags&131072)!==0}else Vt=!1,Ze&&(s.flags&1048576)!==0&&xy(s,qc,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Rf(u)?(n=Ma(u,n),s.tag=1,s=z0(null,s,u,n,i)):(s.tag=0,s=mh(null,s,u,n,i));else{if(u!=null){if(h=u.$$typeof,h===T){s.tag=11,s=C0(null,s,u,n,i);break e}else if(h===J){s.tag=14,s=O0(null,s,u,n,i);break e}}throw s=de(u)||u,Error(a(306,s,""))}}return s;case 0:return mh(n,s,s.type,s.pendingProps,i);case 1:return u=s.type,h=Ma(u,s.pendingProps),z0(n,s,u,h,i);case 3:e:{if(Me(s,s.stateNode.containerInfo),n===null)throw Error(a(387));u=s.pendingProps;var y=s.memoizedState;h=y.element,Hf(n,s),ml(s,u,null,i);var S=s.memoizedState;if(u=S.cache,Ss(s,It,u),u!==y.cache&&Lf(s,[It],i,!0),hl(),u=S.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=L0(n,s,u,i);break e}else if(u!==h){h=Bn(Error(a(424)),s),il(h),s=L0(n,s,u,i);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(bt=rr(n.firstChild),on=s,Ze=!0,Ra=null,gr=!0,i=b0(s,null,u,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(al(),u===h){s=Jr(n,s,i);break e}Yt(n,s,u,i)}s=s.child}return s;case 26:return lu(n,s),n===null?(i=Kx(s.type,null,s.pendingProps,null))?s.memoizedState=i:Ze||(i=s.type,n=s.pendingProps,u=Nu(be.current).createElement(i),u[rn]=s,u[hn]=n,Xt(u,i,n),qt(u),s.stateNode=u):s.memoizedState=Kx(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Mn(s),n===null&&Ze&&(u=s.stateNode=Vx(s.type,s.pendingProps,be.current),on=s,gr=!0,h=bt,zs(s.type)?(tm=h,bt=rr(u.firstChild)):bt=h),Yt(n,s,s.pendingProps.children,i),lu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ze&&((h=u=bt)&&(u=nk(u,s.type,s.pendingProps,gr),u!==null?(s.stateNode=u,on=s,bt=rr(u.firstChild),gr=!1,h=!0):h=!1),h||Ca(s)),Mn(s),h=s.type,y=s.pendingProps,S=n!==null?n.memoizedProps:null,u=y.children,Jh(h,y)?u=null:S!==null&&Jh(h,S)&&(s.flags|=32),s.memoizedState!==null&&(h=Yf(n,s,bj,null,null,i),Ml._currentValue=h),lu(n,s),Yt(n,s,u,i),s.child;case 6:return n===null&&Ze&&((n=i=bt)&&(i=rk(i,s.pendingProps,gr),i!==null?(s.stateNode=i,on=s,bt=null,n=!0):n=!1),n||Ca(s)),null;case 13:return P0(n,s,i);case 4:return Me(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Li(s,null,u,i):Yt(n,s,u,i),s.child;case 11:return C0(n,s,s.type,s.pendingProps,i);case 7:return Yt(n,s,s.pendingProps,i),s.child;case 8:return Yt(n,s,s.pendingProps.children,i),s.child;case 12:return Yt(n,s,s.pendingProps.children,i),s.child;case 10:return u=s.pendingProps,Ss(s,s.type,u.value),Yt(n,s,u.children,i),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Da(s),h=sn(h),u=u(h),s.flags|=1,Yt(n,s,u,i),s.child;case 14:return O0(n,s,s.type,s.pendingProps,i);case 15:return D0(n,s,s.type,s.pendingProps,i);case 19:return B0(n,s,i);case 31:return u=s.pendingProps,i=s.mode,u={mode:u.mode,children:u.children},n===null?(i=cu(u,i),i.ref=s.ref,s.child=i,i.return=s,s=i):(i=Hr(n.child,u),i.ref=s.ref,s.child=i,i.return=s,s=i),s;case 22:return U0(n,s,i);case 24:return Da(s),u=sn(It),n===null?(h=Bf(),h===null&&(h=ct,y=Pf(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=i),h=y),s.memoizedState={parent:u,cache:h},Vf(s),Ss(s,It,h)):((n.lanes&i)!==0&&(Hf(n,s),ml(s,null,null,i),hl()),h=n.memoizedState,y=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ss(s,It,u)):(u=y.cache,Ss(s,It,u),u!==h.cache&&Lf(s,[It],i,!0))),Yt(n,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Xr(n){n.flags|=4}function V0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Jx(s)){if(s=Gn.current,s!==null&&((qe&4194048)===qe?yr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||s!==yr))throw dl=qf,_y;n.flags|=8192}}function uu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?wg():536870912,n.lanes|=s,qi|=s)}function wl(n,s){if(!Ze)switch(n.tailMode){case"hidden":s=n.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function yt(n){var s=n.alternate!==null&&n.alternate.child===n.child,i=0,u=0;if(s)for(var h=n.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=i,s}function Tj(n,s,i){var u=s.pendingProps;switch(Uf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return yt(s),null;case 3:return i=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Fr(It),at(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(sl(s)?Xr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wy())),yt(s),null;case 26:return i=s.memoizedState,n===null?(Xr(s),i!==null?(yt(s),V0(s,i)):(yt(s),s.flags&=-16777217)):i?i!==n.memoizedState?(Xr(s),yt(s),V0(s,i)):(yt(s),s.flags&=-16777217):(n.memoizedProps!==u&&Xr(s),yt(s),s.flags&=-16777217),null;case 27:zn(s),i=be.current;var h=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Xr(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return yt(s),null}n=le.current,sl(s)?vy(s):(n=Vx(h,u,i),s.stateNode=n,Xr(s))}return yt(s),null;case 5:if(zn(s),i=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Xr(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return yt(s),null}if(n=le.current,sl(s))vy(s);else{switch(h=Nu(be.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?h.createElement(i,{is:u.is}):h.createElement(i)}}n[rn]=s,n[hn]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=n;e:switch(Xt(n,i,u),i){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Xr(s)}}return yt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Xr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(n=be.current,sl(s)){if(n=s.stateNode,i=s.memoizedProps,u=null,h=on,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[rn]=s,n=!!(n.nodeValue===i||u!==null&&u.suppressHydrationWarning===!0||Mx(n.nodeValue,i)),n||Ca(s)}else n=Nu(n).createTextNode(u),n[rn]=s,s.stateNode=n}return yt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=sl(s),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[rn]=s}else al(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),h=!1}else h=wy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Yr(s),s):(Yr(s),null)}if(Yr(s),(s.flags&128)!==0)return s.lanes=i,s;if(i=u!==null,n=n!==null&&n.memoizedState!==null,i){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)}return i!==n&&i&&(s.child.flags|=8192),uu(s,s.updateQueue),yt(s),null;case 4:return at(),n===null&&Kh(s.stateNode.containerInfo),yt(s),null;case 10:return Fr(s.type),yt(s),null;case 19:if(ne(Mt),h=s.memoizedState,h===null)return yt(s),null;if(u=(s.flags&128)!==0,y=h.rendering,y===null)if(u)wl(h,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=au(n),y!==null){for(s.flags|=128,wl(h,!1),n=y.updateQueue,s.updateQueue=n,uu(s,n),s.subtreeFlags=0,n=i,i=s.child;i!==null;)yy(i,n),i=i.sibling;return te(Mt,Mt.current&1|2),s.child}n=n.sibling}h.tail!==null&&Ln()>hu&&(s.flags|=128,u=!0,wl(h,!1),s.lanes=4194304)}else{if(!u)if(n=au(y),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,uu(s,n),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ze)return yt(s),null}else 2*Ln()-h.renderingStartTime>hu&&i!==536870912&&(s.flags|=128,u=!0,wl(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(n=h.last,n!==null?n.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Ln(),s.sibling=null,n=Mt.current,te(Mt,u?n&1|2:n&1),s):(yt(s),null);case 22:case 23:return Yr(s),Ff(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(i&536870912)!==0&&(s.flags&128)===0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),i=s.updateQueue,i!==null&&uu(s,i.retryQueue),i=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==i&&(s.flags|=2048),n!==null&&ne(Ua),null;case 24:return i=null,n!==null&&(i=n.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),Fr(It),yt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Rj(n,s){switch(Uf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Fr(It),at(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return zn(s),null;case 13:if(Yr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));al()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ne(Mt),null;case 4:return at(),null;case 10:return Fr(s.type),null;case 22:case 23:return Yr(s),Ff(),n!==null&&ne(Ua),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Fr(It),null;case 25:return null;default:return null}}function H0(n,s){switch(Uf(s),s.tag){case 3:Fr(It),at();break;case 26:case 27:case 5:zn(s);break;case 4:at();break;case 13:Yr(s);break;case 19:ne(Mt);break;case 10:Fr(s.type);break;case 22:case 23:Yr(s),Ff(),n!==null&&ne(Ua);break;case 24:Fr(It)}}function Sl(n,s){try{var i=s.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var h=u.next;i=h;do{if((i.tag&n)===n){u=void 0;var y=i.create,S=i.inst;u=y(),S.destroy=u}i=i.next}while(i!==h)}}catch(j){it(s,s.return,j)}}function Ts(n,s,i){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&n)===n){var S=u.inst,j=S.destroy;if(j!==void 0){S.destroy=void 0,h=s;var A=i,$=j;try{$()}catch(F){it(h,A,F)}}}u=u.next}while(u!==y)}}catch(F){it(s,s.return,F)}}function G0(n){var s=n.updateQueue;if(s!==null){var i=n.stateNode;try{Oy(s,i)}catch(u){it(n,n.return,u)}}}function K0(n,s,i){i.props=Ma(n.type,n.memoizedProps),i.state=n.memoizedState;try{i.componentWillUnmount()}catch(u){it(n,s,u)}}function Nl(n,s){try{var i=n.ref;if(i!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof i=="function"?n.refCleanup=i(u):i.current=u}}catch(h){it(n,s,h)}}function xr(n,s){var i=n.ref,u=n.refCleanup;if(i!==null)if(typeof u=="function")try{u()}catch(h){it(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){it(n,s,h)}else i.current=null}function Z0(n){var s=n.type,i=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&u.focus();break e;case"img":i.src?u.src=i.src:i.srcSet&&(u.srcset=i.srcSet)}}catch(h){it(n,n.return,h)}}function Sh(n,s,i){try{var u=n.stateNode;Jj(u,n.type,i,s),u[hn]=s}catch(h){it(n,n.return,h)}}function F0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zs(n.type)||n.tag===4}function Nh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||F0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jh(n,s,i){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(n,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(n),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Su));else if(u!==4&&(u===27&&zs(n.type)&&(i=n.stateNode,s=null),n=n.child,n!==null))for(jh(n,s,i),n=n.sibling;n!==null;)jh(n,s,i),n=n.sibling}function du(n,s,i){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?i.insertBefore(n,s):i.appendChild(n);else if(u!==4&&(u===27&&zs(n.type)&&(i=n.stateNode),n=n.child,n!==null))for(du(n,s,i),n=n.sibling;n!==null;)du(n,s,i),n=n.sibling}function Q0(n){var s=n.stateNode,i=n.memoizedProps;try{for(var u=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Xt(s,u,i),s[rn]=n,s[hn]=i}catch(y){it(n,n.return,y)}}var Wr=!1,At=!1,kh=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Cj(n,s){if(n=n.containerInfo,Qh=Tu,n=oy(n),Nf(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{i.nodeType,y.nodeType}catch{i=null;break e}var S=0,j=-1,A=-1,$=0,F=0,W=n,V=null;t:for(;;){for(var H;W!==i||h!==0&&W.nodeType!==3||(j=S+h),W!==y||u!==0&&W.nodeType!==3||(A=S+u),W.nodeType===3&&(S+=W.nodeValue.length),(H=W.firstChild)!==null;)V=W,W=H;for(;;){if(W===n)break t;if(V===i&&++$===h&&(j=S),V===y&&++F===u&&(A=S),(H=W.nextSibling)!==null)break;W=V,V=W.parentNode}W=H}i=j===-1||A===-1?null:{start:j,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yh={focusedElem:n,selectionRange:i},Tu=!1,Ht=s;Ht!==null;)if(s=Ht,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Ht=n;else for(;Ht!==null;){switch(s=Ht,y=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,i=s,h=y.memoizedProps,y=y.memoizedState,u=i.stateNode;try{var _e=Ma(i.type,h,i.elementType===i.type);n=u.getSnapshotBeforeUpdate(_e,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){it(i,i.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,i=n.nodeType,i===9)Wh(n);else if(i===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,Ht=n;break}Ht=s.return}}function J0(n,s,i){var u=i.flags;switch(i.tag){case 0:case 11:case 15:Rs(n,i),u&4&&Sl(5,i);break;case 1:if(Rs(n,i),u&4)if(n=i.stateNode,s===null)try{n.componentDidMount()}catch(S){it(i,i.return,S)}else{var h=Ma(i.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(S){it(i,i.return,S)}}u&64&&G0(i),u&512&&Nl(i,i.return);break;case 3:if(Rs(n,i),u&64&&(n=i.updateQueue,n!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{Oy(n,s)}catch(S){it(i,i.return,S)}}break;case 27:s===null&&u&4&&Q0(i);case 26:case 5:Rs(n,i),s===null&&u&4&&Z0(i),u&512&&Nl(i,i.return);break;case 12:Rs(n,i);break;case 13:Rs(n,i),u&4&&ex(n,i),u&64&&(n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(i=$j.bind(null,i),sk(n,i))));break;case 22:if(u=i.memoizedState!==null||Wr,!u){s=s!==null&&s.memoizedState!==null||At,h=Wr;var y=At;Wr=u,(At=s)&&!y?Cs(n,i,(i.subtreeFlags&8772)!==0):Rs(n,i),Wr=h,At=y}break;case 30:break;default:Rs(n,i)}}function X0(n){var s=n.alternate;s!==null&&(n.alternate=null,X0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&rf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,gn=!1;function es(n,s,i){for(i=i.child;i!==null;)W0(n,s,i),i=i.sibling}function W0(n,s,i){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(fi,i)}catch{}switch(i.tag){case 26:At||xr(i,s),es(n,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:At||xr(i,s);var u=mt,h=gn;zs(i.type)&&(mt=i.stateNode,gn=!1),es(n,s,i),Ol(i.stateNode),mt=u,gn=h;break;case 5:At||xr(i,s);case 6:if(u=mt,h=gn,mt=null,es(n,s,i),mt=u,gn=h,mt!==null)if(gn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(i.stateNode)}catch(y){it(i,s,y)}else try{mt.removeChild(i.stateNode)}catch(y){it(i,s,y)}break;case 18:mt!==null&&(gn?(n=mt,Bx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.stateNode),$l(n)):Bx(mt,i.stateNode));break;case 4:u=mt,h=gn,mt=i.stateNode.containerInfo,gn=!0,es(n,s,i),mt=u,gn=h;break;case 0:case 11:case 14:case 15:At||Ts(2,i,s),At||Ts(4,i,s),es(n,s,i);break;case 1:At||(xr(i,s),u=i.stateNode,typeof u.componentWillUnmount=="function"&&K0(i,s,u)),es(n,s,i);break;case 21:es(n,s,i);break;case 22:At=(u=At)||i.memoizedState!==null,es(n,s,i),At=u;break;default:es(n,s,i)}}function ex(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$l(n)}catch(i){it(s,s.return,i)}}function Oj(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Y0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Y0),s;default:throw Error(a(435,n.tag))}}function _h(n,s){var i=Oj(n);s.forEach(function(u){var h=Bj.bind(null,n,u);i.has(u)||(i.add(u),u.then(h,h))})}function An(n,s){var i=s.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u],y=n,S=s,j=S;e:for(;j!==null;){switch(j.tag){case 27:if(zs(j.type)){mt=j.stateNode,gn=!1;break e}break;case 5:mt=j.stateNode,gn=!1;break e;case 3:case 4:mt=j.stateNode.containerInfo,gn=!0;break e}j=j.return}if(mt===null)throw Error(a(160));W0(y,S,h),mt=null,gn=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)tx(s,n),s=s.sibling}var nr=null;function tx(n,s){var i=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(s,n),Tn(n),u&4&&(Ts(3,n,n.return),Sl(3,n),Ts(5,n,n.return));break;case 1:An(s,n),Tn(n),u&512&&(At||i===null||xr(i,i.return)),u&64&&Wr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(i=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=i===null?u:i.concat(u))));break;case 26:var h=nr;if(An(s,n),Tn(n),u&512&&(At||i===null||xr(i,i.return)),u&4){var y=i!==null?i.memoizedState:null;if(u=n.memoizedState,i===null)if(u===null)if(n.stateNode===null){e:{u=n.type,i=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[Zo]||y[rn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),Xt(y,u,i),y[rn]=n,qt(y),u=y;break e;case"link":var S=Qx("link","href",h).get(u+(i.href||""));if(S){for(var j=0;j<S.length;j++)if(y=S[j],y.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&y.getAttribute("rel")===(i.rel==null?null:i.rel)&&y.getAttribute("title")===(i.title==null?null:i.title)&&y.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){S.splice(j,1);break t}}y=h.createElement(u),Xt(y,u,i),h.head.appendChild(y);break;case"meta":if(S=Qx("meta","content",h).get(u+(i.content||""))){for(j=0;j<S.length;j++)if(y=S[j],y.getAttribute("content")===(i.content==null?null:""+i.content)&&y.getAttribute("name")===(i.name==null?null:i.name)&&y.getAttribute("property")===(i.property==null?null:i.property)&&y.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&y.getAttribute("charset")===(i.charSet==null?null:i.charSet)){S.splice(j,1);break t}}y=h.createElement(u),Xt(y,u,i),h.head.appendChild(y);break;default:throw Error(a(468,u))}y[rn]=n,qt(y),u=y}n.stateNode=u}else Yx(h,n.type,n.stateNode);else n.stateNode=Fx(h,u,n.memoizedProps);else y!==u?(y===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):y.count--,u===null?Yx(h,n.type,n.stateNode):Fx(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Sh(n,n.memoizedProps,i.memoizedProps)}break;case 27:An(s,n),Tn(n),u&512&&(At||i===null||xr(i,i.return)),i!==null&&u&4&&Sh(n,n.memoizedProps,i.memoizedProps);break;case 5:if(An(s,n),Tn(n),u&512&&(At||i===null||xr(i,i.return)),n.flags&32){h=n.stateNode;try{bi(h,"")}catch(H){it(n,n.return,H)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,Sh(n,h,i!==null?i.memoizedProps:h)),u&1024&&(kh=!0);break;case 6:if(An(s,n),Tn(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,i=n.stateNode;try{i.nodeValue=u}catch(H){it(n,n.return,H)}}break;case 3:if(_u=null,h=nr,nr=ju(s.containerInfo),An(s,n),nr=h,Tn(n),u&4&&i!==null&&i.memoizedState.isDehydrated)try{$l(s.containerInfo)}catch(H){it(n,n.return,H)}kh&&(kh=!1,nx(n));break;case 4:u=nr,nr=ju(n.stateNode.containerInfo),An(s,n),Tn(n),nr=u;break;case 12:An(s,n),Tn(n);break;case 13:An(s,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Oh=Ln()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_h(n,u)));break;case 22:h=n.memoizedState!==null;var A=i!==null&&i.memoizedState!==null,$=Wr,F=At;if(Wr=$||h,At=F||A,An(s,n),At=F,Wr=$,Tn(n),u&8192)e:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(i===null||A||Wr||At||za(n)),i=null,s=n;;){if(s.tag===5||s.tag===26){if(i===null){A=i=s;try{if(y=A.stateNode,h)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{j=A.stateNode;var W=A.memoizedProps.style,V=W!=null&&W.hasOwnProperty("display")?W.display:null;j.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(H){it(A,A.return,H)}}}else if(s.tag===6){if(i===null){A=s;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(H){it(A,A.return,H)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(i=u.retryQueue,i!==null&&(u.retryQueue=null,_h(n,i))));break;case 19:An(s,n),Tn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_h(n,u)));break;case 30:break;case 21:break;default:An(s,n),Tn(n)}}function Tn(n){var s=n.flags;if(s&2){try{for(var i,u=n.return;u!==null;){if(F0(u)){i=u;break}u=u.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var h=i.stateNode,y=Nh(n);du(n,y,h);break;case 5:var S=i.stateNode;i.flags&32&&(bi(S,""),i.flags&=-33);var j=Nh(n);du(n,j,S);break;case 3:case 4:var A=i.stateNode.containerInfo,$=Nh(n);jh(n,$,A);break;default:throw Error(a(161))}}catch(F){it(n,n.return,F)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function nx(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;nx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Rs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)J0(n,s.alternate,s),s=s.sibling}function za(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Ts(4,s,s.return),za(s);break;case 1:xr(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&K0(s,s.return,i),za(s);break;case 27:Ol(s.stateNode);case 26:case 5:xr(s,s.return),za(s);break;case 22:s.memoizedState===null&&za(s);break;case 30:za(s);break;default:za(s)}n=n.sibling}}function Cs(n,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=n,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:Cs(h,y,i),Sl(4,y);break;case 1:if(Cs(h,y,i),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){it(u,u.return,$)}if(u=y,h=u.updateQueue,h!==null){var j=u.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Cy(A[h],j)}catch($){it(u,u.return,$)}}i&&S&64&&G0(y),Nl(y,y.return);break;case 27:Q0(y);case 26:case 5:Cs(h,y,i),i&&u===null&&S&4&&Z0(y),Nl(y,y.return);break;case 12:Cs(h,y,i);break;case 13:Cs(h,y,i),i&&S&4&&ex(h,y);break;case 22:y.memoizedState===null&&Cs(h,y,i),Nl(y,y.return);break;case 30:break;default:Cs(h,y,i)}s=s.sibling}}function Eh(n,s){var i=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==i&&(n!=null&&n.refCount++,i!=null&&ll(i))}function Ah(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ll(n))}function vr(n,s,i,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rx(n,s,i,u),s=s.sibling}function rx(n,s,i,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:vr(n,s,i,u),h&2048&&Sl(9,s);break;case 1:vr(n,s,i,u);break;case 3:vr(n,s,i,u),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ll(n)));break;case 12:if(h&2048){vr(n,s,i,u),n=s.stateNode;try{var y=s.memoizedProps,S=y.id,j=y.onPostCommit;typeof j=="function"&&j(S,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){it(s,s.return,A)}}else vr(n,s,i,u);break;case 13:vr(n,s,i,u);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?vr(n,s,i,u):jl(n,s):y._visibility&2?vr(n,s,i,u):(y._visibility|=2,Pi(n,s,i,u,(s.subtreeFlags&10256)!==0)),h&2048&&Eh(S,s);break;case 24:vr(n,s,i,u),h&2048&&Ah(s.alternate,s);break;default:vr(n,s,i,u)}}function Pi(n,s,i,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=n,S=s,j=i,A=u,$=S.flags;switch(S.tag){case 0:case 11:case 15:Pi(y,S,j,A,h),Sl(8,S);break;case 23:break;case 22:var F=S.stateNode;S.memoizedState!==null?F._visibility&2?Pi(y,S,j,A,h):jl(y,S):(F._visibility|=2,Pi(y,S,j,A,h)),h&&$&2048&&Eh(S.alternate,S);break;case 24:Pi(y,S,j,A,h),h&&$&2048&&Ah(S.alternate,S);break;default:Pi(y,S,j,A,h)}s=s.sibling}}function jl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=n,u=s,h=u.flags;switch(u.tag){case 22:jl(i,u),h&2048&&Eh(u.alternate,u);break;case 24:jl(i,u),h&2048&&Ah(u.alternate,u);break;default:jl(i,u)}s=s.sibling}}var kl=8192;function $i(n){if(n.subtreeFlags&kl)for(n=n.child;n!==null;)sx(n),n=n.sibling}function sx(n){switch(n.tag){case 26:$i(n),n.flags&kl&&n.memoizedState!==null&&yk(nr,n.memoizedState,n.memoizedProps);break;case 5:$i(n);break;case 3:case 4:var s=nr;nr=ju(n.stateNode.containerInfo),$i(n),nr=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=kl,kl=16777216,$i(n),kl=s):$i(n));break;default:$i(n)}}function ax(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function _l(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var u=s[i];Ht=u,ox(u,n)}ax(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ix(n),n=n.sibling}function ix(n){switch(n.tag){case 0:case 11:case 15:_l(n),n.flags&2048&&Ts(9,n,n.return);break;case 3:_l(n);break;case 12:_l(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,fu(n)):_l(n);break;default:_l(n)}}function fu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var u=s[i];Ht=u,ox(u,n)}ax(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Ts(8,s,s.return),fu(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,fu(s));break;default:fu(s)}n=n.sibling}}function ox(n,s){for(;Ht!==null;){var i=Ht;switch(i.tag){case 0:case 11:case 15:Ts(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var u=i.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ll(i.memoizedState.cache)}if(u=i.child,u!==null)u.return=i,Ht=u;else e:for(i=n;Ht!==null;){u=Ht;var h=u.sibling,y=u.return;if(X0(u),u===i){Ht=null;break e}if(h!==null){h.return=y,Ht=h;break e}Ht=y}}}var Dj={getCacheForType:function(n){var s=sn(It),i=s.data.get(n);return i===void 0&&(i=n(),s.data.set(n,i)),i}},Uj=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ct=null,Le=null,qe=0,We=0,Rn=null,Os=!1,Bi=!1,Th=!1,ts=0,wt=0,Ds=0,La=0,Rh=0,Kn=0,qi=0,El=null,yn=null,Ch=!1,Oh=0,hu=1/0,mu=null,Us=null,Jt=0,Is=null,Vi=null,Hi=0,Dh=0,Uh=null,lx=null,Al=0,Ih=null;function Cn(){if((Xe&2)!==0&&qe!==0)return qe&-qe;if(D.T!==null){var n=Ci;return n!==0?n:qh()}return jg()}function cx(){Kn===0&&(Kn=(qe&536870912)===0||Ze?bg():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Kn}function On(n,s,i){(n===ct&&(We===2||We===9)||n.cancelPendingCommit!==null)&&(Gi(n,0),Ms(n,qe,Kn,!1)),Ko(n,i),((Xe&2)===0||n!==ct)&&(n===ct&&((Xe&2)===0&&(La|=i),wt===4&&Ms(n,qe,Kn,!1)),br(n))}function ux(n,s,i){if((Xe&6)!==0)throw Error(a(327));var u=!i&&(s&124)===0&&(s&n.expiredLanes)===0||Go(n,s),h=u?zj(n,s):Lh(n,s,!0),y=u;do{if(h===0){Bi&&!u&&Ms(n,s,0,!1);break}else{if(i=n.current.alternate,y&&!Ij(i)){h=Lh(n,s,!1),y=!1;continue}if(h===2){if(y=s,n.errorRecoveryDisabledLanes&y)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var j=n;h=El;var A=j.current.memoizedState.isDehydrated;if(A&&(Gi(j,S).flags|=256),S=Lh(j,S,!1),S!==2){if(Th&&!A){j.errorRecoveryDisabledLanes|=y,La|=y,h=4;break e}y=yn,yn=h,y!==null&&(yn===null?yn=y:yn.push.apply(yn,y))}h=S}if(y=!1,h!==2)continue}}if(h===1){Gi(n,0),Ms(n,s,0,!0);break}e:{switch(u=n,y=h,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Ms(u,s,Kn,!Os);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(h=Oh+300-Ln(),10<h)){if(Ms(u,s,Kn,!Os),kc(u,0,!0)!==0)break e;u.timeoutHandle=Px(dx.bind(null,u,i,yn,mu,Ch,s,Kn,La,qi,Os,y,2,-0,0),h);break e}dx(u,i,yn,mu,Ch,s,Kn,La,qi,Os,y,0,-0,0)}}break}while(!0);br(n)}function dx(n,s,i,u,h,y,S,j,A,$,F,W,V,H){if(n.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:gk},sx(s),W=xk(),W!==null)){n.cancelPendingCommit=W(xx.bind(null,n,s,y,i,u,h,S,j,A,F,1,V,H)),Ms(n,y,S,!$);return}xx(n,s,y,i,u,h,S,j,A)}function Ij(n){for(var s=n;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var u=0;u<i.length;u++){var h=i[u],y=h.getSnapshot;h=h.value;try{if(!_n(y(),h))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ms(n,s,i,u){s&=~Rh,s&=~La,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var h=s;0<h;){var y=31-kn(h),S=1<<y;u[y]=-1,h&=~S}i!==0&&Sg(n,i,s)}function pu(){return(Xe&6)===0?(Tl(0),!1):!0}function Mh(){if(Le!==null){if(We===0)var n=Le.return;else n=Le,Zr=Oa=null,Wf(n),zi=null,vl=0,n=Le;for(;n!==null;)H0(n.alternate,n),n=n.return;Le=null}}function Gi(n,s){var i=n.timeoutHandle;i!==-1&&(n.timeoutHandle=-1,Wj(i)),i=n.cancelPendingCommit,i!==null&&(n.cancelPendingCommit=null,i()),Mh(),ct=n,Le=i=Hr(n.current,null),qe=s,We=0,Rn=null,Os=!1,Bi=Go(n,s),Th=!1,qi=Kn=Rh=La=Ds=wt=0,yn=El=null,Ch=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var h=31-kn(u),y=1<<h;s|=n[h],u&=~y}return ts=s,zc(),i}function fx(n,s){Ue=null,D.H=nu,s===ul||s===Kc?(s=Ty(),We=3):s===_y?(s=Ty(),We=4):We=s===R0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Le===null&&(wt=1,ou(n,Bn(s,n.current)))}function hx(){var n=D.H;return D.H=nu,n===null?nu:n}function mx(){var n=D.A;return D.A=Dj,n}function zh(){wt=4,Os||(qe&4194048)!==qe&&Gn.current!==null||(Bi=!0),(Ds&134217727)===0&&(La&134217727)===0||ct===null||Ms(ct,qe,Kn,!1)}function Lh(n,s,i){var u=Xe;Xe|=2;var h=hx(),y=mx();(ct!==n||qe!==s)&&(mu=null,Gi(n,s)),s=!1;var S=wt;e:do try{if(We!==0&&Le!==null){var j=Le,A=Rn;switch(We){case 8:Mh(),S=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(s=!0);var $=We;if(We=0,Rn=null,Ki(n,j,A,$),i&&Bi){S=0;break e}break;default:$=We,We=0,Rn=null,Ki(n,j,A,$)}}Mj(),S=wt;break}catch(F){fx(n,F)}while(!0);return s&&n.shellSuspendCounter++,Zr=Oa=null,Xe=u,D.H=h,D.A=y,Le===null&&(ct=null,qe=0,zc()),S}function Mj(){for(;Le!==null;)px(Le)}function zj(n,s){var i=Xe;Xe|=2;var u=hx(),h=mx();ct!==n||qe!==s?(mu=null,hu=Ln()+500,Gi(n,s)):Bi=Go(n,s);e:do try{if(We!==0&&Le!==null){s=Le;var y=Rn;t:switch(We){case 1:We=0,Rn=null,Ki(n,s,y,1);break;case 2:case 9:if(Ey(y)){We=0,Rn=null,gx(s);break}s=function(){We!==2&&We!==9||ct!==n||(We=7),br(n)},y.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Ey(y)?(We=0,Rn=null,gx(s)):(We=0,Rn=null,Ki(n,s,y,7));break;case 5:var S=null;switch(Le.tag){case 26:S=Le.memoizedState;case 5:case 27:var j=Le;if(!S||Jx(S)){We=0,Rn=null;var A=j.sibling;if(A!==null)Le=A;else{var $=j.return;$!==null?(Le=$,gu($)):Le=null}break t}}We=0,Rn=null,Ki(n,s,y,5);break;case 6:We=0,Rn=null,Ki(n,s,y,6);break;case 8:Mh(),wt=6;break e;default:throw Error(a(462))}}Lj();break}catch(F){fx(n,F)}while(!0);return Zr=Oa=null,D.H=u,D.A=h,Xe=i,Le!==null?0:(ct=null,qe=0,zc(),wt)}function Lj(){for(;Le!==null&&!wc();)px(Le)}function px(n){var s=q0(n.alternate,n,ts);n.memoizedProps=n.pendingProps,s===null?gu(n):Le=s}function gx(n){var s=n,i=s.alternate;switch(s.tag){case 15:case 0:s=M0(i,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=M0(i,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:Wf(s);default:H0(i,s),s=Le=yy(s,ts),s=q0(i,s,ts)}n.memoizedProps=n.pendingProps,s===null?gu(n):Le=s}function Ki(n,s,i,u){Zr=Oa=null,Wf(s),zi=null,vl=0;var h=s.return;try{if(Ej(n,h,s,i,qe)){wt=1,ou(n,Bn(i,n.current)),Le=null;return}}catch(y){if(h!==null)throw Le=h,y;wt=1,ou(n,Bn(i,n.current)),Le=null;return}s.flags&32768?(Ze||u===1?n=!0:Bi||(qe&536870912)!==0?n=!1:(Os=n=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),yx(s,n)):gu(s)}function gu(n){var s=n;do{if((s.flags&32768)!==0){yx(s,Os);return}n=s.return;var i=Tj(s.alternate,s,ts);if(i!==null){Le=i;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=n}while(s!==null);wt===0&&(wt=5)}function yx(n,s){do{var i=Rj(n.alternate,n);if(i!==null){i.flags&=32767,Le=i;return}if(i=n.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(n=n.sibling,n!==null)){Le=n;return}Le=n=i}while(n!==null);wt=6,Le=null}function xx(n,s,i,u,h,y,S,j,A){n.cancelPendingCommit=null;do yu();while(Jt!==0);if((Xe&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=Af,gN(n,i,y,S,j,A),n===ct&&(Le=ct=null,qe=0),Vi=s,Is=n,Hi=i,Dh=y,Uh=h,lx=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,qj(wa,function(){return Nx(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=D.T,D.T=null,h=Q.p,Q.p=2,S=Xe,Xe|=4;try{Cj(n,s,i)}finally{Xe=S,Q.p=h,D.T=u}}Jt=1,vx(),bx(),wx()}}function vx(){if(Jt===1){Jt=0;var n=Is,s=Vi,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var u=Q.p;Q.p=2;var h=Xe;Xe|=4;try{tx(s,n);var y=Yh,S=oy(n.containerInfo),j=y.focusedElem,A=y.selectionRange;if(S!==j&&j&&j.ownerDocument&&iy(j.ownerDocument.documentElement,j)){if(A!==null&&Nf(j)){var $=A.start,F=A.end;if(F===void 0&&(F=$),"selectionStart"in j)j.selectionStart=$,j.selectionEnd=Math.min(F,j.value.length);else{var W=j.ownerDocument||document,V=W&&W.defaultView||window;if(V.getSelection){var H=V.getSelection(),_e=j.textContent.length,Ne=Math.min(A.start,_e),nt=A.end===void 0?Ne:Math.min(A.end,_e);!H.extend&&Ne>nt&&(S=nt,nt=Ne,Ne=S);var I=ay(j,Ne),O=ay(j,nt);if(I&&O&&(H.rangeCount!==1||H.anchorNode!==I.node||H.anchorOffset!==I.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=W.createRange();P.setStart(I.node,I.offset),H.removeAllRanges(),Ne>nt?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(W=[],H=j;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<W.length;j++){var Y=W[j];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Tu=!!Qh,Yh=Qh=null}finally{Xe=h,Q.p=u,D.T=i}}n.current=s,Jt=2}}function bx(){if(Jt===2){Jt=0;var n=Is,s=Vi,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var u=Q.p;Q.p=2;var h=Xe;Xe|=4;try{J0(n,s.alternate,s)}finally{Xe=h,Q.p=u,D.T=i}}Jt=3}}function wx(){if(Jt===4||Jt===3){Jt=0,Jd();var n=Is,s=Vi,i=Hi,u=lx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Jt=5:(Jt=0,Vi=Is=null,Sx(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Us=null),tf(i),s=s.stateNode,jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(fi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=D.T,h=Q.p,Q.p=2,D.T=null;try{for(var y=n.onRecoverableError,S=0;S<u.length;S++){var j=u[S];y(j.value,{componentStack:j.stack})}}finally{D.T=s,Q.p=h}}(Hi&3)!==0&&yu(),br(n),h=n.pendingLanes,(i&4194090)!==0&&(h&42)!==0?n===Ih?Al++:(Al=0,Ih=n):Al=0,Tl(0)}}function Sx(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ll(s)))}function yu(n){return vx(),bx(),wx(),Nx()}function Nx(){if(Jt!==5)return!1;var n=Is,s=Dh;Dh=0;var i=tf(Hi),u=D.T,h=Q.p;try{Q.p=32>i?32:i,D.T=null,i=Uh,Uh=null;var y=Is,S=Hi;if(Jt=0,Vi=Is=null,Hi=0,(Xe&6)!==0)throw Error(a(331));var j=Xe;if(Xe|=4,ix(y.current),rx(y,y.current,S,i),Xe=j,Tl(0,!1),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(fi,y)}catch{}return!0}finally{Q.p=h,D.T=u,Sx(n,s)}}function jx(n,s,i){s=Bn(i,s),s=hh(n.stateNode,s,2),n=ks(n,s,2),n!==null&&(Ko(n,2),br(n))}function it(n,s,i){if(n.tag===3)jx(n,n,i);else for(;s!==null;){if(s.tag===3){jx(s,n,i);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Us===null||!Us.has(u))){n=Bn(i,n),i=A0(2),u=ks(s,i,2),u!==null&&(T0(i,u,s,n),Ko(u,2),br(u));break}}s=s.return}}function Ph(n,s,i){var u=n.pingCache;if(u===null){u=n.pingCache=new Uj;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(i)||(Th=!0,h.add(i),n=Pj.bind(null,n,s,i),s.then(n,n))}function Pj(n,s,i){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&i,n.warmLanes&=~i,ct===n&&(qe&i)===i&&(wt===4||wt===3&&(qe&62914560)===qe&&300>Ln()-Oh?(Xe&2)===0&&Gi(n,0):Rh|=i,qi===qe&&(qi=0)),br(n)}function kx(n,s){s===0&&(s=wg()),n=Ei(n,s),n!==null&&(Ko(n,s),br(n))}function $j(n){var s=n.memoizedState,i=0;s!==null&&(i=s.retryLane),kx(n,i)}function Bj(n,s){var i=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),kx(n,i)}function qj(n,s){return Vo(n,s)}var xu=null,Zi=null,$h=!1,vu=!1,Bh=!1,Pa=0;function br(n){n!==Zi&&n.next===null&&(Zi===null?xu=Zi=n:Zi=Zi.next=n),vu=!0,$h||($h=!0,Hj())}function Tl(n,s){if(!Bh&&vu){Bh=!0;do for(var i=!1,u=xu;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var S=u.suspendedLanes,j=u.pingedLanes;y=(1<<31-kn(42|n)+1)-1,y&=h&~(S&~j),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(i=!0,Tx(u,y))}else y=qe,y=kc(u,u===ct?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Go(u,y)||(i=!0,Tx(u,y));u=u.next}while(i);Bh=!1}}function Vj(){_x()}function _x(){vu=$h=!1;var n=0;Pa!==0&&(Xj()&&(n=Pa),Pa=0);for(var s=Ln(),i=null,u=xu;u!==null;){var h=u.next,y=Ex(u,s);y===0?(u.next=null,i===null?xu=h:i.next=h,h===null&&(Zi=i)):(i=u,(n!==0||(y&3)!==0)&&(vu=!0)),u=h}Tl(n)}function Ex(n,s){for(var i=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var S=31-kn(y),j=1<<S,A=h[S];A===-1?((j&i)===0||(j&u)!==0)&&(h[S]=pN(j,s)):A<=s&&(n.expiredLanes|=j),y&=~j}if(s=ct,i=qe,i=kc(n,n===s?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,i===0||n===s&&(We===2||We===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ho(u),n.callbackNode=null,n.callbackPriority=0;if((i&3)===0||Go(n,i)){if(s=i&-i,s===n.callbackPriority)return s;switch(u!==null&&Ho(u),tf(i)){case 2:case 8:i=ba;break;case 32:i=wa;break;case 268435456:i=ht;break;default:i=wa}return u=Ax.bind(null,n),i=Vo(i,u),n.callbackPriority=s,n.callbackNode=i,s}return u!==null&&u!==null&&Ho(u),n.callbackPriority=2,n.callbackNode=null,2}function Ax(n,s){if(Jt!==0&&Jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var i=n.callbackNode;if(yu()&&n.callbackNode!==i)return null;var u=qe;return u=kc(n,n===ct?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(ux(n,u,s),Ex(n,Ln()),n.callbackNode!=null&&n.callbackNode===i?Ax.bind(null,n):null)}function Tx(n,s){if(yu())return null;ux(n,s,!0)}function Hj(){ek(function(){(Xe&6)!==0?Vo(va,Vj):_x()})}function qh(){return Pa===0&&(Pa=bg()),Pa}function Rx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Rc(""+n)}function Cx(n,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,n.id&&i.setAttribute("form",n.id),s.parentNode.insertBefore(i,s),n=new FormData(n),i.parentNode.removeChild(i),n}function Gj(n,s,i,u,h){if(s==="submit"&&i&&i.stateNode===h){var y=Rx((h[hn]||null).action),S=u.submitter;S&&(s=(s=S[hn]||null)?Rx(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var j=new Uc("action","action",null,u,h);n.push({event:j,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Pa!==0){var A=S?Cx(h,S):new FormData(h);lh(i,{pending:!0,data:A,method:h.method,action:y},null,A)}}else typeof y=="function"&&(j.preventDefault(),A=S?Cx(h,S):new FormData(h),lh(i,{pending:!0,data:A,method:h.method,action:y},y,A))},currentTarget:h}]})}}for(var Vh=0;Vh<Ef.length;Vh++){var Hh=Ef[Vh],Kj=Hh.toLowerCase(),Zj=Hh[0].toUpperCase()+Hh.slice(1);tr(Kj,"on"+Zj)}tr(uy,"onAnimationEnd"),tr(dy,"onAnimationIteration"),tr(fy,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(uj,"onTransitionRun"),tr(dj,"onTransitionStart"),tr(fj,"onTransitionCancel"),tr(hy,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Ox(n,s){s=(s&4)!==0;for(var i=0;i<n.length;i++){var u=n[i],h=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var S=u.length-1;0<=S;S--){var j=u[S],A=j.instance,$=j.currentTarget;if(j=j.listener,A!==y&&h.isPropagationStopped())break e;y=j,h.currentTarget=$;try{y(h)}catch(F){iu(F)}h.currentTarget=null,y=A}else for(S=0;S<u.length;S++){if(j=u[S],A=j.instance,$=j.currentTarget,j=j.listener,A!==y&&h.isPropagationStopped())break e;y=j,h.currentTarget=$;try{y(h)}catch(F){iu(F)}h.currentTarget=null,y=A}}}}function Pe(n,s){var i=s[nf];i===void 0&&(i=s[nf]=new Set);var u=n+"__bubble";i.has(u)||(Dx(s,n,2,!1),i.add(u))}function Gh(n,s,i){var u=0;s&&(u|=4),Dx(i,n,u,s)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Kh(n){if(!n[bu]){n[bu]=!0,_g.forEach(function(i){i!=="selectionchange"&&(Fj.has(i)||Gh(i,!1,n),Gh(i,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[bu]||(s[bu]=!0,Gh("selectionchange",!1,s))}}function Dx(n,s,i,u){switch(rv(s)){case 2:var h=wk;break;case 8:h=Sk;break;default:h=im}i=h.bind(null,s,i,n),h=void 0,!mf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(s,i,{capture:!0,passive:h}):n.addEventListener(s,i,!0):h!==void 0?n.addEventListener(s,i,{passive:h}):n.addEventListener(s,i,!1)}function Zh(n,s,i,u,h){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var j=u.stateNode.containerInfo;if(j===h)break;if(S===4)for(S=u.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;j!==null;){if(S=mi(j),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){u=y=S;continue e}j=j.parentNode}}u=u.return}$g(function(){var $=y,F=ff(i),W=[];e:{var V=my.get(n);if(V!==void 0){var H=Uc,_e=n;switch(n){case"keypress":if(Oc(i)===0)break e;case"keydown":case"keyup":H=qN;break;case"focusin":_e="focus",H=xf;break;case"focusout":_e="blur",H=xf;break;case"beforeblur":case"afterblur":H=xf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=RN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=GN;break;case uy:case dy:case fy:H=DN;break;case hy:H=ZN;break;case"scroll":case"scrollend":H=AN;break;case"wheel":H=QN;break;case"copy":case"cut":case"paste":H=IN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gg;break;case"toggle":case"beforetoggle":H=JN}var Ne=(s&4)!==0,nt=!Ne&&(n==="scroll"||n==="scrollend"),I=Ne?V!==null?V+"Capture":null:V;Ne=[];for(var O=$,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||I===null||(Y=Qo(O,I),Y!=null&&Ne.push(Cl(O,Y,P))),nt)break;O=O.return}0<Ne.length&&(V=new H(V,_e,null,i,F),W.push({event:V,listeners:Ne}))}}if((s&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",V&&i!==df&&(_e=i.relatedTarget||i.fromElement)&&(mi(_e)||_e[hi]))break e;if((H||V)&&(V=F.window===F?F:(V=F.ownerDocument)?V.defaultView||V.parentWindow:window,H?(_e=i.relatedTarget||i.toElement,H=$,_e=_e?mi(_e):null,_e!==null&&(nt=c(_e),Ne=_e.tag,_e!==nt||Ne!==5&&Ne!==27&&Ne!==6)&&(_e=null)):(H=null,_e=$),H!==_e)){if(Ne=Vg,Y="onMouseLeave",I="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=Gg,Y="onPointerLeave",I="onPointerEnter",O="pointer"),nt=H==null?V:Fo(H),P=_e==null?V:Fo(_e),V=new Ne(Y,O+"leave",H,i,F),V.target=nt,V.relatedTarget=P,Y=null,mi(F)===$&&(Ne=new Ne(I,O+"enter",_e,i,F),Ne.target=P,Ne.relatedTarget=nt,Y=Ne),nt=Y,H&&_e)t:{for(Ne=H,I=_e,O=0,P=Ne;P;P=Fi(P))O++;for(P=0,Y=I;Y;Y=Fi(Y))P++;for(;0<O-P;)Ne=Fi(Ne),O--;for(;0<P-O;)I=Fi(I),P--;for(;O--;){if(Ne===I||I!==null&&Ne===I.alternate)break t;Ne=Fi(Ne),I=Fi(I)}Ne=null}else Ne=null;H!==null&&Ux(W,V,H,Ne,!1),_e!==null&&nt!==null&&Ux(W,nt,_e,Ne,!0)}}e:{if(V=$?Fo($):window,H=V.nodeName&&V.nodeName.toLowerCase(),H==="select"||H==="input"&&V.type==="file")var ge=Wg;else if(Jg(V))if(ey)ge=oj;else{ge=aj;var ze=sj}else H=V.nodeName,!H||H.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?$&&uf($.elementType)&&(ge=Wg):ge=ij;if(ge&&(ge=ge(n,$))){Xg(W,ge,i,F);break e}ze&&ze(n,V,$),n==="focusout"&&$&&V.type==="number"&&$.memoizedProps.value!=null&&cf(V,"number",V.value)}switch(ze=$?Fo($):window,n){case"focusin":(Jg(ze)||ze.contentEditable==="true")&&(ji=ze,jf=$,rl=null);break;case"focusout":rl=jf=ji=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,ly(W,i,F);break;case"selectionchange":if(cj)break;case"keydown":case"keyup":ly(W,i,F)}var we;if(bf)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ni?Qg(n,i)&&(je="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(je="onCompositionStart");je&&(Kg&&i.locale!=="ko"&&(Ni||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ni&&(we=Bg()):(ws=F,pf="value"in ws?ws.value:ws.textContent,Ni=!0)),ze=wu($,je),0<ze.length&&(je=new Hg(je,n,null,i,F),W.push({event:je,listeners:ze}),we?je.data=we:(we=Yg(i),we!==null&&(je.data=we)))),(we=WN?ej(n,i):tj(n,i))&&(je=wu($,"onBeforeInput"),0<je.length&&(ze=new Hg("onBeforeInput","beforeinput",null,i,F),W.push({event:ze,listeners:je}),ze.data=we)),Gj(W,n,$,i,F)}Ox(W,s)})}function Cl(n,s,i){return{instance:n,listener:s,currentTarget:i}}function wu(n,s){for(var i=s+"Capture",u=[];n!==null;){var h=n,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Qo(n,i),h!=null&&u.unshift(Cl(n,h,y)),h=Qo(n,s),h!=null&&u.push(Cl(n,h,y))),n.tag===3)return u;n=n.return}return[]}function Fi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ux(n,s,i,u,h){for(var y=s._reactName,S=[];i!==null&&i!==u;){var j=i,A=j.alternate,$=j.stateNode;if(j=j.tag,A!==null&&A===u)break;j!==5&&j!==26&&j!==27||$===null||(A=$,h?($=Qo(i,y),$!=null&&S.unshift(Cl(i,$,A))):h||($=Qo(i,y),$!=null&&S.push(Cl(i,$,A)))),i=i.return}S.length!==0&&n.push({event:s,listeners:S})}var Qj=/\r\n?/g,Yj=/\u0000|\uFFFD/g;function Ix(n){return(typeof n=="string"?n:""+n).replace(Qj,`
`).replace(Yj,"")}function Mx(n,s){return s=Ix(s),Ix(n)===s}function Su(){}function tt(n,s,i,u,h,y){switch(i){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||bi(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&bi(n,""+u);break;case"className":Ec(n,"class",u);break;case"tabIndex":Ec(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ec(n,i,u);break;case"style":Lg(n,u,y);break;case"data":if(s!=="object"){Ec(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||i!=="href")){n.removeAttribute(i);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(i);break}u=Rc(""+u),n.setAttribute(i,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(i==="formAction"?(s!=="input"&&tt(n,s,"name",h.name,h,null),tt(n,s,"formEncType",h.formEncType,h,null),tt(n,s,"formMethod",h.formMethod,h,null),tt(n,s,"formTarget",h.formTarget,h,null)):(tt(n,s,"encType",h.encType,h,null),tt(n,s,"method",h.method,h,null),tt(n,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(i);break}u=Rc(""+u),n.setAttribute(i,u);break;case"onClick":u!=null&&(n.onclick=Su);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=i}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}i=Rc(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(i,""+u):n.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(i,""):n.removeAttribute(i);break;case"capture":case"download":u===!0?n.setAttribute(i,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(i,u):n.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(i,u):n.removeAttribute(i);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(i):n.setAttribute(i,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),_c(n,"popover",u);break;case"xlinkActuate":qr(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qr(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qr(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qr(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qr(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qr(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qr(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":_c(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=_N.get(i)||i,_c(n,i,u))}}function Fh(n,s,i,u,h,y){switch(i){case"style":Lg(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=i}}break;case"children":typeof u=="string"?bi(n,u):(typeof u=="number"||typeof u=="bigint")&&bi(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eg.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),s=i.slice(2,h?i.length-7:void 0),y=n[hn]||null,y=y!=null?y[i]:null,typeof y=="function"&&n.removeEventListener(s,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(i in n?n[i]=null:n.hasAttribute(i)&&n.removeAttribute(i)),n.addEventListener(s,u,h);break e}i in n?n[i]=u:u===!0?n.setAttribute(i,""):_c(n,i,u)}}}function Xt(n,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,h=!1,y;for(y in i)if(i.hasOwnProperty(y)){var S=i[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:tt(n,s,y,S,i,null)}}h&&tt(n,s,"srcSet",i.srcSet,i,null),u&&tt(n,s,"src",i.src,i,null);return;case"input":Pe("invalid",n);var j=y=S=h=null,A=null,$=null;for(u in i)if(i.hasOwnProperty(u)){var F=i[u];if(F!=null)switch(u){case"name":h=F;break;case"type":S=F;break;case"checked":A=F;break;case"defaultChecked":$=F;break;case"value":y=F;break;case"defaultValue":j=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,s));break;default:tt(n,s,u,F,i,null)}}Ug(n,y,j,A,$,S,h,!1),Ac(n);return;case"select":Pe("invalid",n),u=S=y=null;for(h in i)if(i.hasOwnProperty(h)&&(j=i[h],j!=null))switch(h){case"value":y=j;break;case"defaultValue":S=j;break;case"multiple":u=j;default:tt(n,s,h,j,i,null)}s=y,i=S,n.multiple=!!u,s!=null?vi(n,!!u,s,!1):i!=null&&vi(n,!!u,i,!0);return;case"textarea":Pe("invalid",n),y=h=u=null;for(S in i)if(i.hasOwnProperty(S)&&(j=i[S],j!=null))switch(S){case"value":u=j;break;case"defaultValue":h=j;break;case"children":y=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(91));break;default:tt(n,s,S,j,i,null)}Mg(n,u,h,y),Ac(n);return;case"option":for(A in i)if(i.hasOwnProperty(A)&&(u=i[A],u!=null))switch(A){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(n,s,A,u,i,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<Rl.length;u++)Pe(Rl[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in i)if(i.hasOwnProperty($)&&(u=i[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:tt(n,s,$,u,i,null)}return;default:if(uf(s)){for(F in i)i.hasOwnProperty(F)&&(u=i[F],u!==void 0&&Fh(n,s,F,u,i,void 0));return}}for(j in i)i.hasOwnProperty(j)&&(u=i[j],u!=null&&tt(n,s,j,u,i,null))}function Jj(n,s,i,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,S=null,j=null,A=null,$=null,F=null;for(H in i){var W=i[H];if(i.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=W;default:u.hasOwnProperty(H)||tt(n,s,H,null,u,W)}}for(var V in u){var H=u[V];if(W=i[V],u.hasOwnProperty(V)&&(H!=null||W!=null))switch(V){case"type":y=H;break;case"name":h=H;break;case"checked":$=H;break;case"defaultChecked":F=H;break;case"value":S=H;break;case"defaultValue":j=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,s));break;default:H!==W&&tt(n,s,V,H,u,W)}}lf(n,S,j,A,$,F,y,h);return;case"select":H=S=j=V=null;for(y in i)if(A=i[y],i.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":H=A;default:u.hasOwnProperty(y)||tt(n,s,y,null,u,A)}for(h in u)if(y=u[h],A=i[h],u.hasOwnProperty(h)&&(y!=null||A!=null))switch(h){case"value":V=y;break;case"defaultValue":j=y;break;case"multiple":S=y;default:y!==A&&tt(n,s,h,y,u,A)}s=j,i=S,u=H,V!=null?vi(n,!!i,V,!1):!!u!=!!i&&(s!=null?vi(n,!!i,s,!0):vi(n,!!i,i?[]:"",!1));return;case"textarea":H=V=null;for(j in i)if(h=i[j],i.hasOwnProperty(j)&&h!=null&&!u.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:tt(n,s,j,null,u,h)}for(S in u)if(h=u[S],y=i[S],u.hasOwnProperty(S)&&(h!=null||y!=null))switch(S){case"value":V=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==y&&tt(n,s,S,h,u,y)}Ig(n,V,H);return;case"option":for(var _e in i)if(V=i[_e],i.hasOwnProperty(_e)&&V!=null&&!u.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:tt(n,s,_e,null,u,V)}for(A in u)if(V=u[A],H=i[A],u.hasOwnProperty(A)&&V!==H&&(V!=null||H!=null))switch(A){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:tt(n,s,A,V,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in i)V=i[Ne],i.hasOwnProperty(Ne)&&V!=null&&!u.hasOwnProperty(Ne)&&tt(n,s,Ne,null,u,V);for($ in u)if(V=u[$],H=i[$],u.hasOwnProperty($)&&V!==H&&(V!=null||H!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,s));break;default:tt(n,s,$,V,u,H)}return;default:if(uf(s)){for(var nt in i)V=i[nt],i.hasOwnProperty(nt)&&V!==void 0&&!u.hasOwnProperty(nt)&&Fh(n,s,nt,void 0,u,V);for(F in u)V=u[F],H=i[F],!u.hasOwnProperty(F)||V===H||V===void 0&&H===void 0||Fh(n,s,F,V,u,H);return}}for(var I in i)V=i[I],i.hasOwnProperty(I)&&V!=null&&!u.hasOwnProperty(I)&&tt(n,s,I,null,u,V);for(W in u)V=u[W],H=i[W],!u.hasOwnProperty(W)||V===H||V==null&&H==null||tt(n,s,W,V,u,H)}var Qh=null,Yh=null;function Nu(n){return n.nodeType===9?n:n.ownerDocument}function zx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lx(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Jh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xh=null;function Xj(){var n=window.event;return n&&n.type==="popstate"?n===Xh?!1:(Xh=n,!0):(Xh=null,!1)}var Px=typeof setTimeout=="function"?setTimeout:void 0,Wj=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,ek=typeof queueMicrotask=="function"?queueMicrotask:typeof $x<"u"?function(n){return $x.resolve(null).then(n).catch(tk)}:Px;function tk(n){setTimeout(function(){throw n})}function zs(n){return n==="head"}function Bx(n,s){var i=s,u=0,h=0;do{var y=i.nextSibling;if(n.removeChild(i),y&&y.nodeType===8)if(i=y.data,i==="/$"){if(0<u&&8>u){i=u;var S=n.ownerDocument;if(i&1&&Ol(S.documentElement),i&2&&Ol(S.body),i&4)for(i=S.head,Ol(i),S=i.firstChild;S;){var j=S.nextSibling,A=S.nodeName;S[Zo]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&S.rel.toLowerCase()==="stylesheet"||i.removeChild(S),S=j}}if(h===0){n.removeChild(y),$l(s);return}h--}else i==="$"||i==="$?"||i==="$!"?h++:u=i.charCodeAt(0)-48;else u=0;i=y}while(i);$l(s)}function Wh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Wh(i),rf(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}n.removeChild(i)}}function nk(n,s,i,u){for(;n.nodeType===1;){var h=i;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Zo])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=rr(n.nextSibling),n===null)break}return null}function rk(n,s,i){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=rr(n.nextSibling),n===null))return null;return n}function em(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function sk(n,s){var i=n.ownerDocument;if(n.data!=="$?"||i.readyState==="complete")s();else{var u=function(){s(),i.removeEventListener("DOMContentLoaded",u)};i.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function rr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var tm=null;function qx(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return n;s--}else i==="/$"&&s++}n=n.previousSibling}return null}function Vx(n,s,i){switch(s=Nu(i),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Ol(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);rf(n)}var Zn=new Map,Hx=new Set;function ju(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ns=Q.d;Q.d={f:ak,r:ik,D:ok,C:lk,L:ck,m:uk,X:fk,S:dk,M:hk};function ak(){var n=ns.f(),s=pu();return n||s}function ik(n){var s=pi(n);s!==null&&s.tag===5&&s.type==="form"?u0(s):ns.r(n)}var Qi=typeof document>"u"?null:document;function Gx(n,s,i){var u=Qi;if(u&&typeof s=="string"&&s){var h=$n(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Hx.has(h)||(Hx.add(h),n={rel:n,crossOrigin:i,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),Xt(s,"link",n),qt(s),u.head.appendChild(s)))}}function ok(n){ns.D(n),Gx("dns-prefetch",n,null)}function lk(n,s){ns.C(n,s),Gx("preconnect",n,s)}function ck(n,s,i){ns.L(n,s,i);var u=Qi;if(u&&n&&s){var h='link[rel="preload"][as="'+$n(s)+'"]';s==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+$n(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+$n(i.imageSizes)+'"]')):h+='[href="'+$n(n)+'"]';var y=h;switch(s){case"style":y=Yi(n);break;case"script":y=Ji(n)}Zn.has(y)||(n=x({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:n,as:s},i),Zn.set(y,n),u.querySelector(h)!==null||s==="style"&&u.querySelector(Dl(y))||s==="script"&&u.querySelector(Ul(y))||(s=u.createElement("link"),Xt(s,"link",n),qt(s),u.head.appendChild(s)))}}function uk(n,s){ns.m(n,s);var i=Qi;if(i&&n){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+$n(u)+'"][href="'+$n(n)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ji(n)}if(!Zn.has(y)&&(n=x({rel:"modulepreload",href:n},s),Zn.set(y,n),i.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ul(y)))return}u=i.createElement("link"),Xt(u,"link",n),qt(u),i.head.appendChild(u)}}}function dk(n,s,i){ns.S(n,s,i);var u=Qi;if(u&&n){var h=gi(u).hoistableStyles,y=Yi(n);s=s||"default";var S=h.get(y);if(!S){var j={loading:0,preload:null};if(S=u.querySelector(Dl(y)))j.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":s},i),(i=Zn.get(y))&&nm(n,i);var A=S=u.createElement("link");qt(A),Xt(A,"link",n),A._p=new Promise(function($,F){A.onload=$,A.onerror=F}),A.addEventListener("load",function(){j.loading|=1}),A.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ku(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:j},h.set(y,S)}}}function fk(n,s){ns.X(n,s);var i=Qi;if(i&&n){var u=gi(i).hoistableScripts,h=Ji(n),y=u.get(h);y||(y=i.querySelector(Ul(h)),y||(n=x({src:n,async:!0},s),(s=Zn.get(h))&&rm(n,s),y=i.createElement("script"),qt(y),Xt(y,"link",n),i.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function hk(n,s){ns.M(n,s);var i=Qi;if(i&&n){var u=gi(i).hoistableScripts,h=Ji(n),y=u.get(h);y||(y=i.querySelector(Ul(h)),y||(n=x({src:n,async:!0,type:"module"},s),(s=Zn.get(h))&&rm(n,s),y=i.createElement("script"),qt(y),Xt(y,"link",n),i.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function Kx(n,s,i,u){var h=(h=be.current)?ju(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=Yi(i.href),i=gi(h).hoistableStyles,u=i.get(s),u||(u={type:"style",instance:null,count:0,state:null},i.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){n=Yi(i.href);var y=gi(h).hoistableStyles,S=y.get(n);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,S),(y=h.querySelector(Dl(n)))&&!y._p&&(S.instance=y,S.state.loading=5),Zn.has(n)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Zn.set(n,i),y||mk(h,n,i,S.state))),s&&u===null)throw Error(a(528,""));return S}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ji(i),i=gi(h).hoistableScripts,u=i.get(s),u||(u={type:"script",instance:null,count:0,state:null},i.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Yi(n){return'href="'+$n(n)+'"'}function Dl(n){return'link[rel="stylesheet"]['+n+"]"}function Zx(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function mk(n,s,i,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Xt(s,"link",i),qt(s),n.head.appendChild(s))}function Ji(n){return'[src="'+$n(n)+'"]'}function Ul(n){return"script[async]"+n}function Fx(n,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+$n(i.href)+'"]');if(u)return s.instance=u,qt(u),u;var h=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),qt(u),Xt(u,"style",h),ku(u,i.precedence,n),s.instance=u;case"stylesheet":h=Yi(i.href);var y=n.querySelector(Dl(h));if(y)return s.state.loading|=4,s.instance=y,qt(y),y;u=Zx(i),(h=Zn.get(h))&&nm(u,h),y=(n.ownerDocument||n).createElement("link"),qt(y);var S=y;return S._p=new Promise(function(j,A){S.onload=j,S.onerror=A}),Xt(y,"link",u),s.state.loading|=4,ku(y,i.precedence,n),s.instance=y;case"script":return y=Ji(i.src),(h=n.querySelector(Ul(y)))?(s.instance=h,qt(h),h):(u=i,(h=Zn.get(y))&&(u=x({},i),rm(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),qt(h),Xt(h,"link",u),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ku(u,i.precedence,n));return s.instance}function ku(n,s,i){for(var u=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,S=0;S<u.length;S++){var j=u[S];if(j.dataset.precedence===s)y=j;else if(y!==h)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(n,s.firstChild))}function nm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function rm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var _u=null;function Qx(n,s,i){if(_u===null){var u=new Map,h=_u=new Map;h.set(i,u)}else h=_u,u=h.get(i),u||(u=new Map,h.set(i,u));if(u.has(n))return u;for(u.set(n,null),i=i.getElementsByTagName(n),h=0;h<i.length;h++){var y=i[h];if(!(y[Zo]||y[rn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=n+S;var j=u.get(S);j?j.push(y):u.set(S,[y])}}return u}function Yx(n,s,i){n=n.ownerDocument||n,n.head.insertBefore(i,s==="title"?n.querySelector("head > title"):null)}function pk(n,s,i){if(i===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Jx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Il=null;function gk(){}function yk(n,s,i){if(Il===null)throw Error(a(475));var u=Il;if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Yi(i.href),y=n.querySelector(Dl(h));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Eu.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=y,qt(y);return}y=n.ownerDocument||n,i=Zx(i),(h=Zn.get(h))&&nm(i,h),y=y.createElement("link"),qt(y);var S=y;S._p=new Promise(function(j,A){S.onload=j,S.onerror=A}),Xt(y,"link",i),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Eu.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function xk(){if(Il===null)throw Error(a(475));var n=Il;return n.stylesheets&&n.count===0&&sm(n,n.stylesheets),0<n.count?function(s){var i=setTimeout(function(){if(n.stylesheets&&sm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(i)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)sm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Au=null;function sm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Au=new Map,s.forEach(vk,n),Au=null,Eu.call(n))}function vk(n,s){if(!(s.state.loading&4)){var i=Au.get(n);if(i)var u=i.get(null);else{i=new Map,Au.set(n,i);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var S=h[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(i.set(S.dataset.precedence,S),u=S)}u&&i.set(null,u)}h=s.instance,S=h.getAttribute("data-precedence"),y=i.get(S)||u,y===u&&i.set(null,h),i.set(S,h),this.count++,u=Eu.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var Ml={$$typeof:U,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function bk(n,s,i,u,h,y,S,j){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.hiddenUpdates=Wd(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Xx(n,s,i,u,h,y,S,j,A,$,F,W){return n=new bk(n,s,i,S,j,A,$,W),s=1,y===!0&&(s|=24),y=En(3,null,null,s),n.current=y,y.stateNode=n,s=Pf(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:i,cache:s},Vf(y),n}function Wx(n){return n?(n=Ai,n):Ai}function ev(n,s,i,u,h,y){h=Wx(h),u.context===null?u.context=h:u.pendingContext=h,u=js(s),u.payload={element:i},y=y===void 0?null:y,y!==null&&(u.callback=y),i=ks(n,u,s),i!==null&&(On(i,n,s),fl(i,n,s))}function tv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<s?i:s}}function am(n,s){tv(n,s),(n=n.alternate)&&tv(n,s)}function nv(n){if(n.tag===13){var s=Ei(n,67108864);s!==null&&On(s,n,67108864),am(n,67108864)}}var Tu=!0;function wk(n,s,i,u){var h=D.T;D.T=null;var y=Q.p;try{Q.p=2,im(n,s,i,u)}finally{Q.p=y,D.T=h}}function Sk(n,s,i,u){var h=D.T;D.T=null;var y=Q.p;try{Q.p=8,im(n,s,i,u)}finally{Q.p=y,D.T=h}}function im(n,s,i,u){if(Tu){var h=om(u);if(h===null)Zh(n,s,u,Ru,i),sv(n,u);else if(jk(h,n,s,i,u))u.stopPropagation();else if(sv(n,u),s&4&&-1<Nk.indexOf(n)){for(;h!==null;){var y=pi(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Sa(y.pendingLanes);if(S!==0){var j=y;for(j.pendingLanes|=2,j.entangledLanes|=2;S;){var A=1<<31-kn(S);j.entanglements[1]|=A,S&=~A}br(y),(Xe&6)===0&&(hu=Ln()+500,Tl(0))}}break;case 13:j=Ei(y,2),j!==null&&On(j,y,2),pu(),am(y,2)}if(y=om(u),y===null&&Zh(n,s,u,Ru,i),y===h)break;h=y}h!==null&&u.stopPropagation()}else Zh(n,s,u,null,i)}}function om(n){return n=ff(n),lm(n)}var Ru=null;function lm(n){if(Ru=null,n=mi(n),n!==null){var s=c(n);if(s===null)n=null;else{var i=s.tag;if(i===13){if(n=d(s),n!==null)return n;n=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ru=n,null}function rv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xd()){case va:return 2;case ba:return 8;case wa:case Sc:return 32;case ht:return 268435456;default:return 32}default:return 32}}var cm=!1,Ls=null,Ps=null,$s=null,zl=new Map,Ll=new Map,Bs=[],Nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(n,s){switch(n){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":zl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(s.pointerId)}}function Pl(n,s,i,u,h,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:i,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},s!==null&&(s=pi(s),s!==null&&nv(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function jk(n,s,i,u,h){switch(s){case"focusin":return Ls=Pl(Ls,n,s,i,u,h),!0;case"dragenter":return Ps=Pl(Ps,n,s,i,u,h),!0;case"mouseover":return $s=Pl($s,n,s,i,u,h),!0;case"pointerover":var y=h.pointerId;return zl.set(y,Pl(zl.get(y)||null,n,s,i,u,h)),!0;case"gotpointercapture":return y=h.pointerId,Ll.set(y,Pl(Ll.get(y)||null,n,s,i,u,h)),!0}return!1}function av(n){var s=mi(n.target);if(s!==null){var i=c(s);if(i!==null){if(s=i.tag,s===13){if(s=d(i),s!==null){n.blockedOn=s,yN(n.priority,function(){if(i.tag===13){var u=Cn();u=ef(u);var h=Ei(i,u);h!==null&&On(h,i,u),am(i,u)}});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var i=om(n.nativeEvent);if(i===null){i=n.nativeEvent;var u=new i.constructor(i.type,i);df=u,i.target.dispatchEvent(u),df=null}else return s=pi(i),s!==null&&nv(s),n.blockedOn=i,!1;s.shift()}return!0}function iv(n,s,i){Cu(n)&&i.delete(s)}function kk(){cm=!1,Ls!==null&&Cu(Ls)&&(Ls=null),Ps!==null&&Cu(Ps)&&(Ps=null),$s!==null&&Cu($s)&&($s=null),zl.forEach(iv),Ll.forEach(iv)}function Ou(n,s){n.blockedOn===s&&(n.blockedOn=null,cm||(cm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kk)))}var Du=null;function ov(n){Du!==n&&(Du=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Du===n&&(Du=null);for(var s=0;s<n.length;s+=3){var i=n[s],u=n[s+1],h=n[s+2];if(typeof u!="function"){if(lm(u||i)===null)continue;break}var y=pi(i);y!==null&&(n.splice(s,3),s-=3,lh(y,{pending:!0,data:h,method:i.method,action:u},u,h))}}))}function $l(n){function s(A){return Ou(A,n)}Ls!==null&&Ou(Ls,n),Ps!==null&&Ou(Ps,n),$s!==null&&Ou($s,n),zl.forEach(s),Ll.forEach(s);for(var i=0;i<Bs.length;i++){var u=Bs[i];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Bs.length&&(i=Bs[0],i.blockedOn===null);)av(i),i.blockedOn===null&&Bs.shift();if(i=(n.ownerDocument||n).$$reactFormReplay,i!=null)for(u=0;u<i.length;u+=3){var h=i[u],y=i[u+1],S=h[hn]||null;if(typeof y=="function")S||ov(i);else if(S){var j=null;if(y&&y.hasAttribute("formAction")){if(h=y,S=y[hn]||null)j=S.formAction;else if(lm(h)!==null)continue}else j=S.action;typeof j=="function"?i[u+1]=j:(i.splice(u,3),u-=3),ov(i)}}}function um(n){this._internalRoot=n}Uu.prototype.render=um.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,u=Cn();ev(i,u,n,s,null,null)},Uu.prototype.unmount=um.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ev(n.current,2,null,n,null,null),pu(),s[hi]=null}};function Uu(n){this._internalRoot=n}Uu.prototype.unstable_scheduleHydration=function(n){if(n){var s=jg();n={blockedOn:null,target:n,priority:s};for(var i=0;i<Bs.length&&s!==0&&s<Bs[i].priority;i++);Bs.splice(i,0,n),i===0&&av(n)}};var lv=t.version;if(lv!=="19.1.0")throw Error(a(527,lv,"19.1.0"));Q.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var _k={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{fi=Iu.inject(_k),jn=Iu}catch{}}return ql.createRoot=function(n,s){if(!l(n))throw Error(a(299));var i=!1,u="",h=j0,y=k0,S=_0,j=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks)),s=Xx(n,1,!1,null,null,i,u,h,y,S,j,null),n[hi]=s.current,Kh(n),new um(s)},ql.hydrateRoot=function(n,s,i){if(!l(n))throw Error(a(299));var u=!1,h="",y=j0,S=k0,j=_0,A=null,$=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks),i.formState!==void 0&&($=i.formState)),s=Xx(n,1,!0,s,i??null,u,h,y,S,j,A,$),s.context=Wx(null),i=s.current,u=Cn(),u=ef(u),h=js(u),h.callback=null,ks(i,h,u),i=u,s.current.lanes=i,Ko(s,i),br(s),n[hi]=s.current,Kh(n),new Uu(s)},ql.version="19.1.0",ql}var vv;function Pk(){if(vv)return mm.exports;vv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mm.exports=Lk(),mm.exports}var $k=Pk();const Bk=pw($k);var qk="Invariant failed";function gs(e,t){if(!e)throw new Error(qk)}const ao=new WeakMap,nd=new WeakMap,fd={current:[]};let xm=!1,Wl=0;const Yl=new Set,zu=new Map;function yw(e){const t=Array.from(e).sort((r,a)=>r instanceof io&&r.options.deps.includes(a)?1:a instanceof io&&a.options.deps.includes(r)?-1:0);for(const r of t){if(fd.current.includes(r))continue;fd.current.push(r),r.recompute();const a=nd.get(r);if(a)for(const l of a){const c=ao.get(l);c&&yw(c)}}}function Vk(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Hk(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function xw(e){if(Wl>0&&!zu.has(e)&&zu.set(e,e.prevState),Yl.add(e),!(Wl>0)&&!xm)try{for(xm=!0;Yl.size>0;){const t=Array.from(Yl);Yl.clear();for(const r of t){const a=zu.get(r)??r.prevState;r.prevState=a,Vk(r)}for(const r of t){const a=ao.get(r);a&&(fd.current.push(r),yw(a))}for(const r of t){const a=ao.get(r);if(a)for(const l of a)Hk(l)}}}finally{xm=!1,fd.current=[],zu.clear()}}function ec(e){Wl++;try{e()}finally{if(Wl--,Wl===0){const t=Array.from(Yl)[0];t&&xw(t)}}}function Gk(e){return typeof e=="function"}class Lm{constructor(t,r){this.listeners=new Set,this.subscribe=a=>{var l,c;this.listeners.add(a);const d=(c=(l=this.options)==null?void 0:l.onSubscribe)==null?void 0:c.call(l,a,this);return()=>{this.listeners.delete(a),d==null||d()}},this.prevState=t,this.state=t,this.options=r}setState(t){var r,a,l;this.prevState=this.state,(r=this.options)!=null&&r.updateFn?this.state=this.options.updateFn(this.prevState)(t):Gk(t)?this.state=t(this.prevState):this.state=t,(l=(a=this.options)==null?void 0:a.onUpdate)==null||l.call(a),xw(this)}}class io{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const r=[],a=[];for(const l of this.options.deps)r.push(l.prevState),a.push(l.state);return this.lastSeenDepValues=a,{prevDepVals:r,currDepVals:a,prevVal:this.prevState??void 0}},this.recompute=()=>{var r,a;this.prevState=this.state;const{prevDepVals:l,currDepVals:c,prevVal:d}=this.getDepVals();this.state=this.options.fn({prevDepVals:l,currDepVals:c,prevVal:d}),(a=(r=this.options).onUpdate)==null||a.call(r)},this.checkIfRecalculationNeededDeeply=()=>{for(const c of this.options.deps)c instanceof io&&c.checkIfRecalculationNeededDeeply();let r=!1;const a=this.lastSeenDepValues,{currDepVals:l}=this.getDepVals();for(let c=0;c<l.length;c++)if(l[c]!==a[c]){r=!0;break}r&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const r of this._subscriptions)r()}),this.subscribe=r=>{var a,l;this.listeners.add(r);const c=(l=(a=this.options).onSubscribe)==null?void 0:l.call(a,r,this);return()=>{this.listeners.delete(r),c==null||c()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const r of t)if(r instanceof io)r.registerOnGraph(),this.registerOnGraph(r.options.deps);else if(r instanceof Lm){let a=ao.get(r);a||(a=new Set,ao.set(r,a)),a.add(this);let l=nd.get(this);l||(l=new Set,nd.set(this,l)),l.add(r)}}unregisterFromGraph(t=this.options.deps){for(const r of t)if(r instanceof io)this.unregisterFromGraph(r.options.deps);else if(r instanceof Lm){const a=ao.get(r);a&&a.delete(this);const l=nd.get(this);l&&l.delete(r)}}}const oa="__TSR_index",bv="popstate",wv="beforeunload";function vw(e){let t=e.getLocation();const r=new Set,a=d=>{t=e.getLocation(),r.forEach(f=>f({location:t,action:d}))},l=d=>{e.notifyOnIndexChange??!0?a(d):t=e.getLocation()},c=async({task:d,navigateOpts:f,...m})=>{var p,x;if((f==null?void 0:f.ignoreBlocker)??!1){d();return}const v=((p=e.getBlockers)==null?void 0:p.call(e))??[],w=m.type==="PUSH"||m.type==="REPLACE";if(typeof document<"u"&&v.length&&w)for(const b of v){const N=rc(m.path,m.state);if(await b.blockerFn({currentLocation:t,nextLocation:N,action:m.type})){(x=e.onBlocked)==null||x.call(e);return}}d()};return{get location(){return t},get length(){return e.getLength()},subscribers:r,subscribe:d=>(r.add(d),()=>{r.delete(d)}),push:(d,f,m)=>{const p=t.state[oa];f=Pm(p+1,f),c({task:()=>{e.pushState(d,f),a({type:"PUSH"})},navigateOpts:m,type:"PUSH",path:d,state:f})},replace:(d,f,m)=>{const p=t.state[oa];f=Pm(p,f),c({task:()=>{e.replaceState(d,f),a({type:"REPLACE"})},navigateOpts:m,type:"REPLACE",path:d,state:f})},go:(d,f)=>{c({task:()=>{e.go(d),l({type:"GO",index:d})},navigateOpts:f,type:"GO"})},back:d=>{c({task:()=>{e.back((d==null?void 0:d.ignoreBlocker)??!1),l({type:"BACK"})},navigateOpts:d,type:"BACK"})},forward:d=>{c({task:()=>{e.forward((d==null?void 0:d.ignoreBlocker)??!1),l({type:"FORWARD"})},navigateOpts:d,type:"FORWARD"})},canGoBack:()=>t.state[oa]!==0,createHref:d=>e.createHref(d),block:d=>{var f;if(!e.setBlockers)return()=>{};const m=((f=e.getBlockers)==null?void 0:f.call(e))??[];return e.setBlockers([...m,d]),()=>{var p,x;const g=((p=e.getBlockers)==null?void 0:p.call(e))??[];(x=e.setBlockers)==null||x.call(e,g.filter(v=>v!==d))}},flush:()=>{var d;return(d=e.flush)==null?void 0:d.call(e)},destroy:()=>{var d;return(d=e.destroy)==null?void 0:d.call(e)},notify:a}}function Pm(e,t){t||(t={});const r=_p();return{...t,key:r,__TSR_key:r,[oa]:e}}function Kk(e){var t,r;const a=typeof document<"u"?window:void 0,l=a.history.pushState,c=a.history.replaceState;let d=[];const f=()=>d,m=L=>d=L,p=L=>L,x=()=>rc(`${a.location.pathname}${a.location.search}${a.location.hash}`,a.history.state);if(!((t=a.history.state)!=null&&t.__TSR_key)&&!((r=a.history.state)!=null&&r.key)){const L=_p();a.history.replaceState({[oa]:0,key:L,__TSR_key:L},"")}let g=x(),v,w=!1,b=!1,N=!1,k=!1;const R=()=>g;let M,U;const T=()=>{M&&(q._ignoreSubscribers=!0,(M.isPush?a.history.pushState:a.history.replaceState)(M.state,"",M.href),q._ignoreSubscribers=!1,M=void 0,U=void 0,v=void 0)},B=(L,ie,ue)=>{const he=p(ie);U||(v=g),g=rc(ie,ue),M={href:he,state:ue,isPush:(M==null?void 0:M.isPush)||L==="push"},U||(U=Promise.resolve().then(()=>T()))},z=L=>{g=x(),q.notify({type:L})},J=async()=>{if(b){b=!1;return}const L=x(),ie=L.state[oa]-g.state[oa],ue=ie===1,he=ie===-1,de=!ue&&!he||w;w=!1;const me=de?"GO":he?"BACK":"FORWARD",D=de?{type:"GO",index:ie}:{type:he?"BACK":"FORWARD"};if(N)N=!1;else{const Q=f();if(typeof document<"u"&&Q.length){for(const G of Q)if(await G.blockerFn({currentLocation:g,nextLocation:L,action:me})){b=!0,a.history.go(1),q.notify(D);return}}}g=x(),q.notify(D)},K=L=>{if(k){k=!1;return}let ie=!1;const ue=f();if(typeof document<"u"&&ue.length)for(const he of ue){const de=he.enableBeforeUnload??!0;if(de===!0){ie=!0;break}if(typeof de=="function"&&de()===!0){ie=!0;break}}if(ie)return L.preventDefault(),L.returnValue=""},q=vw({getLocation:R,getLength:()=>a.history.length,pushState:(L,ie)=>B("push",L,ie),replaceState:(L,ie)=>B("replace",L,ie),back:L=>(L&&(N=!0),k=!0,a.history.back()),forward:L=>{L&&(N=!0),k=!0,a.history.forward()},go:L=>{w=!0,a.history.go(L)},createHref:L=>p(L),flush:T,destroy:()=>{a.history.pushState=l,a.history.replaceState=c,a.removeEventListener(wv,K,{capture:!0}),a.removeEventListener(bv,J)},onBlocked:()=>{v&&g!==v&&(g=v)},getBlockers:f,setBlockers:m,notifyOnIndexChange:!1});return a.addEventListener(wv,K,{capture:!0}),a.addEventListener(bv,J),a.history.pushState=function(...L){const ie=l.apply(a.history,L);return q._ignoreSubscribers||z("PUSH"),ie},a.history.replaceState=function(...L){const ie=c.apply(a.history,L);return q._ignoreSubscribers||z("REPLACE"),ie},q}function Zk(e={initialEntries:["/"]}){const t=e.initialEntries;let r=e.initialIndex?Math.min(Math.max(e.initialIndex,0),t.length-1):t.length-1;const a=t.map((c,d)=>Pm(d,void 0));return vw({getLocation:()=>rc(t[r],a[r]),getLength:()=>t.length,pushState:(c,d)=>{r<t.length-1&&(t.splice(r+1),a.splice(r+1)),a.push(d),t.push(c),r=Math.max(t.length-1,0)},replaceState:(c,d)=>{a[r]=d,t[r]=c},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,t.length-1)},go:c=>{r=Math.min(Math.max(r+c,0),t.length-1)},createHref:c=>c})}function rc(e,t){const r=e.indexOf("#"),a=e.indexOf("?"),l=_p();return{href:e,pathname:e.substring(0,r>0?a>0?Math.min(r,a):r:a>0?a:e.length),hash:r>-1?e.substring(r):"",search:a>-1?e.slice(a,r===-1?void 0:r):"",state:t||{[oa]:0,key:l,__TSR_key:l}}}function _p(){return(Math.random()+1).toString(36).substring(7)}function $m(e){return e[e.length-1]}function Fk(e){return typeof e=="function"}function Xa(e,t){return Fk(e)?e(t):e}const Qk=Object.prototype.hasOwnProperty;function Fn(e,t){if(e===t)return e;const r=t,a=jv(e)&&jv(r);if(!a&&!(hd(e)&&hd(r)))return r;const l=a?e:Sv(e);if(!l)return r;const c=a?r:Sv(r);if(!c)return r;const d=l.length,f=c.length,m=a?new Array(f):{};let p=0;for(let x=0;x<f;x++){const g=a?x:c[x],v=e[g],w=r[g];if(v===w){m[g]=v,(a?x<d:Qk.call(e,g))&&p++;continue}if(v===null||w===null||typeof v!="object"||typeof w!="object"){m[g]=w;continue}const b=Fn(v,w);m[g]=b,b===v&&p++}return d===f&&p===d?e:m}function Sv(e){const t=[],r=Object.getOwnPropertyNames(e);for(const l of r){if(!Object.prototype.propertyIsEnumerable.call(e,l))return!1;t.push(l)}const a=Object.getOwnPropertySymbols(e);for(const l of a){if(!Object.prototype.propertyIsEnumerable.call(e,l))return!1;t.push(l)}return t}function hd(e){if(!Nv(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!Nv(r)||!r.hasOwnProperty("isPrototypeOf"))}function Nv(e){return Object.prototype.toString.call(e)==="[object Object]"}function jv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wa(e,t,r){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let a=0,l=e.length;a<l;a++)if(!Wa(e[a],t[a],r))return!1;return!0}if(hd(e)&&hd(t)){const a=(r==null?void 0:r.ignoreUndefined)??!0;if(r!=null&&r.partial){for(const d in t)if((!a||t[d]!==void 0)&&!Wa(e[d],t[d],r))return!1;return!0}let l=0;if(!a)l=Object.keys(e).length;else for(const d in e)e[d]!==void 0&&l++;let c=0;for(const d in t)if((!a||t[d]!==void 0)&&(c++,c>l||!Wa(e[d],t[d],r)))return!1;return l===c}return!1}function Eo(e){let t,r;const a=new Promise((l,c)=>{t=l,r=c});return a.status="pending",a.resolve=l=>{a.status="resolved",a.value=l,t(l),e==null||e(l)},a.reject=l=>{a.status="rejected",r(l)},a}function la(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}const Dr=0,ri=1,Ao=2,To=3;function hs(e){return Ep(e.filter(t=>t!==void 0).join("/"))}function Ep(e){return e.replace(/\/{2,}/g,"/")}function Ap(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Ro(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function vm(e){return Ro(Ap(e))}function md(e,t){return e!=null&&e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function Yk(e,t,r){return md(e,r)===md(t,r)}function Jk(e){const{type:t,value:r}=e;if(t===Dr)return r;const{prefixSegment:a,suffixSegment:l}=e;if(t===ri){const c=r.substring(1);if(a&&l)return`${a}{$${c}}${l}`;if(a)return`${a}{$${c}}`;if(l)return`{$${c}}${l}`}if(t===To){const c=r.substring(1);return a&&l?`${a}{-$${c}}${l}`:a?`${a}{-$${c}}`:l?`{-$${c}}${l}`:`{-$${c}}`}if(t===Ao){if(a&&l)return`${a}{$}${l}`;if(a)return`${a}{$}`;if(l)return`{$}${l}`}return r}function Xk({basepath:e,base:t,to:r,trailingSlash:a="never",caseSensitive:l,parseCache:c}){var d;t=pd(e,t,l),r=pd(e,r,l);let f=Co(t,c).slice();const m=Co(r,c);f.length>1&&((d=$m(f))==null?void 0:d.value)==="/"&&f.pop();for(let g=0,v=m.length;g<v;g++){const w=m[g],b=w.value;b==="/"?g?g===v-1&&f.push(w):f=[w]:b===".."?f.pop():b==="."||f.push(w)}f.length>1&&($m(f).value==="/"?a==="never"&&f.pop():a==="always"&&f.push({type:Dr,value:"/"}));const p=f.map(Jk);return hs([e,...p])}const Co=(e,t)=>{if(!e)return[];const r=t==null?void 0:t.get(e);if(r)return r;const a=s_(e);return t==null||t.set(e,a),a},Wk=/^\$.{1,}$/,e_=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,t_=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,n_=/^\$$/,r_=/^(.*?)\{\$\}(.*)$/;function s_(e){e=Ep(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:Dr,value:"/"})),!e)return t;const r=e.split("/").filter(Boolean);return t.push(...r.map(a=>{const l=a.match(r_);if(l){const f=l[1],m=l[2];return{type:Ao,value:"$",prefixSegment:f||void 0,suffixSegment:m||void 0}}const c=a.match(t_);if(c){const f=c[1],m=c[2],p=c[3];return{type:To,value:m,prefixSegment:f||void 0,suffixSegment:p||void 0}}const d=a.match(e_);if(d){const f=d[1],m=d[2],p=d[3];return{type:ri,value:""+m,prefixSegment:f||void 0,suffixSegment:p||void 0}}if(Wk.test(a)){const f=a.substring(1);return{type:ri,value:"$"+f,prefixSegment:void 0,suffixSegment:void 0}}return n_.test(a)?{type:Ao,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:Dr,value:a.includes("%25")?a.split("%25").map(f=>decodeURI(f)).join("%25"):decodeURI(a)}})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:Dr,value:"/"})),t}function Lu({path:e,params:t,leaveWildcards:r,leaveParams:a,decodeCharMap:l,parseCache:c}){const d=Co(e,c);function f(g){const v=t[g],w=typeof v=="string";return g==="*"||g==="_splat"?w?encodeURI(v):v:w?a_(v,l):v}let m=!1;const p={},x=hs(d.map(g=>{if(g.type===Dr)return g.value;if(g.type===Ao){p._splat=t._splat,p["*"]=t._splat;const v=g.prefixSegment||"",w=g.suffixSegment||"";if(!("_splat"in t))return m=!0,r?`${v}${g.value}${w}`:v||w?`${v}${w}`:void 0;const b=f("_splat");return r?`${v}${g.value}${b??""}${w}`:`${v}${b}${w}`}if(g.type===ri){const v=g.value.substring(1);!m&&!(v in t)&&(m=!0),p[v]=t[v];const w=g.prefixSegment||"",b=g.suffixSegment||"";if(a){const N=f(g.value);return`${w}${g.value}${N??""}${b}`}return`${w}${f(v)??"undefined"}${b}`}if(g.type===To){const v=g.value.substring(1),w=g.prefixSegment||"",b=g.suffixSegment||"";if(!(v in t)||t[v]==null)return r?`${w}${v}${b}`:w||b?`${w}${b}`:void 0;if(p[v]=t[v],a){const N=f(g.value);return`${w}${g.value}${N??""}${b}`}return r?`${w}${v}${f(v)??""}${b}`:`${w}${f(v)??""}${b}`}return g.value}));return{usedParams:p,interpolatedPath:x,isMissingParams:m}}function a_(e,t){let r=encodeURIComponent(e);if(t)for(const[a,l]of t)r=r.replaceAll(a,l);return r}function Bm(e,t,r,a){const l=i_(e,t,r,a);if(!(r.to&&!l))return l??{}}function pd(e,t,r=!1){const a=r?e:e.toLowerCase(),l=r?t:t.toLowerCase();switch(!0){case a==="/":return t;case l===a:return"";case t.length<e.length:return t;case l[a.length]!=="/":return t;case l.startsWith(a):return t.slice(e.length);default:return t}}function i_(e,t,{to:r,fuzzy:a,caseSensitive:l},c){if(e!=="/"&&!t.startsWith(e))return;t=pd(e,t,l),r=pd(e,`${r??"$"}`,l);const d=Co(t.startsWith("/")?t:`/${t}`,c),f=Co(r.startsWith("/")?r:`/${r}`,c),m={};return o_(d,f,m,a,l)?m:void 0}function o_(e,t,r,a,l){var c,d,f;let m=0,p=0;for(;m<e.length||p<t.length;){const x=e[m],g=t[p];if(g){if(g.type===Ao){const v=e.slice(m);let w;if(g.prefixSegment||g.suffixSegment){if(!x)return!1;const b=g.prefixSegment||"",N=g.suffixSegment||"",k=x.value;if("prefixSegment"in g&&!k.startsWith(b)||"suffixSegment"in g&&!((c=e[e.length-1])!=null&&c.value.endsWith(N)))return!1;let R=decodeURI(hs(v.map(M=>M.value)));b&&R.startsWith(b)&&(R=R.slice(b.length)),N&&R.endsWith(N)&&(R=R.slice(0,R.length-N.length)),w=R}else w=decodeURI(hs(v.map(b=>b.value)));return r["*"]=w,r._splat=w,!0}if(g.type===Dr){if(g.value==="/"&&!(x!=null&&x.value)){p++;continue}if(x){if(l){if(g.value!==x.value)return!1}else if(g.value.toLowerCase()!==x.value.toLowerCase())return!1;m++,p++;continue}else return!1}if(g.type===ri){if(!x||x.value==="/")return!1;let v="",w=!1;if(g.prefixSegment||g.suffixSegment){const b=g.prefixSegment||"",N=g.suffixSegment||"",k=x.value;if(b&&!k.startsWith(b)||N&&!k.endsWith(N))return!1;let R=k;b&&R.startsWith(b)&&(R=R.slice(b.length)),N&&R.endsWith(N)&&(R=R.slice(0,R.length-N.length)),v=decodeURIComponent(R),w=!0}else v=decodeURIComponent(x.value),w=!0;w&&(r[g.value.substring(1)]=v,m++),p++;continue}if(g.type===To){if(!x){p++;continue}if(x.value==="/"){p++;continue}let v="",w=!1;if(g.prefixSegment||g.suffixSegment){const b=g.prefixSegment||"",N=g.suffixSegment||"",k=x.value;if((!b||k.startsWith(b))&&(!N||k.endsWith(N))){let R=k;b&&R.startsWith(b)&&(R=R.slice(b.length)),N&&R.endsWith(N)&&(R=R.slice(0,R.length-N.length)),v=decodeURIComponent(R),w=!0}}else{let b=!0;for(let N=p+1;N<t.length;N++){const k=t[N];if((k==null?void 0:k.type)===Dr&&k.value===x.value){b=!1;break}if((k==null?void 0:k.type)===ri||(k==null?void 0:k.type)===Ao){e.length<t.length&&(b=!1);break}}b&&(v=decodeURIComponent(x.value),w=!0)}w&&(r[g.value.substring(1)]=v,m++),p++;continue}}if(m<e.length&&p>=t.length)return r["**"]=hs(e.slice(m).map(v=>v.value)),!!a&&((d=t[t.length-1])==null?void 0:d.value)!=="/";if(p<t.length&&m>=e.length){for(let v=p;v<t.length;v++)if(((f=t[v])==null?void 0:f.type)!==To)return!1;break}break}return!0}const l_=.75,c_=1,u_=.5,d_=.4,f_=.25,h_=.2,m_=.05,p_=.02,g_=.01,kv=2e-4,_v=1e-4;function Ev(e,t){return e.prefixSegment&&e.suffixSegment?t+m_+kv*e.prefixSegment.length+_v*e.suffixSegment.length:e.prefixSegment?t+p_+kv*e.prefixSegment.length:e.suffixSegment?t+g_+_v*e.suffixSegment.length:t}function y_(e){const t=[];return e.forEach((a,l)=>{var c;if(a.isRoot||!a.path)return;const d=Ap(a.fullPath);let f=Co(d),m=0;for(;f.length>m+1&&((c=f[m])==null?void 0:c.value)==="/";)m++;m>0&&(f=f.slice(m));let p=0,x=!1;const g=f.map((v,w)=>{if(v.value==="/")return l_;if(v.type===Dr)return c_;let b;v.type===ri?b=u_:v.type===To?(b=d_,p++):b=f_;for(let N=w+1;N<f.length;N++){const k=f[N];if(k.type===Dr&&k.value!=="/")return x=!0,Ev(v,b+h_)}return Ev(v,b)});t.push({child:a,trimmed:d,parsed:f,index:l,scores:g,optionalParamCount:p,hasStaticAfter:x})}),t.sort((a,l)=>{const c=Math.min(a.scores.length,l.scores.length);for(let d=0;d<c;d++)if(a.scores[d]!==l.scores[d])return l.scores[d]-a.scores[d];if(a.scores.length!==l.scores.length){if(a.optionalParamCount!==l.optionalParamCount){if(a.hasStaticAfter===l.hasStaticAfter)return a.optionalParamCount-l.optionalParamCount;if(a.hasStaticAfter&&!l.hasStaticAfter)return-1;if(!a.hasStaticAfter&&l.hasStaticAfter)return 1}return l.scores.length-a.scores.length}for(let d=0;d<c;d++)if(a.parsed[d].value!==l.parsed[d].value)return a.parsed[d].value>l.parsed[d].value?1:-1;return a.index-l.index}).map((a,l)=>(a.child.rank=l,a.child))}function x_({routeTree:e,initRoute:t}){const r={},a={},l=d=>{d.forEach((f,m)=>{t==null||t(f,m);const p=r[f.id];if(gs(!p,`Duplicate routes found with id: ${String(f.id)}`),r[f.id]=f,!f.isRoot&&f.path){const g=Ro(f.fullPath);(!a[g]||f.fullPath.endsWith("/"))&&(a[g]=f)}const x=f.children;x!=null&&x.length&&l(x)})};l([e]);const c=y_(Object.values(r));return{routesById:r,routesByPath:a,flatRoutes:c}}function Ur(e){return!!(e!=null&&e.isNotFound)}function v_(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const gd="tsr-scroll-restoration-v1_3",b_=(e,t)=>{let r;return(...a)=>{r||(r=setTimeout(()=>{e(...a),r=null},t))}};function w_(){const e=v_();if(!e)return;const t=e.getItem(gd);let r=t?JSON.parse(t):{};return{state:r,set:a=>(r=Xa(a,r)||r,e.setItem(gd,JSON.stringify(r)))}}const bm=w_(),qm=e=>e.state.__TSR_key||e.href;function S_(e){const t=[];let r;for(;r=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(r.children,e)+1})`),e=r;return`${t.reverse().join(" > ")}`.toLowerCase()}let yd=!1;function bw({storageKey:e,key:t,behavior:r,shouldScrollRestoration:a,scrollToTopSelectors:l,location:c}){var d,f;let m;try{m=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(g){console.error(g);return}const p=t||((d=window.history.state)==null?void 0:d.key),x=m[p];yd=!0;e:{if(a&&x&&Object.keys(x).length>0){for(const w in x){const b=x[w];if(w==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:r});else if(w){const N=document.querySelector(w);N&&(N.scrollLeft=b.scrollX,N.scrollTop=b.scrollY)}}break e}const g=(c??window.location).hash.split("#",2)[1];if(g){const w=((f=window.history.state)==null?void 0:f.__hashScrollIntoViewOptions)??!0;if(w){const b=document.getElementById(g);b&&b.scrollIntoView(w)}break e}const v={top:0,left:0,behavior:r};if(window.scrollTo(v),l)for(const w of l){if(w==="window")continue;const b=typeof w=="function"?w():document.querySelector(w);b&&b.scrollTo(v)}}yd=!1}function N_(e,t){if(bm===void 0||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),typeof document>"u"||e.isScrollRestorationSetup))return;e.isScrollRestorationSetup=!0,yd=!1;const a=e.options.getScrollRestorationKey||qm;window.history.scrollRestoration="manual";const l=c=>{if(yd||!e.isScrollRestoring)return;let d="";if(c.target===document||c.target===window)d="window";else{const m=c.target.getAttribute("data-scroll-restoration-id");m?d=`[data-scroll-restoration-id="${m}"]`:d=S_(c.target)}const f=a(e.state.location);bm.set(m=>{const p=m[f]||(m[f]={}),x=p[d]||(p[d]={});if(d==="window")x.scrollX=window.scrollX||0,x.scrollY=window.scrollY||0;else if(d){const g=document.querySelector(d);g&&(x.scrollX=g.scrollLeft||0,x.scrollY=g.scrollTop||0)}return m})};typeof document<"u"&&document.addEventListener("scroll",b_(l,100),!0),e.subscribe("onRendered",c=>{const d=a(c.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}bw({storageKey:gd,key:d,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&bm.set(f=>(f[d]||(f[d]={}),f))})}function j_(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const r=document.getElementById(e.state.location.hash);r&&r.scrollIntoView(t)}}}function k_(e,t=String){const r=new URLSearchParams;for(const a in e){const l=e[a];l!==void 0&&r.set(a,t(l))}return r.toString()}function wm(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function __(e){const t=new URLSearchParams(e),r={};for(const[a,l]of t.entries()){const c=r[a];c==null?r[a]=wm(l):Array.isArray(c)?c.push(wm(l)):r[a]=[c,wm(l)]}return r}const E_=T_(JSON.parse),A_=R_(JSON.stringify,JSON.parse);function T_(e){return t=>{t[0]==="?"&&(t=t.substring(1));const r=__(t);for(const a in r){const l=r[a];if(typeof l=="string")try{r[a]=e(l)}catch{}}return r}}function R_(e,t){const r=typeof t=="function";function a(l){if(typeof l=="object"&&l!==null)try{return e(l)}catch{}else if(r&&typeof l=="string")try{return t(l),e(l)}catch{}return l}return l=>{const c=k_(l,a);return c?`?${c}`:""}}const Jn="__root__";function jt(e){if(e.statusCode=e.statusCode||e.code||307,!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const r=new Response(null,{status:e.statusCode,headers:t});if(r.options=e,e.throw)throw r;return r}function Cr(e){return e instanceof Response&&!!e.options}function C_(e){const t=new Map;let r,a;const l=c=>{c.next&&(c.prev?(c.prev.next=c.next,c.next.prev=c.prev,c.next=void 0,a&&(a.next=c,c.prev=a)):(c.next.prev=void 0,r=c.next,c.next=void 0,a&&(c.prev=a,a.next=c)),a=c)};return{get(c){const d=t.get(c);if(d)return l(d),d.value},set(c,d){if(t.size>=e&&r){const m=r;t.delete(m.key),m.next&&(r=m.next,m.next.prev=void 0),m===a&&(a=void 0)}const f=t.get(c);if(f)f.value=d,l(f);else{const m={key:c,value:d,prev:a};a&&(a.next=m),a=m,r||(r=m),t.set(c,m)}}}}const rd=e=>{var t;if(!e.rendered)return e.rendered=!0,(t=e.onReady)==null?void 0:t.call(e)},Id=(e,t)=>!!(e.preload&&!e.router.state.matches.some(r=>r.id===t)),ww=(e,t)=>{var r;const a=e.router.routesById[t.routeId??""]??e.router.routeTree;!a.options.notFoundComponent&&((r=e.router.options)!=null&&r.defaultNotFoundComponent)&&(a.options.notFoundComponent=e.router.options.defaultNotFoundComponent),gs(a.options.notFoundComponent);const l=e.matches.find(c=>c.routeId===a.id);gs(l,"Could not find match for route: "+a.id),e.updateMatch(l.id,c=>({...c,status:"notFound",error:t,isFetching:!1})),t.routerCode==="BEFORE_LOAD"&&a.parentRoute&&(t.routeId=a.parentRoute.id,ww(e,t))},aa=(e,t,r)=>{var a,l,c;if(!(!Cr(r)&&!Ur(r))){if(Cr(r)&&r.redirectHandled&&!r.options.reloadDocument)throw r;if(t){(a=t._nonReactive.beforeLoadPromise)==null||a.resolve(),(l=t._nonReactive.loaderPromise)==null||l.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const d=Cr(r)?"redirected":"notFound";e.updateMatch(t.id,f=>({...f,status:d,isFetching:!1,error:r})),Ur(r)&&!r.routeId&&(r.routeId=t.routeId),(c=t._nonReactive.loadPromise)==null||c.resolve()}throw Cr(r)?(e.rendered=!0,r.options._fromLocation=e.location,r.redirectHandled=!0,r=e.router.resolveRedirect(r),r):(ww(e,r),r)}},Sw=(e,t)=>{const r=e.router.getMatch(t);return!!(!e.router.isServer&&r._nonReactive.dehydrated||e.router.isServer&&r.ssr===!1)},Vl=(e,t,r,a)=>{var l,c;const{id:d,routeId:f}=e.matches[t],m=e.router.looseRoutesById[f];if(r instanceof Promise)throw r;r.routerCode=a,e.firstBadMatchIndex??(e.firstBadMatchIndex=t),aa(e,e.router.getMatch(d),r);try{(c=(l=m.options).onError)==null||c.call(l,r)}catch(p){r=p,aa(e,e.router.getMatch(d),r)}e.updateMatch(d,p=>{var x,g;return(x=p._nonReactive.beforeLoadPromise)==null||x.resolve(),p._nonReactive.beforeLoadPromise=void 0,(g=p._nonReactive.loadPromise)==null||g.resolve(),{...p,error:r,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},O_=(e,t,r,a)=>{var l;const c=e.router.getMatch(t),d=(l=e.matches[r-1])==null?void 0:l.id,f=d?e.router.getMatch(d):void 0;if(e.router.isShell()){c.ssr=t===Jn;return}if((f==null?void 0:f.ssr)===!1){c.ssr=!1;return}const m=b=>b===!0&&(f==null?void 0:f.ssr)==="data-only"?"data-only":b,p=e.router.options.defaultSsr??!0;if(a.options.ssr===void 0){c.ssr=m(p);return}if(typeof a.options.ssr!="function"){c.ssr=m(a.options.ssr);return}const{search:x,params:g}=c,v={search:Pu(x,c.searchError),params:Pu(g,c.paramsError),location:e.location,matches:e.matches.map(b=>({index:b.index,pathname:b.pathname,fullPath:b.fullPath,staticData:b.staticData,id:b.id,routeId:b.routeId,search:Pu(b.search,b.searchError),params:Pu(b.params,b.paramsError),ssr:b.ssr}))},w=a.options.ssr(v);if(la(w))return w.then(b=>{c.ssr=m(b??p)});c.ssr=m(w??p)},Nw=(e,t,r,a)=>{var l;if(a._nonReactive.pendingTimeout!==void 0)return;const c=r.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!e.router.isServer&&!Id(e,t)&&(r.options.loader||r.options.beforeLoad||_w(r))&&typeof c=="number"&&c!==1/0&&(r.options.pendingComponent??((l=e.router.options)==null?void 0:l.defaultPendingComponent)))){const f=setTimeout(()=>{rd(e)},c);a._nonReactive.pendingTimeout=f}},D_=(e,t,r)=>{const a=e.router.getMatch(t);if(!a._nonReactive.beforeLoadPromise&&!a._nonReactive.loaderPromise)return;Nw(e,t,r,a);const l=()=>{const c=e.router.getMatch(t);c.preload&&(c.status==="redirected"||c.status==="notFound")&&aa(e,c,c.error)};return a._nonReactive.beforeLoadPromise?a._nonReactive.beforeLoadPromise.then(l):l()},U_=(e,t,r,a)=>{var l;const c=e.router.getMatch(t),d=c._nonReactive.loadPromise;c._nonReactive.loadPromise=Eo(()=>{d==null||d.resolve()});const{paramsError:f,searchError:m}=c;f&&Vl(e,r,f,"PARSE_PARAMS"),m&&Vl(e,r,m,"VALIDATE_SEARCH"),Nw(e,t,a,c);const p=new AbortController,x=(l=e.matches[r-1])==null?void 0:l.id,g=x?e.router.getMatch(x):void 0,w={...(g==null?void 0:g.context)??e.router.options.context??void 0,...c.__routeContext};let b=!1;const N=()=>{b||(b=!0,e.updateMatch(t,K=>({...K,isFetching:"beforeLoad",fetchCount:K.fetchCount+1,abortController:p,context:w})))},k=()=>{var K;(K=c._nonReactive.beforeLoadPromise)==null||K.resolve(),c._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,q=>({...q,isFetching:!1}))};if(!a.options.beforeLoad){ec(()=>{N(),k()});return}c._nonReactive.beforeLoadPromise=Eo();const{search:R,params:M,cause:U}=c,T=Id(e,t),B={search:R,abortController:p,params:M,preload:T,context:w,location:e.location,navigate:K=>e.router.navigate({...K,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:T?"preload":U,matches:e.matches},z=K=>{if(K===void 0){ec(()=>{N(),k()});return}(Cr(K)||Ur(K))&&(N(),Vl(e,r,K,"BEFORE_LOAD")),ec(()=>{N(),e.updateMatch(t,q=>({...q,__beforeLoadContext:K,context:{...q.context,...K}})),k()})};let J;try{if(J=a.options.beforeLoad(B),la(J))return N(),J.catch(K=>{Vl(e,r,K,"BEFORE_LOAD")}).then(z)}catch(K){N(),Vl(e,r,K,"BEFORE_LOAD")}z(J)},I_=(e,t)=>{const{id:r,routeId:a}=e.matches[t],l=e.router.looseRoutesById[a],c=()=>{if(e.router.isServer){const m=O_(e,r,t,l);if(la(m))return m.then(d)}return d()},d=()=>{if(Sw(e,r))return;const m=D_(e,r,l);return la(m)?m.then(f):f()},f=()=>U_(e,r,t,l);return c()},tc=(e,t,r)=>{var a,l,c,d,f,m;const p=e.router.getMatch(t);if(!p||!r.options.head&&!r.options.scripts&&!r.options.headers)return;const x={matches:e.matches,match:p,params:p.params,loaderData:p.loaderData};return Promise.all([(l=(a=r.options).head)==null?void 0:l.call(a,x),(d=(c=r.options).scripts)==null?void 0:d.call(c,x),(m=(f=r.options).headers)==null?void 0:m.call(f,x)]).then(([g,v,w])=>{const b=g==null?void 0:g.meta,N=g==null?void 0:g.links,k=g==null?void 0:g.scripts,R=g==null?void 0:g.styles;return{meta:b,links:N,headScripts:k,headers:w,scripts:v,styles:R}})},jw=(e,t,r,a)=>{const l=e.matchPromises[r-1],{params:c,loaderDeps:d,abortController:f,context:m,cause:p}=e.router.getMatch(t),x=Id(e,t);return{params:c,deps:d,preload:!!x,parentMatchPromise:l,abortController:f,context:m,location:e.location,navigate:g=>e.router.navigate({...g,_fromLocation:e.location}),cause:x?"preload":p,route:a}},Av=async(e,t,r,a)=>{var l,c,d,f;try{const m=e.router.getMatch(t);try{(!e.router.isServer||m.ssr===!0)&&kw(a);const p=(c=(l=a.options).loader)==null?void 0:c.call(l,jw(e,t,r,a)),x=a.options.loader&&la(p);if(!!(x||a._lazyPromise||a._componentsPromise||a.options.head||a.options.scripts||a.options.headers||m._nonReactive.minPendingPromise)&&e.updateMatch(t,N=>({...N,isFetching:"loader"})),a.options.loader){const N=x?await p:p;aa(e,e.router.getMatch(t),N),N!==void 0&&e.updateMatch(t,k=>({...k,loaderData:N}))}a._lazyPromise&&await a._lazyPromise;const v=tc(e,t,a),w=v?await v:void 0,b=m._nonReactive.minPendingPromise;b&&await b,a._componentsPromise&&await a._componentsPromise,e.updateMatch(t,N=>({...N,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...w}))}catch(p){let x=p;const g=m._nonReactive.minPendingPromise;g&&await g,aa(e,e.router.getMatch(t),p);try{(f=(d=a.options).onError)==null||f.call(d,p)}catch(b){x=b,aa(e,e.router.getMatch(t),b)}const v=tc(e,t,a),w=v?await v:void 0;e.updateMatch(t,b=>({...b,error:x,status:"error",isFetching:!1,...w}))}}catch(m){const p=e.router.getMatch(t);if(p){const x=tc(e,t,a);if(x){const g=await x;e.updateMatch(t,v=>({...v,...g}))}p._nonReactive.loaderPromise=void 0}aa(e,p,m)}},M_=async(e,t)=>{var r,a;const{id:l,routeId:c}=e.matches[t];let d=!1,f=!1;const m=e.router.looseRoutesById[c];if(Sw(e,l)){if(e.router.isServer){const g=tc(e,l,m);if(g){const v=await g;e.updateMatch(l,w=>({...w,...v}))}return e.router.getMatch(l)}}else{const g=e.router.getMatch(l);if(g._nonReactive.loaderPromise){if(g.status==="success"&&!e.sync&&!g.preload)return g;await g._nonReactive.loaderPromise;const v=e.router.getMatch(l);v.error&&aa(e,v,v.error)}else{const v=Date.now()-g.updatedAt,w=Id(e,l),b=w?m.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:m.options.staleTime??e.router.options.defaultStaleTime??0,N=m.options.shouldReload,k=typeof N=="function"?N(jw(e,l,t,m)):N,R=!!w&&!e.router.state.matches.some(B=>B.id===l),M=e.router.getMatch(l);M._nonReactive.loaderPromise=Eo(),R!==M.preload&&e.updateMatch(l,B=>({...B,preload:R}));const{status:U,invalid:T}=M;if(d=U==="success"&&(T||(k??v>b)),!(w&&m.options.preload===!1))if(d&&!e.sync)f=!0,(async()=>{var B,z;try{await Av(e,l,t,m);const J=e.router.getMatch(l);(B=J._nonReactive.loaderPromise)==null||B.resolve(),(z=J._nonReactive.loadPromise)==null||z.resolve(),J._nonReactive.loaderPromise=void 0}catch(J){Cr(J)&&await e.router.navigate(J.options)}})();else if(U!=="success"||d&&e.sync)await Av(e,l,t,m);else{const B=tc(e,l,m);if(B){const z=await B;e.updateMatch(l,J=>({...J,...z}))}}}}const p=e.router.getMatch(l);f||((r=p._nonReactive.loaderPromise)==null||r.resolve(),(a=p._nonReactive.loadPromise)==null||a.resolve()),clearTimeout(p._nonReactive.pendingTimeout),p._nonReactive.pendingTimeout=void 0,f||(p._nonReactive.loaderPromise=void 0),p._nonReactive.dehydrated=void 0;const x=f?p.isFetching:!1;return x!==p.isFetching||p.invalid!==!1?(e.updateMatch(l,g=>({...g,isFetching:x,invalid:!1})),e.router.getMatch(l)):p};async function Tv(e){const t=Object.assign(e,{matchPromises:[]});!t.router.isServer&&t.router.state.matches.some(r=>r._forcePending)&&rd(t);try{for(let l=0;l<t.matches.length;l++){const c=I_(t,l);la(c)&&await c}const r=t.firstBadMatchIndex??t.matches.length;for(let l=0;l<r;l++)t.matchPromises.push(M_(t,l));await Promise.all(t.matchPromises);const a=rd(t);la(a)&&await a}catch(r){if(Ur(r)&&!t.preload){const a=rd(t);throw la(a)&&await a,r}if(Cr(r))throw r}return t.matches}async function kw(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:r,...a}=t.options;Object.assign(e.options,a),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{var r;const a=[];for(const l of Ew){const c=(r=e.options[l])==null?void 0:r.preload;c&&a.push(c())}if(a.length)return Promise.all(a).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function Pu(e,t){return t?{status:"error",error:t}:{status:"success",value:e}}function _w(e){var t;for(const r of Ew)if((t=e.options[r])!=null&&t.preload)return!0;return!1}const Ew=["component","errorComponent","pendingComponent","notFoundComponent"];function ei(e){const t=e.resolvedLocation,r=e.location,a=(t==null?void 0:t.pathname)!==r.pathname,l=(t==null?void 0:t.href)!==r.href,c=(t==null?void 0:t.hash)!==r.hash;return{fromLocation:t,toLocation:r,pathChanged:a,hrefChanged:l,hashChanged:c}}class z_{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=r=>r(),this.update=r=>{var a;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const l=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(c=>[encodeURIComponent(c),c])):void 0,(!this.basepath||r.basepath&&r.basepath!==l.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${vm(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?Zk({initialEntries:[this.basepath||"/"]}):Kk()),this.updateLatestLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Lm(P_(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(c=>!["redirected"].includes(c.status))}}}),N_(this)),typeof window<"u"&&"CSS"in window&&typeof((a=window.CSS)==null?void 0:a.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:r,routesByPath:a,flatRoutes:l}=x_({routeTree:this.routeTree,initRoute:(d,f)=>{d.init({originalIndex:f})}});this.routesById=r,this.routesByPath=a,this.flatRoutes=l;const c=this.options.notFoundRoute;c&&(c.init({originalIndex:99999999999}),this.routesById[c.id]=c)},this.subscribe=(r,a)=>{const l={eventType:r,fn:a};return this.subscribers.add(l),()=>{this.subscribers.delete(l)}},this.emit=r=>{this.subscribers.forEach(a=>{a.eventType===r.type&&a.fn(r)})},this.parseLocation=(r,a)=>{const l=({pathname:m,search:p,hash:x,state:g})=>{const v=this.options.parseSearch(p),w=this.options.stringifySearch(v);return{pathname:m,searchStr:w,search:Fn(a==null?void 0:a.search,v),hash:x.split("#").reverse()[0]??"",href:`${m}${w}${x}`,state:Fn(a==null?void 0:a.state,g)}},c=l(r),{__tempLocation:d,__tempKey:f}=c.state;if(d&&(!f||f===this.tempLocationKey)){const m=l(d);return m.state.key=c.state.key,m.state.__TSR_key=c.state.__TSR_key,delete m.state.__tempLocation,{...m,maskedLocation:c}}return c},this.resolvePathWithBase=(r,a)=>Xk({basepath:this.basepath,base:r,to:Ep(a),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive,parseCache:this.parsePathnameCache}),this.matchRoutes=(r,a,l)=>typeof r=="string"?this.matchRoutesInternal({pathname:r,search:a},l):this.matchRoutesInternal(r,a),this.parsePathnameCache=C_(1e3),this.getMatchedRoutes=(r,a)=>$_({pathname:r,routePathname:a,basepath:this.basepath,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=r=>{const a=this.getMatch(r);a&&(a.abortController.abort(),clearTimeout(a._nonReactive.pendingTimeout),a._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(a=>{this.cancelMatch(a.id)})},this.buildLocation=r=>{const a=(c={})=>{var d,f;const m=c._fromLocation||this.latestLocation,p=this.matchRoutes(m,{_buildLocation:!0}),x=$m(p);c.from;const g=c.unsafeRelative==="path"?m.pathname:c.from??x.fullPath,v=this.resolvePathWithBase(g,"."),w=x.search,b={...x.params},N=c.to?this.resolvePathWithBase(v,`${c.to}`):this.resolvePathWithBase(v,"."),k=c.params===!1||c.params===null?{}:(c.params??!0)===!0?b:Object.assign(b,Xa(c.params,b)),R=Lu({path:N,params:k,parseCache:this.parsePathnameCache}).interpolatedPath,M=this.matchRoutes(R,void 0,{_buildLocation:!0}).map(q=>this.looseRoutesById[q.routeId]);if(Object.keys(k).length>0)for(const q of M){const L=((d=q.options.params)==null?void 0:d.stringify)??q.options.stringifyParams;L&&Object.assign(k,L(k))}const U=Lu({path:N,params:k,leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let T=w;if(r._includeValidateSearch&&((f=this.options.search)!=null&&f.strict)){const q={};M.forEach(L=>{if(L.options.validateSearch)try{Object.assign(q,Vm(L.options.validateSearch,{...q,...T}))}catch{}}),T=q}T=B_({search:T,dest:c,destRoutes:M,_includeValidateSearch:r._includeValidateSearch}),T=Fn(w,T);const B=this.options.stringifySearch(T),z=c.hash===!0?m.hash:c.hash?Xa(c.hash,m.hash):void 0,J=z?`#${z}`:"";let K=c.state===!0?m.state:c.state?Xa(c.state,m.state):{};return K=Fn(m.state,K),{pathname:U,search:T,searchStr:B,state:K,hash:z??"",href:`${U}${B}${J}`,unmaskOnReload:c.unmaskOnReload}},l=(c={},d)=>{var f;const m=a(c);let p=d?a(d):void 0;if(!p){let x={};const g=(f=this.options.routeMasks)==null?void 0:f.find(v=>{const w=Bm(this.basepath,m.pathname,{to:v.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return w?(x=w,!0):!1});if(g){const{from:v,...w}=g;d={from:r.from,...w,params:x},p=a(d)}}return p&&(m.maskedLocation=p),m};return r.mask?l(r,{from:r.from,...r.mask}):l(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:a,...l})=>{const c=()=>{const m=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];m.forEach(x=>{l.state[x]=this.latestLocation.state[x]});const p=Wa(l.state,this.latestLocation.state);return m.forEach(x=>{delete l.state[x]}),p},d=this.latestLocation.href===l.href,f=this.commitLocationPromise;if(this.commitLocationPromise=Eo(()=>{f==null||f.resolve()}),d&&c())this.load();else{let{maskedLocation:m,hashScrollIntoView:p,...x}=l;m&&(x={...m,state:{...m.state,__tempKey:void 0,__tempLocation:{...x,search:x.searchStr,state:{...x.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(x.unmaskOnReload??this.options.unmaskOnReload??!1)&&(x.state.__tempKey=this.tempLocationKey)),x.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[l.replace?"replace":"push"](x.href,x.state,{ignoreBlocker:a})}return this.resetNextScroll=l.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:a,hashScrollIntoView:l,viewTransition:c,ignoreBlocker:d,href:f,...m}={})=>{if(f){const x=this.history.location.state.__TSR_index,g=rc(f,{__TSR_index:r?x:x+1});m.to=g.pathname,m.search=this.options.parseSearch(g.search),m.hash=g.hash.slice(1)}const p=this.buildLocation({...m,_includeValidateSearch:!0});return this.commitLocation({...p,viewTransition:c,replace:r,resetScroll:a,hashScrollIntoView:l,ignoreBlocker:d})},this.navigate=({to:r,reloadDocument:a,href:l,...c})=>{if(!a&&l)try{new URL(`${l}`),a=!0}catch{}if(a){if(!l){const d=this.buildLocation({to:r,...c});l=this.history.createHref(d.href)}return c.replace?window.location.replace(l):window.location.href=l,Promise.resolve()}return this.buildAndCommitLocation({...c,href:l,to:r,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const a=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),l=c=>{try{return encodeURI(decodeURI(c))}catch{return c}};if(vm(l(this.latestLocation.href))!==vm(l(a.href)))throw jt({href:a.href})}const r=this.matchRoutes(this.latestLocation);this.__store.setState(a=>({...a,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:r,cachedMatches:a.cachedMatches.filter(l=>!r.some(c=>c.id===l.id))}))},this.load=async r=>{let a,l,c;for(c=new Promise(d=>{this.startTransition(async()=>{var f;try{this.beforeLoad();const m=this.latestLocation,p=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...ei({resolvedLocation:p,location:m})}),this.emit({type:"onBeforeLoad",...ei({resolvedLocation:p,location:m})}),await Tv({router:this,sync:r==null?void 0:r.sync,matches:this.state.pendingMatches,location:m,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let x,g,v;ec(()=>{this.__store.setState(w=>{const b=w.matches,N=w.pendingMatches||w.matches;return x=b.filter(k=>!N.some(R=>R.id===k.id)),g=N.filter(k=>!b.some(R=>R.id===k.id)),v=b.filter(k=>N.some(R=>R.id===k.id)),{...w,isLoading:!1,loadedAt:Date.now(),matches:N,pendingMatches:void 0,cachedMatches:[...w.cachedMatches,...x.filter(k=>k.status!=="error")]}}),this.clearExpiredCache()}),[[x,"onLeave"],[g,"onEnter"],[v,"onStay"]].forEach(([w,b])=>{w.forEach(N=>{var k,R;(R=(k=this.looseRoutesById[N.routeId].options)[b])==null||R.call(k,N)})})})}})}catch(m){Cr(m)?(a=m,this.isServer||this.navigate({...a.options,replace:!0,ignoreBlocker:!0})):Ur(m)&&(l=m),this.__store.setState(p=>({...p,statusCode:a?a.status:l?404:p.matches.some(x=>x.status==="error")?500:200,redirect:a}))}this.latestLoadPromise===c&&((f=this.commitLocationPromise)==null||f.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),d()})}),this.latestLoadPromise=c,await c;this.latestLoadPromise&&c!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(d=>({...d,statusCode:404}))},this.startViewTransition=r=>{const a=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,a&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let l;if(typeof a=="object"&&this.isViewTransitionTypesSupported){const c=this.latestLocation,d=this.state.resolvedLocation,f=typeof a.types=="function"?a.types(ei({resolvedLocation:d,location:c})):a.types;l={update:r,types:f}}else l=r;document.startViewTransition(l)}else r()},this.updateMatch=(r,a)=>{var l;const c=(l=this.state.pendingMatches)!=null&&l.some(d=>d.id===r)?"pendingMatches":this.state.matches.some(d=>d.id===r)?"matches":this.state.cachedMatches.some(d=>d.id===r)?"cachedMatches":"";c&&this.__store.setState(d=>{var f;return{...d,[c]:(f=d[c])==null?void 0:f.map(m=>m.id===r?a(m):m)}})},this.getMatch=r=>{var a;const l=c=>c.id===r;return this.state.cachedMatches.find(l)??((a=this.state.pendingMatches)==null?void 0:a.find(l))??this.state.matches.find(l)},this.invalidate=r=>{const a=l=>{var c;return((c=r==null?void 0:r.filter)==null?void 0:c.call(r,l))??!0?{...l,invalid:!0,...r!=null&&r.forcePending||l.status==="error"?{status:"pending",error:void 0}:void 0}:l};return this.__store.setState(l=>{var c;return{...l,matches:l.matches.map(a),cachedMatches:l.cachedMatches.map(a),pendingMatches:(c=l.pendingMatches)==null?void 0:c.map(a)}}),this.shouldViewTransition=!1,this.load({sync:r==null?void 0:r.sync})},this.resolveRedirect=r=>(r.options.href||(r.options.href=this.buildLocation(r.options).href,r.headers.set("Location",r.options.href)),r.headers.get("Location")||r.headers.set("Location",r.options.href),r),this.clearCache=r=>{const a=r==null?void 0:r.filter;a!==void 0?this.__store.setState(l=>({...l,cachedMatches:l.cachedMatches.filter(c=>!a(c))})):this.__store.setState(l=>({...l,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=a=>{const l=this.looseRoutesById[a.routeId];if(!l.options.loader)return!0;const c=(a.preload?l.options.preloadGcTime??this.options.defaultPreloadGcTime:l.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return a.status==="error"?!0:Date.now()-a.updatedAt>=c};this.clearCache({filter:r})},this.loadRouteChunk=kw,this.preloadRoute=async r=>{const a=this.buildLocation(r);let l=this.matchRoutes(a,{throwOnError:!0,preload:!0,dest:r});const c=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),d=new Set([...c,...this.state.cachedMatches.map(f=>f.id)]);ec(()=>{l.forEach(f=>{d.has(f.id)||this.__store.setState(m=>({...m,cachedMatches:[...m.cachedMatches,f]}))})});try{return l=await Tv({router:this,matches:l,location:a,preload:!0,updateMatch:(f,m)=>{c.has(f)?l=l.map(p=>p.id===f?m(p):p):this.updateMatch(f,m)}}),l}catch(f){if(Cr(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:a});Ur(f)||console.error(f);return}},this.matchRoute=(r,a)=>{const l={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},c=this.buildLocation(l);if(a!=null&&a.pending&&this.state.status!=="pending")return!1;const f=((a==null?void 0:a.pending)===void 0?!this.state.isLoading:a.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,m=Bm(this.basepath,f.pathname,{...a,to:c.pathname},this.parsePathnameCache);return!m||r.params&&!Wa(m,r.params,{partial:!0})?!1:m&&((a==null?void 0:a.includeSearch)??!0)?Wa(f.search,c.search,{partial:!0})?m:!1:m},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??A_,parseSearch:t.parseSearch??E_}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,r){var a;const{foundRoute:l,matchedRoutes:c,routeParams:d}=this.getMatchedRoutes(t.pathname,(a=r==null?void 0:r.dest)==null?void 0:a.to);let f=!1;(l?l.path!=="/"&&d["**"]:Ro(t.pathname))&&(this.options.notFoundRoute?c.push(this.options.notFoundRoute):f=!0);const m=(()=>{if(f){if(this.options.notFoundMode!=="root")for(let g=c.length-1;g>=0;g--){const v=c[g];if(v.children)return v.id}return Jn}})(),p=[],x=g=>(g==null?void 0:g.id)?g.context??this.options.context??void 0:this.options.context??void 0;return c.forEach((g,v)=>{var w,b,N;const k=p[v-1],[R,M,U]=(()=>{const D=(k==null?void 0:k.search)??t.search,Q=(k==null?void 0:k._strictSearch)??void 0;try{const G=Vm(g.options.validateSearch,{...D})??void 0;return[{...D,...G},{...Q,...G},void 0]}catch(G){let ee=G;if(G instanceof xd||(ee=new xd(G.message,{cause:G})),r!=null&&r.throwOnError)throw ee;return[D,{},ee]}})(),T=((b=(w=g.options).loaderDeps)==null?void 0:b.call(w,{search:R}))??"",B=T?JSON.stringify(T):"",{interpolatedPath:z,usedParams:J}=Lu({path:g.fullPath,params:d,decodeCharMap:this.pathParamsDecodeCharMap}),K=Lu({path:g.id,params:d,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+B,q=this.getMatch(K),L=this.state.matches.find(D=>D.routeId===g.id),ie=(q==null?void 0:q._strictParams)??J;let ue;if(!q){const D=((N=g.options.params)==null?void 0:N.parse)??g.options.parseParams;if(D)try{Object.assign(ie,D(ie))}catch(Q){if(ue=new L_(Q.message,{cause:Q}),r!=null&&r.throwOnError)throw ue}}Object.assign(d,ie);const he=L?"stay":"enter";let de;if(q)de={...q,cause:he,params:L?Fn(L.params,d):d,_strictParams:ie,search:Fn(L?L.search:q.search,R),_strictSearch:M};else{const D=g.options.loader||g.options.beforeLoad||g.lazyFn||_w(g)?"pending":"success";de={id:K,index:v,routeId:g.id,params:L?Fn(L.params,d):d,_strictParams:ie,pathname:hs([this.basepath,z]),updatedAt:Date.now(),search:L?Fn(L.search,R):R,_strictSearch:M,searchError:void 0,status:D,isFetching:!1,error:void 0,paramsError:ue,__routeContext:void 0,_nonReactive:{loadPromise:Eo()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:he,loaderDeps:L?Fn(L.loaderDeps,T):T,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:g.options.staticData||{},fullPath:g.fullPath}}r!=null&&r.preload||(de.globalNotFound=m===g.id),de.searchError=U;const me=x(k);de.context={...me,...de.__routeContext,...de.__beforeLoadContext},p.push(de)}),p.forEach((g,v)=>{const w=this.looseRoutesById[g.routeId];if(!this.getMatch(g.id)&&(r==null?void 0:r._buildLocation)!==!0){const N=p[v-1],k=x(N);if(w.options.context){const R={deps:g.loaderDeps,params:g.params,context:k??{},location:t,navigate:M=>this.navigate({...M,_fromLocation:t}),buildLocation:this.buildLocation,cause:g.cause,abortController:g.abortController,preload:!!g.preload,matches:p};g.__routeContext=w.options.context(R)??void 0}g.context={...k,...g.__routeContext,...g.__beforeLoadContext}}}),p}}class xd extends Error{}class L_ extends Error{}function P_(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Vm(e,t){if(e==null)return{};if("~standard"in e){const r=e["~standard"].validate(t);if(r instanceof Promise)throw new xd("Async validation not supported");if(r.issues)throw new xd(JSON.stringify(r.issues,void 0,2),{cause:r});return r.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function $_({pathname:e,routePathname:t,basepath:r,caseSensitive:a,routesByPath:l,routesById:c,flatRoutes:d,parseCache:f}){let m={};const p=Ro(e),x=b=>{var N;return Bm(r,p,{to:b.fullPath,caseSensitive:((N=b.options)==null?void 0:N.caseSensitive)??a,fuzzy:!0},f)};let g=t!==void 0?l[t]:void 0;if(g)m=x(g);else{let b;for(const N of d){const k=x(N);if(k)if(N.path!=="/"&&k["**"])b||(b={foundRoute:N,routeParams:k});else{g=N,m=k;break}}!g&&b&&(g=b.foundRoute,m=b.routeParams)}let v=g||c[Jn];const w=[v];for(;v.parentRoute;)v=v.parentRoute,w.push(v);return w.reverse(),{matchedRoutes:w,routeParams:m,foundRoute:g}}function B_({search:e,dest:t,destRoutes:r,_includeValidateSearch:a}){const l=r.reduce((f,m)=>{var p;const x=[];if("search"in m.options)(p=m.options.search)!=null&&p.middlewares&&x.push(...m.options.search.middlewares);else if(m.options.preSearchFilters||m.options.postSearchFilters){const g=({search:v,next:w})=>{let b=v;"preSearchFilters"in m.options&&m.options.preSearchFilters&&(b=m.options.preSearchFilters.reduce((k,R)=>R(k),v));const N=w(b);return"postSearchFilters"in m.options&&m.options.postSearchFilters?m.options.postSearchFilters.reduce((k,R)=>R(k),N):N};x.push(g)}if(a&&m.options.validateSearch){const g=({search:v,next:w})=>{const b=w(v);try{return{...b,...Vm(m.options.validateSearch,b)??void 0}}catch{return b}};x.push(g)}return f.concat(x)},[])??[],c=({search:f})=>t.search?t.search===!0?f:Xa(t.search,f):{};l.push(c);const d=(f,m)=>{if(f>=l.length)return m;const p=l[f];return p({search:m,next:g=>d(f+1,g)})};return d(0,e)}const q_="Error preloading route! ☝️";class Aw{constructor(t){if(this.init=r=>{var a,l;this.originalIndex=r.originalIndex;const c=this.options,d=!(c!=null&&c.path)&&!(c!=null&&c.id);this.parentRoute=(l=(a=this.options).getParentRoute)==null?void 0:l.call(a),d?this._path=Jn:this.parentRoute||gs(!1);let f=d?Jn:c==null?void 0:c.path;f&&f!=="/"&&(f=Ap(f));const m=(c==null?void 0:c.id)||f;let p=d?Jn:hs([this.parentRoute.id===Jn?"":this.parentRoute.id,m]);f===Jn&&(f="/"),p!==Jn&&(p=hs(["/",p]));const x=p===Jn?"/":hs([this.parentRoute.fullPath,f]);this._path=f,this._id=p,this._fullPath=x,this._to=x},this.clone=r=>{this._path=r._path,this._id=r._id,this._fullPath=r._fullPath,this._to=r._to,this.options.getParentRoute=r.options.getParentRoute,this.children=r.children},this.addChildren=r=>this._addFileChildren(r),this._addFileChildren=r=>(Array.isArray(r)&&(this.children=r),typeof r=="object"&&r!==null&&(this.children=Object.values(r)),this),this._addFileTypes=()=>this,this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),t!=null&&t.id&&(t!=null&&t.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class V_ extends Aw{constructor(t){super(t)}}function Tp(e){const t=e.errorComponent??Md;return o.jsx(H_,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:r,reset:a})=>r?C.createElement(t,{error:r,reset:a}):e.children})}class H_ extends C.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,r){this.props.onCatch&&this.props.onCatch(t,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Md({error:e}){const[t,r]=C.useState(!1);return o.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[o.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),o.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(a=>!a),children:t?"Hide Error":"Show Error"})]}),o.jsx("div",{style:{height:".25rem"}}),t?o.jsx("div",{children:o.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?o.jsx("code",{children:e.message}):null})}):null]})}function G_({children:e,fallback:t=null}){return K_()?o.jsx(_o.Fragment,{children:e}):o.jsx(_o.Fragment,{children:t})}function K_(){return _o.useSyncExternalStore(Z_,()=>!0,()=>!1)}function Z_(){return()=>{}}var Sm={exports:{}},Nm={},jm={exports:{}},km={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function F_(){if(Rv)return km;Rv=1;var e=yc();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function f(g,v){var w=v(),b=a({inst:{value:w,getSnapshot:v}}),N=b[0].inst,k=b[1];return c(function(){N.value=w,N.getSnapshot=v,m(N)&&k({inst:N})},[g,w,v]),l(function(){return m(N)&&k({inst:N}),g(function(){m(N)&&k({inst:N})})},[g]),d(w),w}function m(g){var v=g.getSnapshot;g=g.value;try{var w=v();return!r(g,w)}catch{return!0}}function p(g,v){return v()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return km.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,km}var Cv;function Q_(){return Cv||(Cv=1,jm.exports=F_()),jm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function Y_(){if(Ov)return Nm;Ov=1;var e=yc(),t=Q_();function r(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var a=typeof Object.is=="function"?Object.is:r,l=t.useSyncExternalStore,c=e.useRef,d=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Nm.useSyncExternalStoreWithSelector=function(p,x,g,v,w){var b=c(null);if(b.current===null){var N={hasValue:!1,value:null};b.current=N}else N=b.current;b=f(function(){function R(z){if(!M){if(M=!0,U=z,z=v(z),w!==void 0&&N.hasValue){var J=N.value;if(w(J,z))return T=J}return T=z}if(J=T,a(U,z))return J;var K=v(z);return w!==void 0&&w(J,K)?(U=z,J):(U=z,T=K)}var M=!1,U,T,B=g===void 0?null:g;return[function(){return R(x())},B===null?void 0:function(){return R(B())}]},[x,g,v,w]);var k=l(p,b[0],b[1]);return d(function(){N.hasValue=!0,N.value=k},[k]),m(k),k},Nm}var Dv;function J_(){return Dv||(Dv=1,Sm.exports=Y_()),Sm.exports}var X_=J_();function W_(e,t=r=>r){return X_.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,e2)}function e2(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,l]of e)if(!t.has(a)||!Object.is(l,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const r=Uv(e);if(r.length!==Uv(t).length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Object.is(e[r[a]],t[r[a]]))return!1;return!0}function Uv(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const _m=C.createContext(null);function Tw(){return typeof document>"u"?_m:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=_m,_m)}function In(e){const t=C.useContext(Tw());return e==null||e.warn,t}function fn(e){const t=In({warn:(e==null?void 0:e.router)===void 0}),r=(e==null?void 0:e.router)||t,a=C.useRef(void 0);return W_(r.__store,l=>{if(e!=null&&e.select){if(e.structuralSharing??r.options.defaultStructuralSharing){const c=Fn(a.current,e.select(l));return a.current=c,c}return e.select(l)}return l})}const zd=C.createContext(void 0),t2=C.createContext(void 0);function Ir(e){const t=C.useContext(e.from?t2:zd);return fn({select:a=>{const l=a.matches.find(c=>e.from?e.from===c.routeId:c.id===t);if(gs(!((e.shouldThrow??!0)&&!l),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),l!==void 0)return e.select?e.select(l):l},structuralSharing:e.structuralSharing})}function Rp(e){return Ir({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function Cp(e){const{select:t,...r}=e;return Ir({...r,select:a=>t?t(a.loaderDeps):a.loaderDeps})}function Op(e){return Ir({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const r=e.strict===!1?t.params:t._strictParams;return e.select?e.select(r):r}})}function Dp(e){return Ir({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Ft(e){const t=In();return C.useCallback(r=>t.navigate({...r,from:r.from??(e==null?void 0:e.from)}),[e==null?void 0:e.from,t])}var n2=gw();const $u=typeof window<"u"?C.useLayoutEffect:C.useEffect;function Em(e){const t=C.useRef({value:e,prev:null}),r=t.current.value;return e!==r&&(t.current={value:e,prev:r}),t.current.prev}function r2(e,t,r={},a={}){C.useEffect(()=>{if(!e.current||a.disabled||typeof IntersectionObserver!="function")return;const l=new IntersectionObserver(([c])=>{t(c)},r);return l.observe(e.current),()=>{l.disconnect()}},[t,r,a.disabled,e])}function s2(e){const t=C.useRef(null);return C.useImperativeHandle(e,()=>t.current,[]),t}function a2(e,t){const r=In(),[a,l]=C.useState(!1),c=C.useRef(!1),d=s2(t),{activeProps:f,inactiveProps:m,activeOptions:p,to:x,preload:g,preloadDelay:v,hashScrollIntoView:w,replace:b,startTransition:N,resetScroll:k,viewTransition:R,children:M,target:U,disabled:T,style:B,className:z,onClick:J,onFocus:K,onMouseEnter:q,onMouseLeave:L,onTouchStart:ie,ignoreBlocker:ue,params:he,search:de,hash:me,state:D,mask:Q,reloadDocument:G,unsafeRelative:ee,from:E,_fromLocation:Z,...ne}=e,te=C.useMemo(()=>{try{return new URL(x),"external"}catch{}return"internal"},[x]),le=fn({select:ht=>ht.location.search,structuralSharing:!0}),ke=e.from,be=C.useMemo(()=>({...e,from:ke}),[r,le,ke,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),Ee=C.useMemo(()=>r.buildLocation({...be}),[r,be]),Me=te==="external",at=e.reloadDocument||Me?!1:g??r.options.defaultPreload,Mn=v??r.options.defaultPreloadDelay??0,zn=fn({select:ht=>{if(Me)return!1;if(p!=null&&p.exact){if(!Yk(ht.location.pathname,Ee.pathname,r.basepath))return!1}else{const nn=md(ht.location.pathname,r.basepath),pr=md(Ee.pathname,r.basepath);if(!(nn.startsWith(pr)&&(nn.length===pr.length||nn[pr.length]==="/")))return!1}return((p==null?void 0:p.includeSearch)??!0)&&!Wa(ht.location.search,Ee.search,{partial:!(p!=null&&p.exact),ignoreUndefined:!(p!=null&&p.explicitUndefined)})?!1:p!=null&&p.includeHash?ht.location.hash===Ee.hash:!0}}),tn=C.useCallback(()=>{r.preloadRoute({...be}).catch(ht=>{console.warn(ht),console.warn(q_)})},[r,be]),Vo=C.useCallback(ht=>{ht!=null&&ht.isIntersecting&&tn()},[tn]);r2(d,Vo,u2,{disabled:!!T||at!=="viewport"}),C.useEffect(()=>{c.current||!T&&at==="render"&&(tn(),c.current=!0)},[T,tn,at]);const Ho=ht=>{if(!T&&!d2(ht)&&!ht.defaultPrevented&&(!U||U==="_self")&&ht.button===0){ht.preventDefault(),n2.flushSync(()=>{l(!0)});const nn=r.subscribe("onResolved",()=>{nn(),l(!1)});r.navigate({...be,replace:b,resetScroll:k,hashScrollIntoView:w,startTransition:N,viewTransition:R,ignoreBlocker:ue})}};if(Me)return{...ne,ref:d,type:te,href:x,...M&&{children:M},...U&&{target:U},...T&&{disabled:T},...B&&{style:B},...z&&{className:z},...J&&{onClick:J},...K&&{onFocus:K},...q&&{onMouseEnter:q},...L&&{onMouseLeave:L},...ie&&{onTouchStart:ie}};const wc=ht=>{T||at&&tn()},Jd=wc,Ln=ht=>{if(!(T||!at))if(!Mn)tn();else{const nn=ht.target;if(Hl.has(nn))return;const pr=setTimeout(()=>{Hl.delete(nn),tn()},Mn);Hl.set(nn,pr)}},Xd=ht=>{if(T||!at||!Mn)return;const nn=ht.target,pr=Hl.get(nn);pr&&(clearTimeout(pr),Hl.delete(nn))},va=zn?Xa(f,{})??i2:Am,ba=zn?Am:Xa(m,{})??Am,wa=[z,va.className,ba.className].filter(Boolean).join(" "),Sc=(B||va.style||ba.style)&&{...B,...va.style,...ba.style};return{...ne,...va,...ba,href:T?void 0:Ee.maskedLocation?r.history.createHref(Ee.maskedLocation.href):r.history.createHref(Ee.href),ref:d,onClick:Gl([J,Ho]),onFocus:Gl([K,wc]),onMouseEnter:Gl([q,Ln]),onMouseLeave:Gl([L,Xd]),onTouchStart:Gl([ie,Jd]),disabled:!!T,target:U,...Sc&&{style:Sc},...wa&&{className:wa},...T&&o2,...zn&&l2,...a&&c2}}const Am={},i2={className:"active"},o2={role:"link","aria-disabled":!0},l2={"data-status":"active","aria-current":"page"},c2={"data-transitioning":"transitioning"},Hl=new WeakMap,u2={rootMargin:"100px"},Gl=e=>t=>{e.filter(Boolean).forEach(r=>{t.defaultPrevented||r(t)})},Un=C.forwardRef((e,t)=>{const{_asChild:r,...a}=e,{type:l,ref:c,...d}=a2(a,t),f=typeof a.children=="function"?a.children({isActive:d["data-status"]==="active"}):a.children;return r===void 0&&delete d.disabled,C.createElement(r||"a",{...d,ref:c},f)});function d2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let f2=class extends Aw{constructor(t){super(t),this.useMatch=r=>Ir({select:r==null?void 0:r.select,from:this.id,structuralSharing:r==null?void 0:r.structuralSharing}),this.useRouteContext=r=>Ir({...r,from:this.id,select:a=>r!=null&&r.select?r.select(a.context):a.context}),this.useSearch=r=>Dp({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useParams=r=>Op({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useLoaderDeps=r=>Cp({...r,from:this.id}),this.useLoaderData=r=>Rp({...r,from:this.id}),this.useNavigate=()=>Ft({from:this.fullPath}),this.Link=_o.forwardRef((r,a)=>o.jsx(Un,{ref:a,from:this.fullPath,...r})),this.$$typeof=Symbol.for("react.memo")}};function h2(e){return new f2(e)}class m2 extends V_{constructor(t){super(t),this.useMatch=r=>Ir({select:r==null?void 0:r.select,from:this.id,structuralSharing:r==null?void 0:r.structuralSharing}),this.useRouteContext=r=>Ir({...r,from:this.id,select:a=>r!=null&&r.select?r.select(a.context):a.context}),this.useSearch=r=>Dp({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useParams=r=>Op({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useLoaderDeps=r=>Cp({...r,from:this.id}),this.useLoaderData=r=>Rp({...r,from:this.id}),this.useNavigate=()=>Ft({from:this.fullPath}),this.Link=_o.forwardRef((r,a)=>o.jsx(Un,{ref:a,from:this.fullPath,...r})),this.$$typeof=Symbol.for("react.memo")}}function p2(e){return new m2(e)}function dt(e){return typeof e=="object"?new Iv(e,{silent:!0}).createRoute(e):new Iv(e,{silent:!0}).createRoute}class Iv{constructor(t,r){this.path=t,this.createRoute=a=>{this.silent;const l=h2(a);return l.isRoot=!1,l},this.silent=r==null?void 0:r.silent}}class Mv{constructor(t){this.useMatch=r=>Ir({select:r==null?void 0:r.select,from:this.options.id,structuralSharing:r==null?void 0:r.structuralSharing}),this.useRouteContext=r=>Ir({from:this.options.id,select:a=>r!=null&&r.select?r.select(a.context):a.context}),this.useSearch=r=>Dp({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.options.id}),this.useParams=r=>Op({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.options.id}),this.useLoaderDeps=r=>Cp({...r,from:this.options.id}),this.useLoaderData=r=>Rp({...r,from:this.options.id}),this.useNavigate=()=>{const r=In();return Ft({from:r.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function zv(e){return typeof e=="object"?new Mv(e):t=>new Mv({id:e,...t})}function g2(){const e=In(),t=C.useRef({router:e,mounted:!1}),[r,a]=C.useState(!1),{hasPendingMatches:l,isLoading:c}=fn({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),d=Em(c),f=c||r||l,m=Em(f),p=c||l,x=Em(p);return e.startTransition=g=>{a(!0),C.startTransition(()=>{g(),a(!1)})},C.useEffect(()=>{const g=e.history.subscribe(e.load),v=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ro(e.latestLocation.href)!==Ro(v.href)&&e.commitLocation({...v,replace:!0}),()=>{g()}},[e,e.history]),$u(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(v){console.error(v)}})()},[e]),$u(()=>{d&&!c&&e.emit({type:"onLoad",...ei(e.state)})},[d,e,c]),$u(()=>{x&&!p&&e.emit({type:"onBeforeRouteMount",...ei(e.state)})},[p,x,e]),$u(()=>{m&&!f&&(e.emit({type:"onResolved",...ei(e.state)}),e.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),j_(e))},[f,m,e]),null}function y2(e){const t=fn({select:r=>`not-found-${r.location.pathname}-${r.status}`});return o.jsx(Tp,{getResetKey:()=>t,onCatch:(r,a)=>{var l;if(Ur(r))(l=e.onCatch)==null||l.call(e,r,a);else throw r},errorComponent:({error:r})=>{var a;if(Ur(r))return(a=e.fallback)==null?void 0:a.call(e,r);throw r},children:e.children})}function x2(){return o.jsx("p",{children:"Not Found"})}function eo(e){return o.jsx(o.Fragment,{children:e.children})}function Rw(e,t,r){return t.options.notFoundComponent?o.jsx(t.options.notFoundComponent,{data:r}):e.options.defaultNotFoundComponent?o.jsx(e.options.defaultNotFoundComponent,{data:r}):o.jsx(x2,{})}function v2({children:e}){return typeof document<"u"?null:o.jsx("script",{className:"$tsr",dangerouslySetInnerHTML:{__html:[e].filter(Boolean).join(`
`)}})}function b2(){const e=In(),r=(e.options.getScrollRestorationKey||qm)(e.latestLocation),a=r!==qm(e.latestLocation)?r:void 0;if(!e.isScrollRestoring||!e.isServer)return null;const l={storageKey:gd,shouldScrollRestoration:!0};return a&&(l.key=a),o.jsx(v2,{children:`(${bw.toString()})(${JSON.stringify(l)})`})}const Cw=C.memo(function({matchId:t}){var r,a;const l=In(),c=fn({select:U=>{const T=U.matches.find(B=>B.id===t);return gs(T),{routeId:T.routeId,ssr:T.ssr,_displayPending:T._displayPending}},structuralSharing:!0}),d=l.routesById[c.routeId],f=d.options.pendingComponent??l.options.defaultPendingComponent,m=f?o.jsx(f,{}):null,p=d.options.errorComponent??l.options.defaultErrorComponent,x=d.options.onCatch??l.options.defaultOnCatch,g=d.isRoot?d.options.notFoundComponent??((r=l.options.notFoundRoute)==null?void 0:r.options.component):d.options.notFoundComponent,v=c.ssr===!1||c.ssr==="data-only",w=(!d.isRoot||d.options.wrapInSuspense||v)&&(d.options.wrapInSuspense??f??(((a=d.options.errorComponent)==null?void 0:a.preload)||v))?C.Suspense:eo,b=p?Tp:eo,N=g?y2:eo,k=fn({select:U=>U.loadedAt}),R=fn({select:U=>{var T;const B=U.matches.findIndex(z=>z.id===t);return(T=U.matches[B-1])==null?void 0:T.routeId}}),M=d.isRoot?d.options.shellComponent??eo:eo;return o.jsxs(M,{children:[o.jsx(zd.Provider,{value:t,children:o.jsx(w,{fallback:m,children:o.jsx(b,{getResetKey:()=>k,errorComponent:p||Md,onCatch:(U,T)=>{if(Ur(U))throw U;x==null||x(U,T)},children:o.jsx(N,{fallback:U=>{if(!g||U.routeId&&U.routeId!==c.routeId||!U.routeId&&!d.isRoot)throw U;return C.createElement(g,U)},children:v||c._displayPending?o.jsx(G_,{fallback:m,children:o.jsx(Lv,{matchId:t})}):o.jsx(Lv,{matchId:t})})})})}),R===Jn&&l.options.scrollRestoration?o.jsxs(o.Fragment,{children:[o.jsx(w2,{}),o.jsx(b2,{})]}):null]})});function w2(){const e=In(),t=C.useRef(void 0);return o.jsx("script",{suppressHydrationWarning:!0,ref:r=>{r&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...ei(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const Lv=C.memo(function({matchId:t}){var r,a,l,c;const d=In(),{match:f,key:m,routeId:p}=fn({select:v=>{const w=v.matches.find(M=>M.id===t),b=w.routeId,N=d.routesById[b].options.remountDeps??d.options.defaultRemountDeps,k=N==null?void 0:N({routeId:b,loaderDeps:w.loaderDeps,params:w._strictParams,search:w._strictSearch});return{key:k?JSON.stringify(k):void 0,routeId:b,match:{id:w.id,status:w.status,error:w.error,_forcePending:w._forcePending,_displayPending:w._displayPending}}},structuralSharing:!0}),x=d.routesById[p],g=C.useMemo(()=>{const v=x.options.component??d.options.defaultComponent;return v?o.jsx(v,{},m):o.jsx(Up,{})},[m,x.options.component,d.options.defaultComponent]);if(f._displayPending)throw(r=d.getMatch(f.id))==null?void 0:r._nonReactive.displayPendingPromise;if(f._forcePending)throw(a=d.getMatch(f.id))==null?void 0:a._nonReactive.minPendingPromise;if(f.status==="pending"){const v=x.options.pendingMinMs??d.options.defaultPendingMinMs;if(v){const w=d.getMatch(f.id);if(w&&!w._nonReactive.minPendingPromise&&!d.isServer){const b=Eo();w._nonReactive.minPendingPromise=b,setTimeout(()=>{b.resolve(),w._nonReactive.minPendingPromise=void 0},v)}}throw(l=d.getMatch(f.id))==null?void 0:l._nonReactive.loadPromise}if(f.status==="notFound")return gs(Ur(f.error)),Rw(d,x,f.error);if(f.status==="redirected")throw gs(Cr(f.error)),(c=d.getMatch(f.id))==null?void 0:c._nonReactive.loadPromise;if(f.status==="error"){if(d.isServer){const v=(x.options.errorComponent??d.options.defaultErrorComponent)||Md;return o.jsx(v,{error:f.error,reset:void 0,info:{componentStack:""}})}throw f.error}return g}),Up=C.memo(function(){const t=In(),r=C.useContext(zd),a=fn({select:p=>{var x;return(x=p.matches.find(g=>g.id===r))==null?void 0:x.routeId}}),l=t.routesById[a],c=fn({select:p=>{const g=p.matches.find(v=>v.id===r);return gs(g),g.globalNotFound}}),d=fn({select:p=>{var x;const g=p.matches,v=g.findIndex(w=>w.id===r);return(x=g[v+1])==null?void 0:x.id}}),f=t.options.defaultPendingComponent?o.jsx(t.options.defaultPendingComponent,{}):null;if(c)return Rw(t,l,void 0);if(!d)return null;const m=o.jsx(Cw,{matchId:d});return r===Jn?o.jsx(C.Suspense,{fallback:f,children:m}):m});function S2(){const e=In(),t=e.options.defaultPendingComponent?o.jsx(e.options.defaultPendingComponent,{}):null,r=e.isServer||typeof document<"u"&&e.ssr?eo:C.Suspense,a=o.jsxs(r,{fallback:t,children:[!e.isServer&&o.jsx(g2,{}),o.jsx(N2,{})]});return e.options.InnerWrap?o.jsx(e.options.InnerWrap,{children:a}):a}function N2(){const e=In(),t=fn({select:l=>{var c;return(c=l.matches[0])==null?void 0:c.id}}),r=fn({select:l=>l.loadedAt}),a=t?o.jsx(Cw,{matchId:t}):null;return o.jsx(zd.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?a:o.jsx(Tp,{getResetKey:()=>r,errorComponent:Md,onCatch:l=>{l.message||l.toString()},children:a})})}const j2=e=>new k2(e);class k2 extends z_{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=dt,globalThis.createLazyFileRoute=zv):typeof window<"u"&&(window.createFileRoute=dt,window.createLazyFileRoute=zv);function _2({router:e,children:t,...r}){Object.keys(r).length>0&&e.update({...e.options,...r,context:{...e.options.context,...r.context}});const a=Tw(),l=o.jsx(a.Provider,{value:e,children:t});return e.options.Wrap?o.jsx(e.options.Wrap,{children:l}):l}function E2({router:e,...t}){return o.jsx(_2,{router:e,...t,children:o.jsx(S2,{})})}function A2(e){return fn({select:t=>t.location})}var Lo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},T2={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Fs,kp,tw,R2=(tw=class{constructor(){ce(this,Fs,T2);ce(this,kp,!1)}setTimeoutProvider(e){re(this,Fs,e)}setTimeout(e,t){return _(this,Fs).setTimeout(e,t)}clearTimeout(e){_(this,Fs).clearTimeout(e)}setInterval(e,t){return _(this,Fs).setInterval(e,t)}clearInterval(e){_(this,Fs).clearInterval(e)}},Fs=new WeakMap,kp=new WeakMap,tw),qa=new R2;function C2(e){setTimeout(e,0)}var si=typeof window>"u"||"Deno"in globalThis;function un(){}function O2(e,t){return typeof e=="function"?e(t):e}function Hm(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ow(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ca(e,t){return typeof e=="function"?e(t):e}function Xn(e,t){return typeof e=="function"?e(t):e}function Pv(e,t){const{type:r="all",exact:a,fetchStatus:l,predicate:c,queryKey:d,stale:f}=e;if(d){if(a){if(t.queryHash!==Ip(d,t.options))return!1}else if(!sc(t.queryKey,d))return!1}if(r!=="all"){const m=t.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function $v(e,t){const{exact:r,status:a,predicate:l,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(r){if(ai(t.options.mutationKey)!==ai(c))return!1}else if(!sc(t.options.mutationKey,c))return!1}return!(a&&t.state.status!==a||l&&!l(t))}function Ip(e,t){return((t==null?void 0:t.queryKeyHashFn)||ai)(e)}function ai(e){return JSON.stringify(e,(t,r)=>Gm(r)?Object.keys(r).sort().reduce((a,l)=>(a[l]=r[l],a),{}):r)}function sc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>sc(e[r],t[r])):!1}var D2=Object.prototype.hasOwnProperty;function Dw(e,t){if(e===t)return e;const r=Bv(e)&&Bv(t);if(!r&&!(Gm(e)&&Gm(t)))return t;const l=(r?e:Object.keys(e)).length,c=r?t:Object.keys(t),d=c.length,f=r?new Array(d):{};let m=0;for(let p=0;p<d;p++){const x=r?p:c[p],g=e[x],v=t[x];if(g===v){f[x]=g,(r?p<l:D2.call(e,x))&&m++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){f[x]=v;continue}const w=Dw(g,v);f[x]=w,w===g&&m++}return l===d&&m===l?e:f}function vd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Bv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gm(e){if(!qv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!qv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qv(e){return Object.prototype.toString.call(e)==="[object Object]"}function U2(e){return new Promise(t=>{qa.setTimeout(t,e)})}function Km(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Dw(e,t):t}function I2(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function M2(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var Mp=Symbol();function Uw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Iw(e,t){return typeof e=="function"?e(...t):!!e}var Va,Qs,uo,nw,z2=(nw=class extends Lo{constructor(){super();ce(this,Va);ce(this,Qs);ce(this,uo);re(this,uo,t=>{if(!si&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,Qs)||this.setEventListener(_(this,uo))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Qs))==null||t.call(this),re(this,Qs,void 0))}setEventListener(t){var r;re(this,uo,t),(r=_(this,Qs))==null||r.call(this),re(this,Qs,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){_(this,Va)!==t&&(re(this,Va,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof _(this,Va)=="boolean"?_(this,Va):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Va=new WeakMap,Qs=new WeakMap,uo=new WeakMap,nw),zp=new z2;function Zm(){let e,t;const r=new Promise((l,c)=>{e=l,t=c});r.status="pending",r.catch(()=>{});function a(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{a({status:"fulfilled",value:l}),e(l)},r.reject=l=>{a({status:"rejected",reason:l}),t(l)},r}var L2=C2;function P2(){let e=[],t=0,r=f=>{f()},a=f=>{f()},l=L2;const c=f=>{t?e.push(f):l(()=>{r(f)})},d=()=>{const f=e;e=[],f.length&&l(()=>{a(()=>{f.forEach(m=>{r(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||d()}return m},batchCalls:f=>(...m)=>{c(()=>{f(...m)})},schedule:c,setNotifyFunction:f=>{r=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{l=f}}}var Lt=P2(),fo,Ys,ho,rw,$2=(rw=class extends Lo{constructor(){super();ce(this,fo,!0);ce(this,Ys);ce(this,ho);re(this,ho,t=>{if(!si&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){_(this,Ys)||this.setEventListener(_(this,ho))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Ys))==null||t.call(this),re(this,Ys,void 0))}setEventListener(t){var r;re(this,ho,t),(r=_(this,Ys))==null||r.call(this),re(this,Ys,t(this.setOnline.bind(this)))}setOnline(t){_(this,fo)!==t&&(re(this,fo,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return _(this,fo)}},fo=new WeakMap,Ys=new WeakMap,ho=new WeakMap,rw),bd=new $2;function B2(e){return Math.min(1e3*2**e,3e4)}function Mw(e){return(e??"online")==="online"?bd.isOnline():!0}var Fm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zw(e){let t=!1,r=0,a;const l=Zm(),c=()=>l.status!=="pending",d=N=>{var k;if(!c()){const R=new Fm(N);v(R),(k=e.onCancel)==null||k.call(e,R)}},f=()=>{t=!0},m=()=>{t=!1},p=()=>zp.isFocused()&&(e.networkMode==="always"||bd.isOnline())&&e.canRun(),x=()=>Mw(e.networkMode)&&e.canRun(),g=N=>{c()||(a==null||a(),l.resolve(N))},v=N=>{c()||(a==null||a(),l.reject(N))},w=()=>new Promise(N=>{var k;a=R=>{(c()||p())&&N(R)},(k=e.onPause)==null||k.call(e)}).then(()=>{var N;a=void 0,c()||(N=e.onContinue)==null||N.call(e)}),b=()=>{if(c())return;let N;const k=r===0?e.initialPromise:void 0;try{N=k??e.fn()}catch(R){N=Promise.reject(R)}Promise.resolve(N).then(g).catch(R=>{var z;if(c())return;const M=e.retry??(si?0:3),U=e.retryDelay??B2,T=typeof U=="function"?U(r,R):U,B=M===!0||typeof M=="number"&&r<M||typeof M=="function"&&M(r,R);if(t||!B){v(R);return}r++,(z=e.onFail)==null||z.call(e,r,R),U2(T).then(()=>p()?void 0:w()).then(()=>{t?v(R):b()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(a==null||a(),l),cancelRetry:f,continueRetry:m,canStart:x,start:()=>(x()?b():w().then(b),l)}}var Ha,sw,Lw=(sw=class{constructor(){ce(this,Ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hm(this.gcTime)&&re(this,Ha,qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(si?1/0:5*60*1e3))}clearGcTimeout(){_(this,Ha)&&(qa.clearTimeout(_(this,Ha)),re(this,Ha,void 0))}},Ha=new WeakMap,sw),Ga,mo,Qn,Ka,Kt,oc,Za,ir,as,aw,q2=(aw=class extends Lw{constructor(t){super();ce(this,ir);ce(this,Ga);ce(this,mo);ce(this,Qn);ce(this,Ka);ce(this,Kt);ce(this,oc);ce(this,Za);re(this,Za,!1),re(this,oc,t.defaultOptions),this.setOptions(t.options),this.observers=[],re(this,Ka,t.client),re(this,Qn,_(this,Ka).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,re(this,Ga,Vv(this.options)),this.state=t.state??_(this,Ga),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,Kt))==null?void 0:t.promise}setOptions(t){if(this.options={..._(this,oc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Vv(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),re(this,Ga,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Qn).remove(this)}setData(t,r){const a=Km(this.state.data,t,this.options);return Ce(this,ir,as).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){Ce(this,ir,as).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,l;const r=(a=_(this,Kt))==null?void 0:a.promise;return(l=_(this,Kt))==null||l.cancel(t),r?r.then(un).catch(un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Ga))}isActive(){return this.observers.some(t=>Xn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ca(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ow(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,Kt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,Kt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,Qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(_(this,Kt)&&(_(this,Za)?_(this,Kt).cancel({revert:!0}):_(this,Kt).cancelRetry()),this.scheduleGc()),_(this,Qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ce(this,ir,as).call(this,{type:"invalidate"})}async fetch(t,r){var m,p,x,g,v,w,b,N,k,R,M,U;if(this.state.fetchStatus!=="idle"&&((m=_(this,Kt))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,Kt))return _(this,Kt).continueRetry(),_(this,Kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(B=>B.options.queryFn);T&&this.setOptions(T.options)}const a=new AbortController,l=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(re(this,Za,!0),a.signal)})},c=()=>{const T=Uw(this.options,r),z=(()=>{const J={client:_(this,Ka),queryKey:this.queryKey,meta:this.meta};return l(J),J})();return re(this,Za,!1),this.options.persister?this.options.persister(T,z,this):T(z)},f=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_(this,Ka),state:this.state,fetchFn:c};return l(T),T})();(p=this.options.behavior)==null||p.onFetch(f,this),re(this,mo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=f.fetchOptions)==null?void 0:x.meta))&&Ce(this,ir,as).call(this,{type:"fetch",meta:(g=f.fetchOptions)==null?void 0:g.meta}),re(this,Kt,zw({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,onCancel:T=>{T instanceof Fm&&T.revert&&this.setState({..._(this,mo),fetchStatus:"idle"}),a.abort()},onFail:(T,B)=>{Ce(this,ir,as).call(this,{type:"failed",failureCount:T,error:B})},onPause:()=>{Ce(this,ir,as).call(this,{type:"pause"})},onContinue:()=>{Ce(this,ir,as).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const T=await _(this,Kt).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(w=(v=_(this,Qn).config).onSuccess)==null||w.call(v,T,this),(N=(b=_(this,Qn).config).onSettled)==null||N.call(b,T,this.state.error,this),T}catch(T){if(T instanceof Fm){if(T.silent)return _(this,Kt).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw Ce(this,ir,as).call(this,{type:"error",error:T}),(R=(k=_(this,Qn).config).onError)==null||R.call(k,T,this),(U=(M=_(this,Qn).config).onSettled)==null||U.call(M,this.state.data,T,this),T}finally{this.scheduleGc()}}},Ga=new WeakMap,mo=new WeakMap,Qn=new WeakMap,Ka=new WeakMap,Kt=new WeakMap,oc=new WeakMap,Za=new WeakMap,ir=new WeakSet,as=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Pw(a.data,this.options),fetchMeta:t.meta??null};case"success":const l={...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,mo,t.manual?l:void 0),l;case"error":const c=t.error;return{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),Lt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),_(this,Qn).notify({query:this,type:"updated",action:t})})},aw);function Pw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Vv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var xn,$e,lc,ln,Fa,po,is,Js,cc,go,yo,Qa,Ya,Xs,xo,Je,Jl,Qm,Ym,Jm,Xm,Wm,ep,tp,$w,iw,V2=(iw=class extends Lo{constructor(t,r){super();ce(this,Je);ce(this,xn);ce(this,$e);ce(this,lc);ce(this,ln);ce(this,Fa);ce(this,po);ce(this,is);ce(this,Js);ce(this,cc);ce(this,go);ce(this,yo);ce(this,Qa);ce(this,Ya);ce(this,Xs);ce(this,xo,new Set);this.options=r,re(this,xn,t),re(this,Js,null),re(this,is,Zm()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,$e).addObserver(this),Hv(_(this,$e),this.options)?Ce(this,Je,Jl).call(this):this.updateResult(),Ce(this,Je,Xm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return np(_(this,$e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return np(_(this,$e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ce(this,Je,Wm).call(this),Ce(this,Je,ep).call(this),_(this,$e).removeObserver(this)}setOptions(t){const r=this.options,a=_(this,$e);if(this.options=_(this,xn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xn(this.options.enabled,_(this,$e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ce(this,Je,tp).call(this),_(this,$e).setOptions(this.options),r._defaulted&&!vd(this.options,r)&&_(this,xn).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,$e),observer:this});const l=this.hasListeners();l&&Gv(_(this,$e),a,this.options,r)&&Ce(this,Je,Jl).call(this),this.updateResult(),l&&(_(this,$e)!==a||Xn(this.options.enabled,_(this,$e))!==Xn(r.enabled,_(this,$e))||ca(this.options.staleTime,_(this,$e))!==ca(r.staleTime,_(this,$e)))&&Ce(this,Je,Qm).call(this);const c=Ce(this,Je,Ym).call(this);l&&(_(this,$e)!==a||Xn(this.options.enabled,_(this,$e))!==Xn(r.enabled,_(this,$e))||c!==_(this,Xs))&&Ce(this,Je,Jm).call(this,c)}getOptimisticResult(t){const r=_(this,xn).getQueryCache().build(_(this,xn),t),a=this.createResult(r,t);return G2(this,a)&&(re(this,ln,a),re(this,po,this.options),re(this,Fa,_(this,$e).state)),a}getCurrentResult(){return _(this,ln)}trackResult(t,r){return new Proxy(t,{get:(a,l)=>(this.trackProp(l),r==null||r(l),l==="promise"&&!this.options.experimental_prefetchInRender&&_(this,is).status==="pending"&&_(this,is).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(a,l))})}trackProp(t){_(this,xo).add(t)}getCurrentQuery(){return _(this,$e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=_(this,xn).defaultQueryOptions(t),a=_(this,xn).getQueryCache().build(_(this,xn),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return Ce(this,Je,Jl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,ln)))}createResult(t,r){var q;const a=_(this,$e),l=this.options,c=_(this,ln),d=_(this,Fa),f=_(this,po),p=t!==a?t.state:_(this,lc),{state:x}=t;let g={...x},v=!1,w;if(r._optimisticResults){const L=this.hasListeners(),ie=!L&&Hv(t,r),ue=L&&Gv(t,a,r,l);(ie||ue)&&(g={...g,...Pw(x.data,t.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:N,status:k}=g;w=g.data;let R=!1;if(r.placeholderData!==void 0&&w===void 0&&k==="pending"){let L;c!=null&&c.isPlaceholderData&&r.placeholderData===(f==null?void 0:f.placeholderData)?(L=c.data,R=!0):L=typeof r.placeholderData=="function"?r.placeholderData((q=_(this,yo))==null?void 0:q.state.data,_(this,yo)):r.placeholderData,L!==void 0&&(k="success",w=Km(c==null?void 0:c.data,L,r),v=!0)}if(r.select&&w!==void 0&&!R)if(c&&w===(d==null?void 0:d.data)&&r.select===_(this,cc))w=_(this,go);else try{re(this,cc,r.select),w=r.select(w),w=Km(c==null?void 0:c.data,w,r),re(this,go,w),re(this,Js,null)}catch(L){re(this,Js,L)}_(this,Js)&&(b=_(this,Js),w=_(this,go),N=Date.now(),k="error");const M=g.fetchStatus==="fetching",U=k==="pending",T=k==="error",B=U&&M,z=w!==void 0,K={status:k,fetchStatus:g.fetchStatus,isPending:U,isSuccess:k==="success",isError:T,isInitialLoading:B,isLoading:B,data:w,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:N,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:M,isRefetching:M&&!U,isLoadingError:T&&!z,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:T&&z,isStale:Lp(t,r),refetch:this.refetch,promise:_(this,is),isEnabled:Xn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const L=he=>{K.status==="error"?he.reject(K.error):K.data!==void 0&&he.resolve(K.data)},ie=()=>{const he=re(this,is,K.promise=Zm());L(he)},ue=_(this,is);switch(ue.status){case"pending":t.queryHash===a.queryHash&&L(ue);break;case"fulfilled":(K.status==="error"||K.data!==ue.value)&&ie();break;case"rejected":(K.status!=="error"||K.error!==ue.reason)&&ie();break}}return K}updateResult(){const t=_(this,ln),r=this.createResult(_(this,$e),this.options);if(re(this,Fa,_(this,$e).state),re(this,po,this.options),_(this,Fa).data!==void 0&&re(this,yo,_(this,$e)),vd(r,t))return;re(this,ln,r);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!_(this,xo).size)return!0;const d=new Set(c??_(this,xo));return this.options.throwOnError&&d.add("error"),Object.keys(_(this,ln)).some(f=>{const m=f;return _(this,ln)[m]!==t[m]&&d.has(m)})};Ce(this,Je,$w).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ce(this,Je,Xm).call(this)}},xn=new WeakMap,$e=new WeakMap,lc=new WeakMap,ln=new WeakMap,Fa=new WeakMap,po=new WeakMap,is=new WeakMap,Js=new WeakMap,cc=new WeakMap,go=new WeakMap,yo=new WeakMap,Qa=new WeakMap,Ya=new WeakMap,Xs=new WeakMap,xo=new WeakMap,Je=new WeakSet,Jl=function(t){Ce(this,Je,tp).call(this);let r=_(this,$e).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(un)),r},Qm=function(){Ce(this,Je,Wm).call(this);const t=ca(this.options.staleTime,_(this,$e));if(si||_(this,ln).isStale||!Hm(t))return;const a=Ow(_(this,ln).dataUpdatedAt,t)+1;re(this,Qa,qa.setTimeout(()=>{_(this,ln).isStale||this.updateResult()},a))},Ym=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,$e)):this.options.refetchInterval)??!1},Jm=function(t){Ce(this,Je,ep).call(this),re(this,Xs,t),!(si||Xn(this.options.enabled,_(this,$e))===!1||!Hm(_(this,Xs))||_(this,Xs)===0)&&re(this,Ya,qa.setInterval(()=>{(this.options.refetchIntervalInBackground||zp.isFocused())&&Ce(this,Je,Jl).call(this)},_(this,Xs)))},Xm=function(){Ce(this,Je,Qm).call(this),Ce(this,Je,Jm).call(this,Ce(this,Je,Ym).call(this))},Wm=function(){_(this,Qa)&&(qa.clearTimeout(_(this,Qa)),re(this,Qa,void 0))},ep=function(){_(this,Ya)&&(qa.clearInterval(_(this,Ya)),re(this,Ya,void 0))},tp=function(){const t=_(this,xn).getQueryCache().build(_(this,xn),this.options);if(t===_(this,$e))return;const r=_(this,$e);re(this,$e,t),re(this,lc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$w=function(t){Lt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(_(this,ln))}),_(this,xn).getQueryCache().notify({query:_(this,$e),type:"observerResultsUpdated"})})},iw);function H2(e,t){return Xn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Hv(e,t){return H2(e,t)||e.state.data!==void 0&&np(e,t,t.refetchOnMount)}function np(e,t,r){if(Xn(t.enabled,e)!==!1&&ca(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&Lp(e,t)}return!1}function Gv(e,t,r,a){return(e!==t||Xn(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Lp(e,r)}function Lp(e,t){return Xn(t.enabled,e)!==!1&&e.isStaleByTime(ca(t.staleTime,e))}function G2(e,t){return!vd(e.getCurrentResult(),t)}function Kv(e){return{onFetch:(t,r)=>{var x,g,v,w,b;const a=t.options,l=(v=(g=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,c=((w=t.state.data)==null?void 0:w.pages)||[],d=((b=t.state.data)==null?void 0:b.pageParams)||[];let f={pages:[],pageParams:[]},m=0;const p=async()=>{let N=!1;const k=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},R=Uw(t.options,t.fetchOptions),M=async(U,T,B)=>{if(N)return Promise.reject();if(T==null&&U.pages.length)return Promise.resolve(U);const J=(()=>{const ie={client:t.client,queryKey:t.queryKey,pageParam:T,direction:B?"backward":"forward",meta:t.options.meta};return k(ie),ie})(),K=await R(J),{maxPages:q}=t.options,L=B?M2:I2;return{pages:L(U.pages,K,q),pageParams:L(U.pageParams,T,q)}};if(l&&c.length){const U=l==="backward",T=U?K2:Zv,B={pages:c,pageParams:d},z=T(a,B);f=await M(B,z,U)}else{const U=e??c.length;do{const T=m===0?d[0]??a.initialPageParam:Zv(a,f);if(m>0&&T==null)break;f=await M(f,T),m++}while(m<U)}return f};t.options.persister?t.fetchFn=()=>{var N,k;return(k=(N=t.options).persister)==null?void 0:k.call(N,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=p}}}function Zv(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function K2(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var Nr,cn,Ja,jr,Ks,ow,Z2=(ow=class extends Lw{constructor(t){super();ce(this,jr);ce(this,Nr);ce(this,cn);ce(this,Ja);this.mutationId=t.mutationId,re(this,cn,t.mutationCache),re(this,Nr,[]),this.state=t.state||Bw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,Nr).includes(t)||(_(this,Nr).push(t),this.clearGcTimeout(),_(this,cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){re(this,Nr,_(this,Nr).filter(r=>r!==t)),this.scheduleGc(),_(this,cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():_(this,cn).remove(this))}continue(){var t;return((t=_(this,Ja))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,f,m,p,x,g,v,w,b,N,k,R,M,U,T,B,z,J,K;const r=()=>{Ce(this,jr,Ks).call(this,{type:"continue"})};re(this,Ja,zw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(q,L)=>{Ce(this,jr,Ks).call(this,{type:"failed",failureCount:q,error:L})},onPause:()=>{Ce(this,jr,Ks).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,cn).canRun(this)}));const a=this.state.status==="pending",l=!_(this,Ja).canStart();try{if(a)r();else{Ce(this,jr,Ks).call(this,{type:"pending",variables:t,isPaused:l}),await((d=(c=_(this,cn).config).onMutate)==null?void 0:d.call(c,t,this));const L=await((m=(f=this.options).onMutate)==null?void 0:m.call(f,t));L!==this.state.context&&Ce(this,jr,Ks).call(this,{type:"pending",context:L,variables:t,isPaused:l})}const q=await _(this,Ja).start();return await((x=(p=_(this,cn).config).onSuccess)==null?void 0:x.call(p,q,t,this.state.context,this)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,q,t,this.state.context)),await((b=(w=_(this,cn).config).onSettled)==null?void 0:b.call(w,q,null,this.state.variables,this.state.context,this)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,q,null,t,this.state.context)),Ce(this,jr,Ks).call(this,{type:"success",data:q}),q}catch(q){try{throw await((M=(R=_(this,cn).config).onError)==null?void 0:M.call(R,q,t,this.state.context,this)),await((T=(U=this.options).onError)==null?void 0:T.call(U,q,t,this.state.context)),await((z=(B=_(this,cn).config).onSettled)==null?void 0:z.call(B,void 0,q,this.state.variables,this.state.context,this)),await((K=(J=this.options).onSettled)==null?void 0:K.call(J,void 0,q,t,this.state.context)),q}finally{Ce(this,jr,Ks).call(this,{type:"error",error:q})}}finally{_(this,cn).runNext(this)}}},Nr=new WeakMap,cn=new WeakMap,Ja=new WeakMap,jr=new WeakSet,Ks=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{_(this,Nr).forEach(a=>{a.onMutationUpdate(t)}),_(this,cn).notify({mutation:this,type:"updated",action:t})})},ow);function Bw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var os,or,uc,lw,F2=(lw=class extends Lo{constructor(t={}){super();ce(this,os);ce(this,or);ce(this,uc);this.config=t,re(this,os,new Set),re(this,or,new Map),re(this,uc,0)}build(t,r,a){const l=new Z2({mutationCache:this,mutationId:++Mu(this,uc)._,options:t.defaultMutationOptions(r),state:a});return this.add(l),l}add(t){_(this,os).add(t);const r=Bu(t);if(typeof r=="string"){const a=_(this,or).get(r);a?a.push(t):_(this,or).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,os).delete(t)){const r=Bu(t);if(typeof r=="string"){const a=_(this,or).get(r);if(a)if(a.length>1){const l=a.indexOf(t);l!==-1&&a.splice(l,1)}else a[0]===t&&_(this,or).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bu(t);if(typeof r=="string"){const a=_(this,or).get(r),l=a==null?void 0:a.find(c=>c.state.status==="pending");return!l||l===t}else return!0}runNext(t){var a;const r=Bu(t);if(typeof r=="string"){const l=(a=_(this,or).get(r))==null?void 0:a.find(c=>c!==t&&c.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Lt.batch(()=>{_(this,os).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,os).clear(),_(this,or).clear()})}getAll(){return Array.from(_(this,os))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>$v(r,a))}findAll(t={}){return this.getAll().filter(r=>$v(t,r))}notify(t){Lt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Lt.batch(()=>Promise.all(t.map(r=>r.continue().catch(un))))}},os=new WeakMap,or=new WeakMap,uc=new WeakMap,lw);function Bu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ws,ea,vn,ls,ps,sd,rp,cw,Q2=(cw=class extends Lo{constructor(r,a){super();ce(this,ps);ce(this,Ws);ce(this,ea);ce(this,vn);ce(this,ls);re(this,Ws,r),this.setOptions(a),this.bindMethods(),Ce(this,ps,sd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var l;const a=this.options;this.options=_(this,Ws).defaultMutationOptions(r),vd(this.options,a)||_(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,vn),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&ai(a.mutationKey)!==ai(this.options.mutationKey)?this.reset():((l=_(this,vn))==null?void 0:l.state.status)==="pending"&&_(this,vn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_(this,vn))==null||r.removeObserver(this)}onMutationUpdate(r){Ce(this,ps,sd).call(this),Ce(this,ps,rp).call(this,r)}getCurrentResult(){return _(this,ea)}reset(){var r;(r=_(this,vn))==null||r.removeObserver(this),re(this,vn,void 0),Ce(this,ps,sd).call(this),Ce(this,ps,rp).call(this)}mutate(r,a){var l;return re(this,ls,a),(l=_(this,vn))==null||l.removeObserver(this),re(this,vn,_(this,Ws).getMutationCache().build(_(this,Ws),this.options)),_(this,vn).addObserver(this),_(this,vn).execute(r)}},Ws=new WeakMap,ea=new WeakMap,vn=new WeakMap,ls=new WeakMap,ps=new WeakSet,sd=function(){var a;const r=((a=_(this,vn))==null?void 0:a.state)??Bw();re(this,ea,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},rp=function(r){Lt.batch(()=>{var a,l,c,d,f,m,p,x;if(_(this,ls)&&this.hasListeners()){const g=_(this,ea).variables,v=_(this,ea).context;(r==null?void 0:r.type)==="success"?((l=(a=_(this,ls)).onSuccess)==null||l.call(a,r.data,g,v),(d=(c=_(this,ls)).onSettled)==null||d.call(c,r.data,null,g,v)):(r==null?void 0:r.type)==="error"&&((m=(f=_(this,ls)).onError)==null||m.call(f,r.error,g,v),(x=(p=_(this,ls)).onSettled)==null||x.call(p,void 0,r.error,g,v))}this.listeners.forEach(g=>{g(_(this,ea))})})},cw),kr,uw,Y2=(uw=class extends Lo{constructor(t={}){super();ce(this,kr);this.config=t,re(this,kr,new Map)}build(t,r,a){const l=r.queryKey,c=r.queryHash??Ip(l,r);let d=this.get(c);return d||(d=new q2({client:t,queryKey:l,queryHash:c,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(l)}),this.add(d)),d}add(t){_(this,kr).has(t.queryHash)||(_(this,kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=_(this,kr).get(t.queryHash);r&&(t.destroy(),r===t&&_(this,kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,kr).get(t)}getAll(){return[..._(this,kr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Pv(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>Pv(t,a)):r}notify(t){Lt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kr=new WeakMap,uw),St,ta,na,vo,bo,ra,wo,So,dw,J2=(dw=class{constructor(e={}){ce(this,St);ce(this,ta);ce(this,na);ce(this,vo);ce(this,bo);ce(this,ra);ce(this,wo);ce(this,So);re(this,St,e.queryCache||new Y2),re(this,ta,e.mutationCache||new F2),re(this,na,e.defaultOptions||{}),re(this,vo,new Map),re(this,bo,new Map),re(this,ra,0)}mount(){Mu(this,ra)._++,_(this,ra)===1&&(re(this,wo,zp.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,St).onFocus())})),re(this,So,bd.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,St).onOnline())})))}unmount(){var e,t;Mu(this,ra)._--,_(this,ra)===0&&((e=_(this,wo))==null||e.call(this),re(this,wo,void 0),(t=_(this,So))==null||t.call(this),re(this,So,void 0))}isFetching(e){return _(this,St).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,ta).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,St).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=_(this,St).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ca(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return _(this,St).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),l=_(this,St).get(a.queryHash),c=l==null?void 0:l.state.data,d=O2(t,c);if(d!==void 0)return _(this,St).build(this,a).setData(d,{...r,manual:!0})}setQueriesData(e,t,r){return Lt.batch(()=>_(this,St).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,St).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=_(this,St);Lt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=_(this,St);return Lt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Lt.batch(()=>_(this,St).findAll(e).map(l=>l.cancel(r)));return Promise.all(a).then(un).catch(un)}invalidateQueries(e,t={}){return Lt.batch(()=>(_(this,St).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Lt.batch(()=>_(this,St).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,r);return r.throwOnError||(c=c.catch(un)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=_(this,St).build(this,t);return r.isStaleByTime(ca(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(un).catch(un)}fetchInfiniteQuery(e){return e.behavior=Kv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(un).catch(un)}ensureInfiniteQueryData(e){return e.behavior=Kv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bd.isOnline()?_(this,ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,St)}getMutationCache(){return _(this,ta)}getDefaultOptions(){return _(this,na)}setDefaultOptions(e){re(this,na,e)}setQueryDefaults(e,t){_(this,vo).set(ai(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,vo).values()],r={};return t.forEach(a=>{sc(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){_(this,bo).set(ai(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,bo).values()],r={};return t.forEach(a=>{sc(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,na).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ip(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Mp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,na).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,St).clear(),_(this,ta).clear()}},St=new WeakMap,ta=new WeakMap,na=new WeakMap,vo=new WeakMap,bo=new WeakMap,ra=new WeakMap,wo=new WeakMap,So=new WeakMap,dw),qw=C.createContext(void 0),Lr=e=>{const t=C.useContext(qw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},X2=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(qw.Provider,{value:e,children:t})),Vw=C.createContext(!1),W2=()=>C.useContext(Vw);Vw.Provider;function eE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tE=C.createContext(eE()),nE=()=>C.useContext(tE),rE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},sE=e=>{C.useEffect(()=>{e.clearReset()},[e])},aE=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(l&&e.data===void 0||Iw(r,[e.error,a])),iE=e=>{if(e.suspense){const r=l=>l==="static"?l:Math.max(l??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...l)=>r(a(...l)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},oE=(e,t)=>e.isLoading&&e.isFetching&&!t,lE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Fv=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function cE(e,t,r){var g,v,w,b,N;const a=W2(),l=nE(),c=Lr(),d=c.defaultQueryOptions(e);(v=(g=c.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||v.call(g,d),d._optimisticResults=a?"isRestoring":"optimistic",iE(d),rE(d,l),sE(l);const f=!c.getQueryCache().get(d.queryHash),[m]=C.useState(()=>new t(c,d)),p=m.getOptimisticResult(d),x=!a&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(k=>{const R=x?m.subscribe(Lt.batchCalls(k)):un;return m.updateResult(),R},[m,x]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),C.useEffect(()=>{m.setOptions(d)},[d,m]),lE(d,p))throw Fv(d,m,l);if(aE({result:p,errorResetBoundary:l,throwOnError:d.throwOnError,query:c.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw p.error;if((b=(w=c.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||b.call(w,d,p),d.experimental_prefetchInRender&&!si&&oE(p,a)){const k=f?Fv(d,m,l):(N=c.getQueryCache().get(d.queryHash))==null?void 0:N.promise;k==null||k.catch(un).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?p:m.trackResult(p)}function Pr(e,t){return cE(e,V2)}function $r(e,t){const r=Lr(),[a]=C.useState(()=>new Q2(r,e));C.useEffect(()=>{a.setOptions(e)},[a,e]);const l=C.useSyncExternalStore(C.useCallback(d=>a.subscribe(Lt.batchCalls(d)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=C.useCallback((d,f)=>{a.mutate(d,f).catch(un)},[a]);if(l.error&&Iw(a.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}const Qt=p2({component:()=>o.jsx(o.Fragment,{children:o.jsx(Up,{})})});function Qv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hw(...e){return t=>{let r=!1;const a=e.map(l=>{const c=Qv(l,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<a.length;l++){const c=a[l];typeof c=="function"?c():Qv(e[l],null)}}}}function Pp(...e){return C.useCallback(Hw(...e),e)}function Gw(e){const t=dE(e),r=C.forwardRef((a,l)=>{const{children:c,...d}=a,f=C.Children.toArray(c),m=f.find(hE);if(m){const p=m.props.children,x=f.map(g=>g===m?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:g);return o.jsx(t,{...d,ref:l,children:C.isValidElement(p)?C.cloneElement(p,void 0,x):null})}return o.jsx(t,{...d,ref:l,children:c})});return r.displayName=`${e}.Slot`,r}var uE=Gw("Slot");function dE(e){const t=C.forwardRef((r,a)=>{const{children:l,...c}=r;if(C.isValidElement(l)){const d=pE(l),f=mE(c,l.props);return l.type!==C.Fragment&&(f.ref=a?Hw(a,d):d),C.cloneElement(l,f)}return C.Children.count(l)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fE=Symbol("radix.slottable");function hE(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fE}function mE(e,t){const r={...t};for(const a in t){const l=e[a],c=t[a];/^on[A-Z]/.test(a)?l&&c?r[a]=(...f)=>{const m=c(...f);return l(...f),m}:l&&(r[a]=l):a==="style"?r[a]={...l,...c}:a==="className"&&(r[a]=[l,c].filter(Boolean).join(" "))}return{...e,...r}}function pE(e){var a,l;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Kw(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=Kw(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Zw(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=Kw(e))&&(a&&(a+=" "),a+=t);return a}const Yv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jv=Zw,Fw=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return Jv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:l,defaultVariants:c}=t,d=Object.keys(l).map(p=>{const x=r==null?void 0:r[p],g=c==null?void 0:c[p];if(x===null)return null;const v=Yv(x)||Yv(g);return l[p][v]}),f=r&&Object.entries(r).reduce((p,x)=>{let[g,v]=x;return v===void 0||(p[g]=v),p},{}),m=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((p,x)=>{let{class:g,className:v,...w}=x;return Object.entries(w).every(b=>{let[N,k]=b;return Array.isArray(k)?k.includes({...c,...f}[N]):{...c,...f}[N]===k})?[...p,g,v]:p},[]);return Jv(e,d,m,r==null?void 0:r.class,r==null?void 0:r.className)},$p="-",gE=e=>{const t=xE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const f=d.split($p);return f[0]===""&&f.length!==1&&f.shift(),Qw(f,t)||yE(d)},getConflictingClassGroupIds:(d,f)=>{const m=r[d]||[];return f&&a[d]?[...m,...a[d]]:m}}},Qw=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),l=a?Qw(e.slice(1),a):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join($p);return(d=t.validators.find(({validator:f})=>f(c)))==null?void 0:d.classGroupId},Xv=/^\[(.+)\]$/,yE=e=>{if(Xv.test(e)){const t=Xv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},xE=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const l in r)sp(r[l],a,l,t);return a},sp=(e,t,r,a)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:Wv(t,l);c.classGroupId=r;return}if(typeof l=="function"){if(vE(l)){sp(l(a),t,r,a);return}t.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([c,d])=>{sp(d,Wv(t,c),r,a)})})},Wv=(e,t)=>{let r=e;return t.split($p).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},vE=e=>e.isThemeGetter,bE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const l=(c,d)=>{r.set(c,d),t++,t>e&&(t=0,a=r,r=new Map)};return{get(c){let d=r.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return l(c,d),d},set(c,d){r.has(c)?r.set(c,d):l(c,d)}}},ap="!",ip=":",wE=ip.length,SE=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=l=>{const c=[];let d=0,f=0,m=0,p;for(let b=0;b<l.length;b++){let N=l[b];if(d===0&&f===0){if(N===ip){c.push(l.slice(m,b)),m=b+wE;continue}if(N==="/"){p=b;continue}}N==="["?d++:N==="]"?d--:N==="("?f++:N===")"&&f--}const x=c.length===0?l:l.substring(m),g=NE(x),v=g!==x,w=p&&p>m?p-m:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:w}};if(t){const l=t+ip,c=a;a=d=>d.startsWith(l)?c(d.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const l=a;a=c=>r({className:c,parseClassName:l})}return a},NE=e=>e.endsWith(ap)?e.substring(0,e.length-1):e.startsWith(ap)?e.substring(1):e,jE=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const l=[];let c=[];return a.forEach(d=>{d[0]==="["||t[d]?(l.push(...c.sort(),d),c=[]):c.push(d)}),l.push(...c.sort()),l}},kE=e=>({cache:bE(e.cacheSize),parseClassName:SE(e),sortModifiers:jE(e),...gE(e)}),_E=/\s+/,EE=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:l,sortModifiers:c}=t,d=[],f=e.trim().split(_E);let m="";for(let p=f.length-1;p>=0;p-=1){const x=f[p],{isExternal:g,modifiers:v,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:N}=r(x);if(g){m=x+(m.length>0?" "+m:m);continue}let k=!!N,R=a(k?b.substring(0,N):b);if(!R){if(!k){m=x+(m.length>0?" "+m:m);continue}if(R=a(b),!R){m=x+(m.length>0?" "+m:m);continue}k=!1}const M=c(v).join(":"),U=w?M+ap:M,T=U+R;if(d.includes(T))continue;d.push(T);const B=l(R,k);for(let z=0;z<B.length;++z){const J=B[z];d.push(U+J)}m=x+(m.length>0?" "+m:m)}return m};function AE(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Yw(t))&&(a&&(a+=" "),a+=r);return a}const Yw=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=Yw(e[a]))&&(r&&(r+=" "),r+=t);return r};function TE(e,...t){let r,a,l,c=d;function d(m){const p=t.reduce((x,g)=>g(x),e());return r=kE(p),a=r.cache.get,l=r.cache.set,c=f,f(m)}function f(m){const p=a(m);if(p)return p;const x=EE(m,r);return l(m,x),x}return function(){return c(AE.apply(null,arguments))}}const zt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Jw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Xw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,RE=/^\d+\/\d+$/,CE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,UE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xi=e=>RE.test(e),Ie=e=>!!e&&!Number.isNaN(Number(e)),Vs=e=>!!e&&Number.isInteger(Number(e)),Tm=e=>e.endsWith("%")&&Ie(e.slice(0,-1)),rs=e=>CE.test(e),ME=()=>!0,zE=e=>OE.test(e)&&!DE.test(e),Ww=()=>!1,LE=e=>UE.test(e),PE=e=>IE.test(e),$E=e=>!ye(e)&&!xe(e),BE=e=>Po(e,n1,Ww),ye=e=>Jw.test(e),$a=e=>Po(e,r1,zE),Rm=e=>Po(e,KE,Ie),eb=e=>Po(e,e1,Ww),qE=e=>Po(e,t1,PE),qu=e=>Po(e,s1,LE),xe=e=>Xw.test(e),Kl=e=>$o(e,r1),VE=e=>$o(e,ZE),tb=e=>$o(e,e1),HE=e=>$o(e,n1),GE=e=>$o(e,t1),Vu=e=>$o(e,s1,!0),Po=(e,t,r)=>{const a=Jw.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},$o=(e,t,r=!1)=>{const a=Xw.exec(e);return a?a[1]?t(a[1]):r:!1},e1=e=>e==="position"||e==="percentage",t1=e=>e==="image"||e==="url",n1=e=>e==="length"||e==="size"||e==="bg-size",r1=e=>e==="length",KE=e=>e==="number",ZE=e=>e==="family-name",s1=e=>e==="shadow",FE=()=>{const e=zt("color"),t=zt("font"),r=zt("text"),a=zt("font-weight"),l=zt("tracking"),c=zt("leading"),d=zt("breakpoint"),f=zt("container"),m=zt("spacing"),p=zt("radius"),x=zt("shadow"),g=zt("inset-shadow"),v=zt("text-shadow"),w=zt("drop-shadow"),b=zt("blur"),N=zt("perspective"),k=zt("aspect"),R=zt("ease"),M=zt("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...T(),xe,ye],z=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto","contain","none"],K=()=>[xe,ye,m],q=()=>[Xi,"full","auto",...K()],L=()=>[Vs,"none","subgrid",xe,ye],ie=()=>["auto",{span:["full",Vs,xe,ye]},Vs,xe,ye],ue=()=>[Vs,"auto",xe,ye],he=()=>["auto","min","max","fr",xe,ye],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...K()],Q=()=>[Xi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],G=()=>[e,xe,ye],ee=()=>[...T(),tb,eb,{position:[xe,ye]}],E=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",HE,BE,{size:[xe,ye]}],ne=()=>[Tm,Kl,$a],te=()=>["","none","full",p,xe,ye],le=()=>["",Ie,Kl,$a],ke=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Ie,Tm,tb,eb],Me=()=>["","none",b,xe,ye],at=()=>["none",Ie,xe,ye],Mn=()=>["none",Ie,xe,ye],zn=()=>[Ie,xe,ye],tn=()=>[Xi,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rs],breakpoint:[rs],color:[ME],container:[rs],"drop-shadow":[rs],ease:["in","out","in-out"],font:[$E],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rs],shadow:[rs],spacing:["px",Ie],text:[rs],"text-shadow":[rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xi,ye,xe,k]}],container:["container"],columns:[{columns:[Ie,ye,xe,f]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:J()}],"overscroll-x":[{"overscroll-x":J()}],"overscroll-y":[{"overscroll-y":J()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Vs,"auto",xe,ye]}],basis:[{basis:[Xi,"full","auto",f,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ie,Xi,"auto","initial","none",ye]}],grow:[{grow:["",Ie,xe,ye]}],shrink:[{shrink:["",Ie,xe,ye]}],order:[{order:[Vs,"first","last","none",xe,ye]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[f,"screen",...Q()]}],"min-w":[{"min-w":[f,"screen","none",...Q()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",r,Kl,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,xe,Rm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Tm,ye]}],"font-family":[{font:[VE,ye,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,xe,ye]}],"line-clamp":[{"line-clamp":[Ie,"none",xe,Rm]}],leading:[{leading:[c,...K()]}],"list-image":[{"list-image":["none",xe,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ie,"from-font","auto",xe,$a]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Ie,"auto",xe,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:E()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vs,xe,ye],radial:["",xe,ye],conic:[Vs,xe,ye]},GE,qE]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ke(),"hidden","none"]}],"divide-style":[{divide:[...ke(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ie,xe,ye]}],"outline-w":[{outline:["",Ie,Kl,$a]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",x,Vu,qu]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,Vu,qu]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Ie,$a]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",v,Vu,qu]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Ie,xe,ye]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ie]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[xe,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Ie]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:E()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,ye]}],filter:[{filter:["","none",xe,ye]}],blur:[{blur:Me()}],brightness:[{brightness:[Ie,xe,ye]}],contrast:[{contrast:[Ie,xe,ye]}],"drop-shadow":[{"drop-shadow":["","none",w,Vu,qu]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Ie,xe,ye]}],"hue-rotate":[{"hue-rotate":[Ie,xe,ye]}],invert:[{invert:["",Ie,xe,ye]}],saturate:[{saturate:[Ie,xe,ye]}],sepia:[{sepia:["",Ie,xe,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,ye]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Ie,xe,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ie,xe,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ie,xe,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ie,xe,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ie,xe,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ie,xe,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ie,xe,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ie,xe,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ie,"initial",xe,ye]}],ease:[{ease:["linear","initial",R,xe,ye]}],delay:[{delay:[Ie,xe,ye]}],animate:[{animate:["none",M,xe,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,xe,ye]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:at()}],"rotate-x":[{"rotate-x":at()}],"rotate-y":[{"rotate-y":at()}],"rotate-z":[{"rotate-z":at()}],scale:[{scale:Mn()}],"scale-x":[{"scale-x":Mn()}],"scale-y":[{"scale-y":Mn()}],"scale-z":[{"scale-z":Mn()}],"scale-3d":["scale-3d"],skew:[{skew:zn()}],"skew-x":[{"skew-x":zn()}],"skew-y":[{"skew-y":zn()}],transform:[{transform:[xe,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tn()}],"translate-x":[{"translate-x":tn()}],"translate-y":[{"translate-y":tn()}],"translate-z":[{"translate-z":tn()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,ye]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Ie,Kl,$a,Rm]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QE=TE(FE);function Tt(...e){return QE(Zw(e))}function Bt(e,t="SAR"){const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)?"-":t==="SAR"?Bp(r):t==="IDR"?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(r):new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(r)}function Bp(e){const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"-":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function Be(e,t="short"){const r=typeof e=="string"?new Date(e):e;if(isNaN(r.getTime()))return"-";switch(t){case"short":return r.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"});case"long":return r.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});case"datetime":return r.toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});default:return r.toLocaleDateString("id-ID")}}function qp({phoneNumber:e,message:t}){const r=encodeURIComponent(t);let a="https://wa.me/";if(e){const l=e.replace(/\D/g,""),c=l.startsWith("62")?l:`62${l.replace(/^0/,"")}`;a+=`${c}?text=${r}`}else a+=`?text=${r}`;window.open(a,"_blank")}function a1(e){return`🏨 *Konfirmasi Booking Hotel*

📋 *Kode Booking:* ${e.code}
👤 *Nama Tamu:* ${e.clientName}
🏨 *Hotel:* ${e.hotelName}
📅 *Check-in:* ${Be(e.checkIn,"long")}
📅 *Check-out:* ${Be(e.checkOut,"long")}
💰 *Total:* ${Bt(e.totalAmount,e.currency)}

Terima kasih telah mempercayai layanan kami! 🙏`}function YE(e){let t=`🎫 *Voucher Hotel*

🎟️ *Nomor Voucher:* ${e.number}
👤 *Nama Tamu:* ${e.guestName}
🏨 *Hotel:* ${e.hotelName}
📅 *Check-in:* ${Be(e.checkIn,"long")}
📅 *Check-out:* ${Be(e.checkOut,"long")}`;return e.pdfUrl&&(t+=`

📎 *Link Voucher:* ${e.pdfUrl}`),t+=`

Selamat menikmati liburan Anda! 🏖️`,t}function i1(e){switch(e.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}const JE=Fw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ae({className:e,variant:t,size:r,asChild:a=!1,...l}){const c=a?uE:"button";return o.jsx(c,{"data-slot":"button",className:Tt(JE({variant:t,size:r,className:e})),...l})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WE=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),nb=e=>{const t=WE(e);return t.charAt(0).toUpperCase()+t.slice(1)},o1=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),eA=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...f},m)=>C.createElement("svg",{ref:m,...tA,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:o1("lucide",l),...!c&&!eA(f)&&{"aria-hidden":"true"},...f},[...d.map(([p,x])=>C.createElement(p,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const r=C.forwardRef(({className:a,...l},c)=>C.createElement(nA,{ref:c,iconNode:t,className:o1(`lucide-${XE(nb(e))}`,`lucide-${e}`,a),...l}));return r.displayName=nb(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],sA=De("arrow-down",rA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Mr=De("arrow-left",aA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],oA=De("arrow-up-down",iA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],cA=De("arrow-up",lA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],dA=De("building",uA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Br=De("calendar",fA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],op=De("chart-column",hA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pA=De("check",mA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rb=De("chevron-down",gA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xA=De("chevron-left",yA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bA=De("chevron-right",vA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vp=De("circle-alert",wA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hp=De("clock",SA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],jA=De("coins",NA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Gp=De("download",kA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lp=De("eye-off",_A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fa=De("eye",EA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dr=De("file-text",AA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Kp=De("funnel",TA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],l1=De("hotel",RA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OA=De("layout-dashboard",CA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pt=De("loader-circle",DA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cp=De("lock",UA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MA=De("log-out",IA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xc=De("mail",zA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],wd=De("map-pin",LA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$A=De("menu",PA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],qA=De("percent",BA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],c1=De("phone",VA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ld=De("plus",HA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Oo=De("save",GA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u1=De("settings",KA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],ii=De("share",ZA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QA=De("shield",FA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Sd=De("square-pen",YA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],fr=De("ticket",JA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],up=De("trending-up",XA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pd=De("user",WA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ha=De("users",eT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$d=De("x",tT),nT=[{name:"Dashboard",href:"/dashboard/admin",icon:OA},{name:"Analytics",href:"/analytics",icon:op},{name:"Bookings",href:"/bookings",icon:Br},{name:"Invoices",href:"/invoices",icon:dr},{name:"Vouchers",href:"/vouchers",icon:fr}];function rT({className:e}){const t=A2(),[r,a]=C.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:o.jsx(ae,{variant:"outline",size:"sm",onClick:()=>a(!r),className:"bg-white",children:r?o.jsx($d,{className:"h-4 w-4"}):o.jsx($A,{className:"h-4 w-4"})})}),r&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>a(!1)}),o.jsx("div",{className:Tt("fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",r?"translate-x-0":"-translate-x-full",e),children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(l1,{className:"h-8 w-8 text-blue-600"}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Musafirin"})]})}),o.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:nT.map(l=>{const c=t.pathname===l.href||l.href!=="/dashboard/admin"&&t.pathname.startsWith(l.href);return o.jsxs(Un,{to:l.href,className:Tt("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",c?"bg-blue-100 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),onClick:()=>a(!1),children:[o.jsx(l.icon,{className:"mr-3 h-5 w-5"}),l.name]},l.name)})}),o.jsx("div",{className:"p-4 border-t border-gray-200",children:o.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Hotel Booking Management"})})]})})]})}const sT={sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base"};function aT({src:e,alt:t="Avatar",fallback:r,size:a="md",className:l}){const[c,d]=C.useState(!1),f=()=>{d(!0)},p=(x=>x?x.split(" ").map(g=>g.charAt(0)).join("").toUpperCase().slice(0,2):"")(r);return o.jsx("div",{className:Tt("relative flex shrink-0 overflow-hidden rounded-full",sT[a],l),children:e&&!c?o.jsx("img",{src:e,alt:t,onError:f,className:"aspect-square h-full w-full object-cover"}):p?o.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-100 text-gray-600 font-medium",children:p}):o.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-100 text-gray-400",children:o.jsx(Pd,{className:"h-1/2 w-1/2"})})})}const d1=C.createContext({isOpen:!1,setIsOpen:()=>{}});function iT({children:e,trigger:t,align:r="end",className:a}){const[l,c]=C.useState(!1),d=C.useRef(null);return C.useEffect(()=>{function f(m){d.current&&!d.current.contains(m.target)&&c(!1)}return l&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[l]),o.jsx(d1.Provider,{value:{isOpen:l,setIsOpen:c},children:o.jsxs("div",{className:"relative",ref:d,children:[o.jsx("div",{onClick:()=>c(!l),className:"cursor-pointer",children:t}),l&&o.jsx("div",{className:Tt("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-gray-950 shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",r==="end"?"right-0":"left-0","top-full mt-1",a),children:e})]})})}function Hu({children:e,onClick:t,className:r,disabled:a=!1}){const{setIsOpen:l}=C.useContext(d1),c=()=>{!a&&t&&(t(),l(!1))};return o.jsx("div",{onClick:c,className:Tt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors",a?"pointer-events-none opacity-50":"hover:bg-gray-100 focus:bg-gray-100 cursor-pointer",r),children:e})}function sb({className:e}){return o.jsx("div",{className:Tt("-mx-1 my-1 h-px bg-gray-200",e)})}function oT({children:e,className:t}){return o.jsx("div",{className:Tt("px-2 py-1.5 text-sm font-semibold text-gray-900",t),children:e})}var lT=Object.defineProperty,cT=Object.defineProperties,uT=Object.getOwnPropertyDescriptors,ab=Object.getOwnPropertySymbols,dT=Object.prototype.hasOwnProperty,fT=Object.prototype.propertyIsEnumerable,ib=(e,t,r)=>t in e?lT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lr=(e,t)=>{for(var r in t||(t={}))dT.call(t,r)&&ib(e,r,t[r]);if(ab)for(var r of ab(t))fT.call(t,r)&&ib(e,r,t[r]);return e},Sr=(e,t)=>cT(e,uT(t)),hT=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},mT=async(e,t)=>{var r,a,l,c,d,f;let m=t||{};const p={onRequest:[t==null?void 0:t.onRequest],onResponse:[t==null?void 0:t.onResponse],onSuccess:[t==null?void 0:t.onSuccess],onError:[t==null?void 0:t.onError],onRetry:[t==null?void 0:t.onRetry]};if(!t||!(t!=null&&t.plugins))return{url:e,options:m,hooks:p};for(const x of(t==null?void 0:t.plugins)||[]){if(x.init){const g=await((r=x.init)==null?void 0:r.call(x,e.toString(),t));m=g.options||m,e=g.url}p.onRequest.push((a=x.hooks)==null?void 0:a.onRequest),p.onResponse.push((l=x.hooks)==null?void 0:l.onResponse),p.onSuccess.push((c=x.hooks)==null?void 0:c.onSuccess),p.onError.push((d=x.hooks)==null?void 0:d.onError),p.onRetry.push((f=x.hooks)==null?void 0:f.onRetry)}return{url:e,options:m,hooks:p}},ob=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},pT=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}};function gT(e){if(typeof e=="number")return new ob({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new ob(e);case"exponential":return new pT(e);default:throw new Error("Invalid retry strategy")}}var yT=async e=>{const t={},r=async a=>typeof a=="function"?await a():a;if(e!=null&&e.auth){if(e.auth.type==="Bearer"){const a=await r(e.auth.token);if(!a)return t;t.authorization=`Bearer ${a}`}else if(e.auth.type==="Basic"){const a=r(e.auth.username),l=r(e.auth.password);if(!a||!l)return t;t.authorization=`Basic ${btoa(`${a}:${l}`)}`}else if(e.auth.type==="Custom"){const a=r(e.auth.value);if(!a)return t;t.authorization=`${r(e.auth.prefix)} ${a}`}}return t},xT=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function vT(e){const t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";const a=t.split(";").shift()||"";return xT.test(a)?"json":r.has(a)||a.startsWith("text/")?"text":"blob"}function bT(e){try{return JSON.parse(e),!0}catch{return!1}}function f1(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}function lb(e){try{return JSON.parse(e)}catch{return e}}function cb(e){return typeof e=="function"}function wT(e){if(e!=null&&e.customFetchImpl)return e.customFetchImpl;if(typeof globalThis<"u"&&cb(globalThis.fetch))return globalThis.fetch;if(typeof window<"u"&&cb(window.fetch))return window.fetch;throw new Error("No fetch implementation found")}async function ST(e){const t=new Headers(e==null?void 0:e.headers),r=await yT(e);for(const[a,l]of Object.entries(r||{}))t.set(a,l);if(!t.has("content-type")){const a=NT(e==null?void 0:e.body);a&&t.set("content-type",a)}return t}function NT(e){return f1(e)?"application/json":null}function jT(e){if(!(e!=null&&e.body))return null;const t=new Headers(e==null?void 0:e.headers);if(f1(e.body)&&!t.has("content-type")){for(const[r,a]of Object.entries(e==null?void 0:e.body))a instanceof Date&&(e.body[r]=a.toISOString());return JSON.stringify(e.body)}return e.body}function kT(e,t){var r;if(t!=null&&t.method)return t.method.toUpperCase();if(e.startsWith("@")){const a=(r=e.split("@")[1])==null?void 0:r.split("/")[0];return m1.includes(a)?a.toUpperCase():t!=null&&t.body?"POST":"GET"}return t!=null&&t.body?"POST":"GET"}function _T(e,t){let r;return!(e!=null&&e.signal)&&(e!=null&&e.timeout)&&(r=setTimeout(()=>t==null?void 0:t.abort(),e==null?void 0:e.timeout)),{abortTimeout:r,clearTimeout:()=>{r&&clearTimeout(r)}}}var ET=class h1 extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,h1.prototype)}};async function ad(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new ET(r.issues);return r.value}var m1=["get","post","put","patch","delete"],AT=e=>({id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(t,r){var a,l,c,d;const f=((l=(a=e.plugins)==null?void 0:a.find(m=>{var p;return(p=m.schema)!=null&&p.config?t.startsWith(m.schema.config.baseURL||"")||t.startsWith(m.schema.config.prefix||""):!1}))==null?void 0:l.schema)||e.schema;if(f){let m=t;(c=f.config)!=null&&c.prefix&&m.startsWith(f.config.prefix)&&(m=m.replace(f.config.prefix,""),f.config.baseURL&&(t=t.replace(f.config.prefix,f.config.baseURL))),(d=f.config)!=null&&d.baseURL&&m.startsWith(f.config.baseURL)&&(m=m.replace(f.config.baseURL,""));const p=f.schema[m];if(p){let x=Sr(lr({},r),{method:p.method,output:p.output});return r!=null&&r.disableValidation||(x=Sr(lr({},x),{body:p.input?await ad(p.input,r==null?void 0:r.body):r==null?void 0:r.body,params:p.params?await ad(p.params,r==null?void 0:r.params):r==null?void 0:r.params,query:p.query?await ad(p.query,r==null?void 0:r.query):r==null?void 0:r.query})),{url:t,options:x}}}return{url:t,options:r}}}),TT=e=>{async function t(r,a){const l=Sr(lr(lr({},e),a),{plugins:[...(e==null?void 0:e.plugins)||[],AT(e||{})]});if(e!=null&&e.catchAllError)try{return await Te(r,l)}catch(c){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:c}}}return await Te(r,l)}return t};function RT(e,t){let{baseURL:r,params:a,query:l}=t||{query:{},params:{},baseURL:""},c=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){const g=e.toString().split("@")[1].split("/")[0];m1.includes(g)&&(e=e.replace(`@${g}/`,"/"))}c.endsWith("/")||(c+="/");let[d,f]=e.replace(c,"").split("?");const m=new URLSearchParams(f);for(const[g,v]of Object.entries(l||{}))v!=null&&m.set(g,String(v));if(a)if(Array.isArray(a)){const g=d.split("/").filter(v=>v.startsWith(":"));for(const[v,w]of g.entries()){const b=a[v];d=d.replace(w,b)}}else for(const[g,v]of Object.entries(a))d=d.replace(`:${g}`,String(v));d=d.split("/").map(encodeURIComponent).join("/"),d.startsWith("/")&&(d=d.slice(1));let p=m.toString();return p=p.length>0?`?${p}`.replace(/\+/g,"%20"):"",c.startsWith("http")?new URL(`${d}${p}`,c):`${c}${d}${p}`}var Te=async(e,t)=>{var r,a,l,c,d,f,m,p;const{hooks:x,url:g,options:v}=await mT(e,t),w=wT(v),b=new AbortController,N=(r=v.signal)!=null?r:b.signal,k=RT(g,v),R=jT(v),M=await ST(v),U=kT(g,v);let T=Sr(lr({},v),{url:k,headers:M,body:R,method:U,signal:N});for(const he of x.onRequest)if(he){const de=await he(T);de instanceof Object&&(T=de)}("pipeTo"in T&&typeof T.pipeTo=="function"||typeof((a=t==null?void 0:t.body)==null?void 0:a.pipe)=="function")&&("duplex"in T||(T.duplex="half"));const{clearTimeout:B}=_T(v,b);let z=await w(T.url,T);B();const J={response:z,request:T};for(const he of x.onResponse)if(he){const de=await he(Sr(lr({},J),{response:(l=t==null?void 0:t.hookOptions)!=null&&l.cloneResponse?z.clone():z}));de instanceof Response?z=de:de instanceof Object&&(z=de.response)}if(z.ok){if(!(T.method!=="HEAD"))return{data:"",error:null};const de=vT(z),me={data:"",response:z,request:T};if(de==="json"||de==="text"){const D=await z.text(),G=await((c=T.jsonParser)!=null?c:lb)(D);me.data=G}else me.data=await z[de]();T!=null&&T.output&&T.output&&!T.disableValidation&&(me.data=await ad(T.output,me.data));for(const D of x.onSuccess)D&&await D(Sr(lr({},me),{response:(d=t==null?void 0:t.hookOptions)!=null&&d.cloneResponse?z.clone():z}));return t!=null&&t.throw?me.data:{data:me.data,error:null}}const K=(f=t==null?void 0:t.jsonParser)!=null?f:lb,q=await z.text(),L=bT(q),ie=L?await K(q):null,ue={response:z,responseText:q,request:T,error:Sr(lr({},ie),{status:z.status,statusText:z.statusText})};for(const he of x.onError)he&&await he(Sr(lr({},ue),{response:(m=t==null?void 0:t.hookOptions)!=null&&m.cloneResponse?z.clone():z}));if(t!=null&&t.retry){const he=gT(t.retry),de=(p=t.retryAttempt)!=null?p:0;if(await he.shouldAttemptRetry(de,z)){for(const D of x.onRetry)D&&await D(J);const me=he.getDelay(de);return await new Promise(D=>setTimeout(D,me)),await Te(e,Sr(lr({},t),{retryAttempt:de+1}))}}if(t!=null&&t.throw)throw new hT(z.status,z.statusText,L?ie:q);return{data:null,error:Sr(lr({},ie),{status:z.status,statusText:z.statusText})}},CT={},dp={};const id=Object.create(null),Zl=e=>{var t;return CT||((t=globalThis.Deno)==null?void 0:t.env.toObject())||globalThis.__env__||(e?id:globalThis)},Wn=new Proxy(id,{get(e,t){return Zl()[t]??id[t]},has(e,t){const r=Zl();return t in r||t in id},set(e,t,r){const a=Zl(!0);return a[t]=r,!0},deleteProperty(e,t){if(!t)return!1;const r=Zl(!0);return delete r[t],!0},ownKeys(){const e=Zl(!0);return Object.keys(e)}}),ub=typeof process<"u"&&dp&&"production"||"",OT=ub==="dev"||ub==="development";function Dt(e,t){return typeof process<"u"&&dp?dp[e]??t:typeof Deno<"u"?Deno.env.get(e)??t:typeof Bun<"u"?Bun.env[e]??t:t}class $t extends Error{constructor(t,r){super(t),this.name="BetterAuthError",this.message=t,this.cause=r,this.stack=""}}function DT(e){try{return new URL(e).pathname!=="/"}catch{throw new $t(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}function Cm(e,t="/api/auth"){return DT(e)?e:(t=t.startsWith("/")?t:`/${t}`,`${e.replace(/\/+$/,"")}${t}`)}function UT(e,t,r){if(e)return Cm(e,t);const a=Wn.BETTER_AUTH_URL||Wn.NEXT_PUBLIC_BETTER_AUTH_URL||Wn.PUBLIC_BETTER_AUTH_URL||Wn.NUXT_PUBLIC_BETTER_AUTH_URL||Wn.NUXT_PUBLIC_AUTH_URL||(Wn.BASE_URL!=="/"?Wn.BASE_URL:void 0);if(a)return Cm(a,t);if(typeof window<"u"&&window.location)return Cm(window.location.origin,t)}function Nd(e){try{return new URL(e).origin}catch{return null}}function p1(e){try{return new URL(e).protocol}catch{return null}}function g1(e){try{return new URL(e).host}catch{return e}}let sr=[],Hs=0;const Gu=4;let y1=e=>{let t=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},lc:0,listen(a){return r.lc=t.push(a),()=>{for(let c=Hs+Gu;c<sr.length;)sr[c]===a?sr.splice(c,Gu):c+=Gu;let l=t.indexOf(a);~l&&(t.splice(l,1),--r.lc||r.off())}},notify(a,l){let c=!sr.length;for(let d of t)sr.push(d,r.value,a,l);if(c){for(Hs=0;Hs<sr.length;Hs+=Gu)sr[Hs](sr[Hs+1],sr[Hs+2],sr[Hs+3]);sr.length=0}},off(){},set(a){let l=r.value;l!==a&&(r.value=a,r.notify(l))},subscribe(a){let l=r.listen(a);return a(r.value),l},value:e};return r};const IT=5,Ku=6,Zu=10;let MT=(e,t,r,a)=>(e.events=e.events||{},e.events[r+Zu]||(e.events[r+Zu]=a(l=>{e.events[r].reduceRight((c,d)=>(d(c),c),{shared:{},...l})})),e.events[r]=e.events[r]||[],e.events[r].push(t),()=>{let l=e.events[r],c=l.indexOf(t);l.splice(c,1),l.length||(delete e.events[r],e.events[r+Zu](),delete e.events[r+Zu])}),zT=1e3,LT=(e,t)=>MT(e,a=>{let l=t(a);l&&e.events[Ku].push(l)},IT,a=>{let l=e.listen;e.listen=(...d)=>(!e.lc&&!e.active&&(e.active=!0,a()),l(...d));let c=e.off;return e.events[Ku]=[],e.off=()=>{c(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let d of e.events[Ku])d();e.events[Ku]=[]}},zT)},()=>{e.listen=l,e.off=c}});function PT(e,t,r){let a=new Set(t).add(void 0);return e.listen((l,c,d)=>{a.has(d)&&r(l,c,d)})}const $T=typeof window>"u",BT=(e,t,r,a)=>{const l=y1({data:null,error:null,isPending:!0,isRefetching:!1,refetch:f=>c(f)}),c=f=>{const m=typeof a=="function"?a({data:l.get().data,error:l.get().error,isPending:l.get().isPending}):a;r(t,{...m,query:{...m==null?void 0:m.query,...f==null?void 0:f.query},async onSuccess(p){var x;l.set({data:p.data,error:null,isPending:!1,isRefetching:!1,refetch:l.value.refetch}),await((x=m==null?void 0:m.onSuccess)==null?void 0:x.call(m,p))},async onError(p){var w,b;const{request:x}=p,g=typeof x.retry=="number"?x.retry:(w=x.retry)==null?void 0:w.attempts,v=x.retryAttempt||0;g&&v<g||(l.set({error:p.error,data:null,isPending:!1,isRefetching:!1,refetch:l.value.refetch}),await((b=m==null?void 0:m.onError)==null?void 0:b.call(m,p)))},async onRequest(p){var g;const x=l.get();l.set({isPending:x.data===null,data:x.data,error:null,isRefetching:!0,refetch:l.value.refetch}),await((g=m==null?void 0:m.onRequest)==null?void 0:g.call(m,p))}}).catch(p=>{l.set({error:p,data:null,isPending:!1,isRefetching:!1,refetch:l.value.refetch})})};e=Array.isArray(e)?e:[e];let d=!1;for(const f of e)f.subscribe(()=>{$T||(d?c():LT(l,()=>{const m=setTimeout(()=>{d||(c(),d=!0)},0);return()=>{l.off(),f.off(),clearTimeout(m)}}))});return l},qT={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},VT=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,db={true:!0,false:!1,null:null,undefined:void 0,nan:Number.NaN,infinity:Number.POSITIVE_INFINITY,"-infinity":Number.NEGATIVE_INFINITY},HT=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/;function GT(e){return e instanceof Date&&!isNaN(e.getTime())}function KT(e){const t=HT.exec(e);if(!t)return null;const[,r,a,l,c,d,f,m,p,x,g]=t;let v=new Date(Date.UTC(parseInt(r,10),parseInt(a,10)-1,parseInt(l,10),parseInt(c,10),parseInt(d,10),parseInt(f,10),m?parseInt(m.padEnd(3,"0"),10):0));if(p){const w=(parseInt(x,10)*60+parseInt(g,10))*(p==="+"?-1:1);v.setUTCMinutes(v.getUTCMinutes()+w)}return GT(v)?v:null}function ZT(e,t={}){const{strict:r=!1,warnings:a=!1,reviver:l,parseDates:c=!0}=t;if(typeof e!="string")return e;const d=e.trim();if(d[0]==='"'&&d.endsWith('"')&&!d.slice(1,-1).includes('"'))return d.slice(1,-1);const f=d.toLowerCase();if(f.length<=9&&f in db)return db[f];if(!VT.test(d)){if(r)throw new SyntaxError("[better-json] Invalid JSON");return e}if(Object.entries(qT).some(([p,x])=>{const g=x.test(d);return g&&a&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${p} pattern`),g})&&r)throw new Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(d,(x,g)=>{if(x==="__proto__"||x==="constructor"&&g&&typeof g=="object"&&"prototype"in g){a&&console.warn(`[better-json] Dropping "${x}" key to prevent prototype pollution`);return}if(c&&typeof g=="string"){const v=KT(g);if(v)return v}return l?l(x,g):g})}catch(p){if(r)throw p;return e}}function FT(e,t={strict:!0}){return ZT(e,t)}const QT={id:"redirect",name:"Redirect",hooks:{onSuccess(e){var t,r;if((t=e.data)!=null&&t.url&&((r=e.data)!=null&&r.redirect)&&typeof window<"u"&&window.location&&window.location)try{window.location.href=e.data.url}catch{}}}};function YT(e){const t=y1(!1);return{session:BT(t,"/get-session",e,{method:"GET"}),$sessionSignal:t}}const JT=e=>{var U,T,B,z,J,K,q;const t="credentials"in Request.prototype,r=UT(e==null?void 0:e.baseURL,e==null?void 0:e.basePath),a=((U=e==null?void 0:e.plugins)==null?void 0:U.flatMap(L=>L.fetchPlugins).filter(L=>L!==void 0))||[],l={id:"lifecycle-hooks",name:"lifecycle-hooks",hooks:{onSuccess:(T=e==null?void 0:e.fetchOptions)==null?void 0:T.onSuccess,onError:(B=e==null?void 0:e.fetchOptions)==null?void 0:B.onError,onRequest:(z=e==null?void 0:e.fetchOptions)==null?void 0:z.onRequest,onResponse:(J=e==null?void 0:e.fetchOptions)==null?void 0:J.onResponse}},{onSuccess:c,onError:d,onRequest:f,onResponse:m,...p}=(e==null?void 0:e.fetchOptions)||{},x=TT({baseURL:r,...t?{credentials:"include"}:{},method:"GET",jsonParser(L){return L?FT(L,{strict:!1}):null},customFetchImpl:fetch,...p,plugins:[l,...p.plugins||[],...e!=null&&e.disableDefaultFetchPlugins?[]:[QT],...a]}),{$sessionSignal:g,session:v}=YT(x),w=(e==null?void 0:e.plugins)||[];let b={},N={$sessionSignal:g,session:v},k={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"};const R=[{signal:"$sessionSignal",matcher(L){return L==="/sign-out"||L==="/update-user"||L.startsWith("/sign-in")||L.startsWith("/sign-up")||L==="/delete-user"||L==="/verify-email"}}];for(const L of w)L.getAtoms&&Object.assign(N,(K=L.getAtoms)==null?void 0:K.call(L,x)),L.pathMethods&&Object.assign(k,L.pathMethods),L.atomListeners&&R.push(...L.atomListeners);const M={notify:L=>{N[L].set(!N[L].get())},listen:(L,ie)=>{N[L].subscribe(ie)},atoms:N};for(const L of w)L.getActions&&Object.assign(b,(q=L.getActions)==null?void 0:q.call(L,x,M,e));return{get baseURL(){return r},pluginsActions:b,pluginsAtoms:N,pluginPathMethods:k,atomListeners:R,$fetch:x,$store:M}};function XT(e){return typeof e=="object"&&e!==null&&"get"in e&&typeof e.get=="function"&&"lc"in e&&typeof e.lc=="number"}function WT(e,t,r){const a=t[e],{fetchOptions:l,query:c,...d}=r||{};return a||(l!=null&&l.method?l.method:d&&Object.keys(d).length>0?"POST":"GET")}function eR(e,t,r,a,l){function c(d=[]){return new Proxy(function(){},{get(f,m){if(m==="then"||m==="catch"||m==="finally")return;const p=[...d,m];let x=e;for(const g of p)if(x&&typeof x=="object"&&g in x)x=x[g];else{x=void 0;break}return typeof x=="function"||XT(x)?x:c(p)},apply:async(f,m,p)=>{const x="/"+d.map(M=>M.replace(/[A-Z]/g,U=>`-${U.toLowerCase()}`)).join("/"),g=p[0]||{},v=p[1]||{},{query:w,fetchOptions:b,...N}=g,k={...v,...b},R=WT(x,r,g);return await t(x,{...k,body:R==="GET"?void 0:{...N,...(k==null?void 0:k.body)||{}},query:w||(k==null?void 0:k.query),method:R,async onSuccess(M){var z;await((z=k==null?void 0:k.onSuccess)==null?void 0:z.call(k,M));const U=l==null?void 0:l.find(J=>J.matcher(x));if(!U)return;const T=a[U.signal];if(!T)return;const B=T.get();setTimeout(()=>{T.set(!B)},10)}})}})}return c()}function tR(e,t={}){let r=C.useRef(e.get());const{keys:a,deps:l=[e,a]}=t;let c=C.useCallback(f=>{const m=p=>{r.current!==p&&(r.current=p,f())};return m(e.value),a!=null&&a.length?PT(e,a,m):e.listen(m)},l),d=()=>r.current;return C.useSyncExternalStore(c,d,d)}function nR(e){return`use${rR(e)}`}function rR(e){return e.charAt(0).toUpperCase()+e.slice(1)}function sR(e){const{pluginPathMethods:t,pluginsActions:r,pluginsAtoms:a,$fetch:l,$store:c,atomListeners:d}=JT(e);let f={};for(const[x,g]of Object.entries(a))f[nR(x)]=()=>tR(g);const m={...r,...f,$fetch:l,$store:c};return eR(m,l,t,a,d)}function aR(e){return{authorize(t,r="AND"){let a=!1;for(const[l,c]of Object.entries(t)){const d=e[l];if(!d)return{success:!1,error:`You are not allowed to access resource: ${l}`};if(Array.isArray(c))a=c.every(f=>d.includes(f));else if(typeof c=="object"){const f=c;f.connector==="OR"?a=f.actions.some(m=>d.includes(m)):a=f.actions.every(m=>d.includes(m))}else throw new $t("Invalid access control request");if(a&&r==="OR")return{success:a};if(!a&&r==="AND")return{success:!1,error:`unauthorized to access resource "${l}"`}}return a?{success:a}:{success:!1,error:"Not authorized"}},statements:e}}function iR(e){return{newRole(t){return aR(t)},statements:e}}function X(e,t,r){function a(f,m){var p;Object.defineProperty(f,"_zod",{value:f._zod??{},enumerable:!1}),(p=f._zod).traits??(p.traits=new Set),f._zod.traits.add(e),t(f,m);for(const x in d.prototype)x in f||Object.defineProperty(f,x,{value:d.prototype[x].bind(f)});f._zod.constr=d,f._zod.def=m}const l=(r==null?void 0:r.Parent)??Object;class c extends l{}Object.defineProperty(c,"name",{value:e});function d(f){var m;const p=r!=null&&r.Parent?new c:this;a(p,f),(m=p._zod).deferred??(m.deferred=[]);for(const x of p._zod.deferred)x();return p}return Object.defineProperty(d,"init",{value:a}),Object.defineProperty(d,Symbol.hasInstance,{value:f=>{var m,p;return r!=null&&r.Parent&&f instanceof r.Parent?!0:(p=(m=f==null?void 0:f._zod)==null?void 0:m.traits)==null?void 0:p.has(e)}}),Object.defineProperty(d,"name",{value:e}),d}class oo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class x1 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const v1={};function oi(e){return v1}function oR(e){const t=Object.values(e).filter(a=>typeof a=="number");return Object.entries(e).filter(([a,l])=>t.indexOf(+a)===-1).map(([a,l])=>l)}function fp(e,t){return typeof t=="bigint"?t.toString():t}function Zp(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Fp(e){return e==null}function Qp(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function lR(e,t){const r=(e.toString().split(".")[1]||"").length,a=t.toString();let l=(a.split(".")[1]||"").length;if(l===0&&/\d?e-\d?/.test(a)){const m=a.match(/\d?e-(\d?)/);m!=null&&m[1]&&(l=Number.parseInt(m[1]))}const c=r>l?r:l,d=Number.parseInt(e.toFixed(c).replace(".","")),f=Number.parseInt(t.toFixed(c).replace(".",""));return d%f/10**c}const fb=Symbol("evaluating");function ut(e,t,r){let a;Object.defineProperty(e,t,{get(){if(a!==fb)return a===void 0&&(a=fb,a=r()),a},set(l){Object.defineProperty(e,t,{value:l})},configurable:!0})}function cR(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function ga(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Bo(...e){const t={};for(const r of e){const a=Object.getOwnPropertyDescriptors(r);Object.assign(t,a)}return Object.defineProperties({},t)}function hb(e){return JSON.stringify(e)}const b1="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function jd(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const uR=Zp(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ac(e){if(jd(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(jd(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function w1(e){return ac(e)?{...e}:Array.isArray(e)?[...e]:e}const dR=new Set(["string","number","symbol"]);function Bd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ya(e,t,r){const a=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(a._zod.parent=e),a}function Se(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function fR(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const hR={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function mR(e,t){const r=e._zod.def,a=Bo(e._zod.def,{get shape(){const l={};for(const c in t){if(!(c in r.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(l[c]=r.shape[c])}return ga(this,"shape",l),l},checks:[]});return ya(e,a)}function pR(e,t){const r=e._zod.def,a=Bo(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const c in t){if(!(c in r.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete l[c]}return ga(this,"shape",l),l},checks:[]});return ya(e,a)}function gR(e,t){if(!ac(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const l=Bo(e._zod.def,{get shape(){const c={...e._zod.def.shape,...t};return ga(this,"shape",c),c},checks:[]});return ya(e,l)}function yR(e,t){if(!ac(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const a={...e._zod.def.shape,...t};return ga(this,"shape",a),a},checks:e._zod.def.checks};return ya(e,r)}function xR(e,t){const r=Bo(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t._zod.def.shape};return ga(this,"shape",a),a},get catchall(){return t._zod.def.catchall},checks:[]});return ya(e,r)}function vR(e,t,r){const a=Bo(t._zod.def,{get shape(){const l=t._zod.def.shape,c={...l};if(r)for(const d in r){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(c[d]=e?new e({type:"optional",innerType:l[d]}):l[d])}else for(const d in l)c[d]=e?new e({type:"optional",innerType:l[d]}):l[d];return ga(this,"shape",c),c},checks:[]});return ya(t,a)}function bR(e,t,r){const a=Bo(t._zod.def,{get shape(){const l=t._zod.def.shape,c={...l};if(r)for(const d in r){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(c[d]=new e({type:"nonoptional",innerType:l[d]}))}else for(const d in l)c[d]=new e({type:"nonoptional",innerType:l[d]});return ga(this,"shape",c),c},checks:[]});return ya(t,a)}function no(e,t=0){var r;if(e.aborted===!0)return!0;for(let a=t;a<e.issues.length;a++)if(((r=e.issues[a])==null?void 0:r.continue)!==!0)return!0;return!1}function S1(e,t){return t.map(r=>{var a;return(a=r).path??(a.path=[]),r.path.unshift(e),r})}function Fu(e){return typeof e=="string"?e:e==null?void 0:e.message}function li(e,t,r){var l,c,d,f,m,p;const a={...e,path:e.path??[]};if(!e.message){const x=Fu((d=(c=(l=e.inst)==null?void 0:l._zod.def)==null?void 0:c.error)==null?void 0:d.call(c,e))??Fu((f=t==null?void 0:t.error)==null?void 0:f.call(t,e))??Fu((m=r.customError)==null?void 0:m.call(r,e))??Fu((p=r.localeError)==null?void 0:p.call(r,e))??"Invalid input";a.message=x}return delete a.inst,delete a.continue,t!=null&&t.reportInput||delete a.input,a}function Yp(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ic(...e){const[t,r,a]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:a}:{...t}}const N1=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,fp,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},j1=X("$ZodError",N1),k1=X("$ZodError",N1,{Parent:Error});function wR(e,t=r=>r.message){const r={},a=[];for(const l of e.issues)l.path.length>0?(r[l.path[0]]=r[l.path[0]]||[],r[l.path[0]].push(t(l))):a.push(t(l));return{formErrors:a,fieldErrors:r}}function SR(e,t){const r=t||function(c){return c.message},a={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(f=>l({issues:f}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)a._errors.push(r(d));else{let f=a,m=0;for(;m<d.path.length;){const p=d.path[m];m===d.path.length-1?(f[p]=f[p]||{_errors:[]},f[p]._errors.push(r(d))):f[p]=f[p]||{_errors:[]},f=f[p],m++}}};return l(e),a}const Jp=e=>(t,r,a,l)=>{const c=a?Object.assign(a,{async:!1}):{async:!1},d=t._zod.run({value:r,issues:[]},c);if(d instanceof Promise)throw new oo;if(d.issues.length){const f=new((l==null?void 0:l.Err)??e)(d.issues.map(m=>li(m,c,oi())));throw b1(f,l==null?void 0:l.callee),f}return d.value},Xp=e=>async(t,r,a,l)=>{const c=a?Object.assign(a,{async:!0}):{async:!0};let d=t._zod.run({value:r,issues:[]},c);if(d instanceof Promise&&(d=await d),d.issues.length){const f=new((l==null?void 0:l.Err)??e)(d.issues.map(m=>li(m,c,oi())));throw b1(f,l==null?void 0:l.callee),f}return d.value},qd=e=>(t,r,a)=>{const l=a?{...a,async:!1}:{async:!1},c=t._zod.run({value:r,issues:[]},l);if(c instanceof Promise)throw new oo;return c.issues.length?{success:!1,error:new(e??j1)(c.issues.map(d=>li(d,l,oi())))}:{success:!0,data:c.value}},NR=qd(k1),Vd=e=>async(t,r,a)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let c=t._zod.run({value:r,issues:[]},l);return c instanceof Promise&&(c=await c),c.issues.length?{success:!1,error:new e(c.issues.map(d=>li(d,l,oi())))}:{success:!0,data:c.value}},jR=Vd(k1),kR=e=>(t,r,a)=>{const l=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Jp(e)(t,r,l)},_R=e=>(t,r,a)=>Jp(e)(t,r,a),ER=e=>async(t,r,a)=>{const l=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Xp(e)(t,r,l)},AR=e=>async(t,r,a)=>Xp(e)(t,r,a),TR=e=>(t,r,a)=>{const l=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return qd(e)(t,r,l)},RR=e=>(t,r,a)=>qd(e)(t,r,a),CR=e=>async(t,r,a)=>{const l=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Vd(e)(t,r,l)},OR=e=>async(t,r,a)=>Vd(e)(t,r,a),DR=/^[cC][^\s-]{8,}$/,UR=/^[0-9a-z]+$/,IR=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,MR=/^[0-9a-vA-V]{20}$/,zR=/^[A-Za-z0-9]{27}$/,LR=/^[a-zA-Z0-9_-]{21}$/,PR=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,$R=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,mb=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,BR=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,qR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function VR(){return new RegExp(qR,"u")}const HR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,KR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ZR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FR=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_1=/^[A-Za-z0-9_-]*$/,QR=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,YR=/^\+(?:[0-9]){6,14}[0-9]$/,E1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",JR=new RegExp(`^${E1}$`);function A1(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function XR(e){return new RegExp(`^${A1(e)}$`)}function WR(e){const t=A1({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${t}(?:${r.join("|")})`;return new RegExp(`^${E1}T(?:${a})$`)}const eC=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},tC=/^-?\d+$/,nC=/^-?\d+(?:\.\d+)?/,rC=/^(?:true|false)$/i,sC=/^[^A-Z]*$/,aC=/^[^a-z]*$/,Nn=X("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),T1={number:"number",bigint:"bigint",object:"date"},R1=X("$ZodCheckLessThan",(e,t)=>{Nn.init(e,t);const r=T1[typeof t.value];e._zod.onattach.push(a=>{const l=a._zod.bag,c=(t.inclusive?l.maximum:l.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<c&&(t.inclusive?l.maximum=t.value:l.exclusiveMaximum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:r,code:"too_big",maximum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),C1=X("$ZodCheckGreaterThan",(e,t)=>{Nn.init(e,t);const r=T1[typeof t.value];e._zod.onattach.push(a=>{const l=a._zod.bag,c=(t.inclusive?l.minimum:l.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>c&&(t.inclusive?l.minimum=t.value:l.exclusiveMinimum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:r,code:"too_small",minimum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),iC=X("$ZodCheckMultipleOf",(e,t)=>{Nn.init(e,t),e._zod.onattach.push(r=>{var a;(a=r._zod.bag).multipleOf??(a.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):lR(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),oC=X("$ZodCheckNumberFormat",(e,t)=>{var d;Nn.init(e,t),t.format=t.format||"float64";const r=(d=t.format)==null?void 0:d.includes("int"),a=r?"int":"number",[l,c]=hR[t.format];e._zod.onattach.push(f=>{const m=f._zod.bag;m.format=t.format,m.minimum=l,m.maximum=c,r&&(m.pattern=tC)}),e._zod.check=f=>{const m=f.value;if(r){if(!Number.isInteger(m)){f.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:m,inst:e});return}if(!Number.isSafeInteger(m)){m>0?f.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):f.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort});return}}m<l&&f.issues.push({origin:"number",input:m,code:"too_small",minimum:l,inclusive:!0,inst:e,continue:!t.abort}),m>c&&f.issues.push({origin:"number",input:m,code:"too_big",maximum:c,inst:e})}}),lC=X("$ZodCheckMaxLength",(e,t)=>{var r;Nn.init(e,t),(r=e._zod.def).when??(r.when=a=>{const l=a.value;return!Fp(l)&&l.length!==void 0}),e._zod.onattach.push(a=>{const l=a._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<l&&(a._zod.bag.maximum=t.maximum)}),e._zod.check=a=>{const l=a.value;if(l.length<=t.maximum)return;const d=Yp(l);a.issues.push({origin:d,code:"too_big",maximum:t.maximum,inclusive:!0,input:l,inst:e,continue:!t.abort})}}),cC=X("$ZodCheckMinLength",(e,t)=>{var r;Nn.init(e,t),(r=e._zod.def).when??(r.when=a=>{const l=a.value;return!Fp(l)&&l.length!==void 0}),e._zod.onattach.push(a=>{const l=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>l&&(a._zod.bag.minimum=t.minimum)}),e._zod.check=a=>{const l=a.value;if(l.length>=t.minimum)return;const d=Yp(l);a.issues.push({origin:d,code:"too_small",minimum:t.minimum,inclusive:!0,input:l,inst:e,continue:!t.abort})}}),uC=X("$ZodCheckLengthEquals",(e,t)=>{var r;Nn.init(e,t),(r=e._zod.def).when??(r.when=a=>{const l=a.value;return!Fp(l)&&l.length!==void 0}),e._zod.onattach.push(a=>{const l=a._zod.bag;l.minimum=t.length,l.maximum=t.length,l.length=t.length}),e._zod.check=a=>{const l=a.value,c=l.length;if(c===t.length)return;const d=Yp(l),f=c>t.length;a.issues.push({origin:d,...f?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:a.value,inst:e,continue:!t.abort})}}),Hd=X("$ZodCheckStringFormat",(e,t)=>{var r,a;Nn.init(e,t),e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,t.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=l=>{t.pattern.lastIndex=0,!t.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:t.format,input:l.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(a=e._zod).check??(a.check=()=>{})}),dC=X("$ZodCheckRegex",(e,t)=>{Hd.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),fC=X("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=sC),Hd.init(e,t)}),hC=X("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=aC),Hd.init(e,t)}),mC=X("$ZodCheckIncludes",(e,t)=>{Nn.init(e,t);const r=Bd(t.includes),a=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=a,e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=l=>{l.value.includes(t.includes,t.position)||l.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:l.value,inst:e,continue:!t.abort})}}),pC=X("$ZodCheckStartsWith",(e,t)=>{Nn.init(e,t);const r=new RegExp(`^${Bd(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(a=>{const l=a._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=a=>{a.value.startsWith(t.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:a.value,inst:e,continue:!t.abort})}}),gC=X("$ZodCheckEndsWith",(e,t)=>{Nn.init(e,t);const r=new RegExp(`.*${Bd(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(a=>{const l=a._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=a=>{a.value.endsWith(t.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:a.value,inst:e,continue:!t.abort})}}),yC=X("$ZodCheckOverwrite",(e,t)=>{Nn.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class xC{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const a=t.split(`
`).filter(d=>d),l=Math.min(...a.map(d=>d.length-d.trimStart().length)),c=a.map(d=>d.slice(l)).map(d=>" ".repeat(this.indent*2)+d);for(const d of c)this.content.push(d)}compile(){const t=Function,r=this==null?void 0:this.args,l=[...((this==null?void 0:this.content)??[""]).map(c=>`  ${c}`)];return new t(...r,l.join(`
`))}}const vC={major:4,minor:1,patch:8},_t=X("$ZodType",(e,t)=>{var l;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=vC;const a=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&a.unshift(e);for(const c of a)for(const d of c._zod.onattach)d(e);if(a.length===0)(r=e._zod).deferred??(r.deferred=[]),(l=e._zod.deferred)==null||l.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,m,p)=>{let x=no(f),g;for(const v of m){if(v._zod.def.when){if(!v._zod.def.when(f))continue}else if(x)continue;const w=f.issues.length,b=v._zod.check(f);if(b instanceof Promise&&(p==null?void 0:p.async)===!1)throw new oo;if(g||b instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await b,f.issues.length!==w&&(x||(x=no(f,w)))});else{if(f.issues.length===w)continue;x||(x=no(f,w))}}return g?g.then(()=>f):f},d=(f,m,p)=>{if(no(f))return f.aborted=!0,f;const x=c(m,a,p);if(x instanceof Promise){if(p.async===!1)throw new oo;return x.then(g=>e._zod.parse(g,p))}return e._zod.parse(x,p)};e._zod.run=(f,m)=>{if(m.skipChecks)return e._zod.parse(f,m);if(m.direction==="backward"){const x=e._zod.parse({value:f.value,issues:[]},{...m,skipChecks:!0});return x instanceof Promise?x.then(g=>d(g,f,m)):d(x,f,m)}const p=e._zod.parse(f,m);if(p instanceof Promise){if(m.async===!1)throw new oo;return p.then(x=>c(x,a,m))}return c(p,a,m)}}e["~standard"]={validate:c=>{var d;try{const f=NR(e,c);return f.success?{value:f.data}:{issues:(d=f.error)==null?void 0:d.issues}}catch{return jR(e,c).then(m=>{var p;return m.success?{value:m.data}:{issues:(p=m.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}}),Wp=X("$ZodString",(e,t)=>{var r;_t.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??eC(e._zod.bag),e._zod.parse=(a,l)=>{if(t.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:e}),a}}),gt=X("$ZodStringFormat",(e,t)=>{Hd.init(e,t),Wp.init(e,t)}),bC=X("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=$R),gt.init(e,t)}),wC=X("$ZodUUID",(e,t)=>{if(t.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(a===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=mb(a))}else t.pattern??(t.pattern=mb());gt.init(e,t)}),SC=X("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=BR),gt.init(e,t)}),NC=X("$ZodURL",(e,t)=>{gt.init(e,t),e._zod.check=r=>{try{const a=r.value.trim(),l=new URL(a);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(l.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:QR.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(l.protocol.endsWith(":")?l.protocol.slice(0,-1):l.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=l.href:r.value=a;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),jC=X("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=VR()),gt.init(e,t)}),kC=X("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=LR),gt.init(e,t)}),_C=X("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=DR),gt.init(e,t)}),EC=X("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=UR),gt.init(e,t)}),AC=X("$ZodULID",(e,t)=>{t.pattern??(t.pattern=IR),gt.init(e,t)}),TC=X("$ZodXID",(e,t)=>{t.pattern??(t.pattern=MR),gt.init(e,t)}),RC=X("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=zR),gt.init(e,t)}),CC=X("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=WR(t)),gt.init(e,t)}),OC=X("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=JR),gt.init(e,t)}),DC=X("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=XR(t)),gt.init(e,t)}),UC=X("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=PR),gt.init(e,t)}),IC=X("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=HR),gt.init(e,t),e._zod.onattach.push(r=>{const a=r._zod.bag;a.format="ipv4"})}),MC=X("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=GR),gt.init(e,t),e._zod.onattach.push(r=>{const a=r._zod.bag;a.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),zC=X("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=KR),gt.init(e,t)}),LC=X("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=ZR),gt.init(e,t),e._zod.check=r=>{const a=r.value.split("/");try{if(a.length!==2)throw new Error;const[l,c]=a;if(!c)throw new Error;const d=Number(c);if(`${d}`!==c)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${l}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function O1(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const PC=X("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=FR),gt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{O1(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function $C(e){if(!_1.test(e))return!1;const t=e.replace(/[-_]/g,a=>a==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return O1(r)}const BC=X("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=_1),gt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{$C(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),qC=X("$ZodE164",(e,t)=>{t.pattern??(t.pattern=YR),gt.init(e,t)});function VC(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[a]=r;if(!a)return!1;const l=JSON.parse(atob(a));return!("typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||t&&(!("alg"in l)||l.alg!==t))}catch{return!1}}const HC=X("$ZodJWT",(e,t)=>{gt.init(e,t),e._zod.check=r=>{VC(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),D1=X("$ZodNumber",(e,t)=>{_t.init(e,t),e._zod.pattern=e._zod.bag.pattern??nC,e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const l=r.value;if(typeof l=="number"&&!Number.isNaN(l)&&Number.isFinite(l))return r;const c=typeof l=="number"?Number.isNaN(l)?"NaN":Number.isFinite(l)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:l,inst:e,...c?{received:c}:{}}),r}}),GC=X("$ZodNumber",(e,t)=>{oC.init(e,t),D1.init(e,t)}),KC=X("$ZodBoolean",(e,t)=>{_t.init(e,t),e._zod.pattern=rC,e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=!!r.value}catch{}const l=r.value;return typeof l=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:l,inst:e}),r}}),ZC=X("$ZodUnknown",(e,t)=>{_t.init(e,t),e._zod.parse=r=>r}),FC=X("$ZodNever",(e,t)=>{_t.init(e,t),e._zod.parse=(r,a)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),QC=X("$ZodDate",(e,t)=>{_t.init(e,t),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}const l=r.value,c=l instanceof Date;return c&&!Number.isNaN(l.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:l,...c?{received:"Invalid Date"}:{},inst:e}),r}});function pb(e,t,r){e.issues.length&&t.issues.push(...S1(r,e.issues)),t.value[r]=e.value}const YC=X("$ZodArray",(e,t)=>{_t.init(e,t),e._zod.parse=(r,a)=>{const l=r.value;if(!Array.isArray(l))return r.issues.push({expected:"array",code:"invalid_type",input:l,inst:e}),r;r.value=Array(l.length);const c=[];for(let d=0;d<l.length;d++){const f=l[d],m=t.element._zod.run({value:f,issues:[]},a);m instanceof Promise?c.push(m.then(p=>pb(p,r,d))):pb(m,r,d)}return c.length?Promise.all(c).then(()=>r):r}});function kd(e,t,r,a){e.issues.length&&t.issues.push(...S1(r,e.issues)),e.value===void 0?r in a&&(t.value[r]=void 0):t.value[r]=e.value}function U1(e){var a,l,c,d;const t=Object.keys(e.shape);for(const f of t)if(!((d=(c=(l=(a=e.shape)==null?void 0:a[f])==null?void 0:l._zod)==null?void 0:c.traits)!=null&&d.has("$ZodType")))throw new Error(`Invalid element at key "${f}": expected a Zod schema`);const r=fR(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function I1(e,t,r,a,l,c){const d=[],f=l.keySet,m=l.catchall._zod,p=m.def.type;for(const x of Object.keys(t)){if(f.has(x))continue;if(p==="never"){d.push(x);continue}const g=m.run({value:t[x],issues:[]},a);g instanceof Promise?e.push(g.then(v=>kd(v,r,x,t))):kd(g,r,x,t)}return d.length&&r.issues.push({code:"unrecognized_keys",keys:d,input:t,inst:c}),e.length?Promise.all(e).then(()=>r):r}const JC=X("$ZodObject",(e,t)=>{_t.init(e,t);const r=Zp(()=>U1(t));ut(e._zod,"propValues",()=>{const d=t.shape,f={};for(const m in d){const p=d[m]._zod;if(p.values){f[m]??(f[m]=new Set);for(const x of p.values)f[m].add(x)}}return f});const a=jd,l=t.catchall;let c;e._zod.parse=(d,f)=>{c??(c=r.value);const m=d.value;if(!a(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d;d.value={};const p=[],x=c.shape;for(const g of c.keys){const w=x[g]._zod.run({value:m[g],issues:[]},f);w instanceof Promise?p.push(w.then(b=>kd(b,d,g,m))):kd(w,d,g,m)}return l?I1(p,m,d,f,r.value,e):p.length?Promise.all(p).then(()=>d):d}}),XC=X("$ZodObjectJIT",(e,t)=>{JC.init(e,t);const r=e._zod.parse,a=Zp(()=>U1(t)),l=v=>{const w=new xC(["shape","payload","ctx"]),b=a.value,N=U=>{const T=hb(U);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};w.write("const input = payload.value;");const k=Object.create(null);let R=0;for(const U of b.keys)k[U]=`key_${R++}`;w.write("const newResult = {};");for(const U of b.keys){const T=k[U],B=hb(U);w.write(`const ${T} = ${N(U)};`),w.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        
        if (${T}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${T}.value;
        }
        
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const M=w.compile();return(U,T)=>M(v,U,T)};let c;const d=jd,f=!v1.jitless,p=f&&uR.value,x=t.catchall;let g;e._zod.parse=(v,w)=>{g??(g=a.value);const b=v.value;return d(b)?f&&p&&(w==null?void 0:w.async)===!1&&w.jitless!==!0?(c||(c=l(t.shape)),v=c(v,w),x?I1([],b,v,w,g,e):v):r(v,w):(v.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),v)}});function gb(e,t,r,a){for(const c of e)if(c.issues.length===0)return t.value=c.value,t;const l=e.filter(c=>!no(c));return l.length===1?(t.value=l[0].value,l[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(c=>c.issues.map(d=>li(d,a,oi())))}),t)}const WC=X("$ZodUnion",(e,t)=>{_t.init(e,t),ut(e._zod,"optin",()=>t.options.some(l=>l._zod.optin==="optional")?"optional":void 0),ut(e._zod,"optout",()=>t.options.some(l=>l._zod.optout==="optional")?"optional":void 0),ut(e._zod,"values",()=>{if(t.options.every(l=>l._zod.values))return new Set(t.options.flatMap(l=>Array.from(l._zod.values)))}),ut(e._zod,"pattern",()=>{if(t.options.every(l=>l._zod.pattern)){const l=t.options.map(c=>c._zod.pattern);return new RegExp(`^(${l.map(c=>Qp(c.source)).join("|")})$`)}});const r=t.options.length===1,a=t.options[0]._zod.run;e._zod.parse=(l,c)=>{if(r)return a(l,c);let d=!1;const f=[];for(const m of t.options){const p=m._zod.run({value:l.value,issues:[]},c);if(p instanceof Promise)f.push(p),d=!0;else{if(p.issues.length===0)return p;f.push(p)}}return d?Promise.all(f).then(m=>gb(m,l,e,c)):gb(f,l,e,c)}}),e4=X("$ZodIntersection",(e,t)=>{_t.init(e,t),e._zod.parse=(r,a)=>{const l=r.value,c=t.left._zod.run({value:l,issues:[]},a),d=t.right._zod.run({value:l,issues:[]},a);return c instanceof Promise||d instanceof Promise?Promise.all([c,d]).then(([m,p])=>yb(r,m,p)):yb(r,c,d)}});function hp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ac(e)&&ac(t)){const r=Object.keys(t),a=Object.keys(e).filter(c=>r.indexOf(c)!==-1),l={...e,...t};for(const c of a){const d=hp(e[c],t[c]);if(!d.valid)return{valid:!1,mergeErrorPath:[c,...d.mergeErrorPath]};l[c]=d.data}return{valid:!0,data:l}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let a=0;a<e.length;a++){const l=e[a],c=t[a],d=hp(l,c);if(!d.valid)return{valid:!1,mergeErrorPath:[a,...d.mergeErrorPath]};r.push(d.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function yb(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),no(e))return e;const a=hp(t.value,r.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const t4=X("$ZodEnum",(e,t)=>{_t.init(e,t);const r=oR(t.entries),a=new Set(r);e._zod.values=a,e._zod.pattern=new RegExp(`^(${r.filter(l=>dR.has(typeof l)).map(l=>typeof l=="string"?Bd(l):l.toString()).join("|")})$`),e._zod.parse=(l,c)=>{const d=l.value;return a.has(d)||l.issues.push({code:"invalid_value",values:r,input:d,inst:e}),l}}),n4=X("$ZodTransform",(e,t)=>{_t.init(e,t),e._zod.parse=(r,a)=>{if(a.direction==="backward")throw new x1(e.constructor.name);const l=t.transform(r.value,r);if(a.async)return(l instanceof Promise?l:Promise.resolve(l)).then(d=>(r.value=d,r));if(l instanceof Promise)throw new oo;return r.value=l,r}});function xb(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const r4=X("$ZodOptional",(e,t)=>{_t.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ut(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ut(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Qp(r.source)})?$`):void 0}),e._zod.parse=(r,a)=>{if(t.innerType._zod.optin==="optional"){const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(c=>xb(c,r.value)):xb(l,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,a)}}),s4=X("$ZodNullable",(e,t)=>{_t.init(e,t),ut(e._zod,"optin",()=>t.innerType._zod.optin),ut(e._zod,"optout",()=>t.innerType._zod.optout),ut(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Qp(r.source)}|null)$`):void 0}),ut(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,a)=>r.value===null?r:t.innerType._zod.run(r,a)}),a4=X("$ZodDefault",(e,t)=>{_t.init(e,t),e._zod.optin="optional",ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);if(r.value===void 0)return r.value=t.defaultValue,r;const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(c=>vb(c,t)):vb(l,t)}});function vb(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const i4=X("$ZodPrefault",(e,t)=>{_t.init(e,t),e._zod.optin="optional",ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,a)=>(a.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,a))}),o4=X("$ZodNonOptional",(e,t)=>{_t.init(e,t),ut(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(a=>a!==void 0)):void 0}),e._zod.parse=(r,a)=>{const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(c=>bb(c,e)):bb(l,e)}});function bb(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const l4=X("$ZodCatch",(e,t)=>{_t.init(e,t),ut(e._zod,"optin",()=>t.innerType._zod.optin),ut(e._zod,"optout",()=>t.innerType._zod.optout),ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(c=>(r.value=c.value,c.issues.length&&(r.value=t.catchValue({...r,error:{issues:c.issues.map(d=>li(d,a,oi()))},input:r.value}),r.issues=[]),r)):(r.value=l.value,l.issues.length&&(r.value=t.catchValue({...r,error:{issues:l.issues.map(c=>li(c,a,oi()))},input:r.value}),r.issues=[]),r)}}),c4=X("$ZodPipe",(e,t)=>{_t.init(e,t),ut(e._zod,"values",()=>t.in._zod.values),ut(e._zod,"optin",()=>t.in._zod.optin),ut(e._zod,"optout",()=>t.out._zod.optout),ut(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,a)=>{if(a.direction==="backward"){const c=t.out._zod.run(r,a);return c instanceof Promise?c.then(d=>Qu(d,t.in,a)):Qu(c,t.in,a)}const l=t.in._zod.run(r,a);return l instanceof Promise?l.then(c=>Qu(c,t.out,a)):Qu(l,t.out,a)}});function Qu(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const u4=X("$ZodReadonly",(e,t)=>{_t.init(e,t),ut(e._zod,"propValues",()=>t.innerType._zod.propValues),ut(e._zod,"values",()=>t.innerType._zod.values),ut(e._zod,"optin",()=>t.innerType._zod.optin),ut(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(wb):wb(l)}});function wb(e){return e.value=Object.freeze(e.value),e}const d4=X("$ZodCustom",(e,t)=>{Nn.init(e,t),_t.init(e,t),e._zod.parse=(r,a)=>r,e._zod.check=r=>{const a=r.value,l=t.fn(a);if(l instanceof Promise)return l.then(c=>Sb(c,r,a,e));Sb(l,r,a,e)}});function Sb(e,t,r,a){if(!e){const l={code:"custom",input:r,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(l.params=a._zod.def.params),t.issues.push(ic(l))}}class f4{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const a=r[0];if(this._map.set(t,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const a={...this.get(r)??{}};delete a.id;const l={...a,...this._map.get(t)};return Object.keys(l).length?l:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function h4(){return new f4}const Yu=h4();function m4(e,t){return new e({type:"string",...Se(t)})}function p4(e,t){return new e({type:"string",coerce:!0,...Se(t)})}function M1(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Se(t)})}function Nb(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Se(t)})}function g4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Se(t)})}function y4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Se(t)})}function x4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Se(t)})}function v4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Se(t)})}function b4(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Se(t)})}function w4(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Se(t)})}function S4(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Se(t)})}function N4(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Se(t)})}function j4(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Se(t)})}function k4(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Se(t)})}function _4(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Se(t)})}function E4(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Se(t)})}function A4(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Se(t)})}function T4(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Se(t)})}function R4(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Se(t)})}function C4(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Se(t)})}function O4(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Se(t)})}function D4(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Se(t)})}function U4(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Se(t)})}function I4(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Se(t)})}function M4(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Se(t)})}function z4(e,t){return new e({type:"string",format:"date",check:"string_format",...Se(t)})}function L4(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Se(t)})}function P4(e,t){return new e({type:"string",format:"duration",check:"string_format",...Se(t)})}function $4(e,t){return new e({type:"number",checks:[],...Se(t)})}function B4(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Se(t)})}function q4(e,t){return new e({type:"boolean",...Se(t)})}function V4(e,t){return new e({type:"boolean",coerce:!0,...Se(t)})}function H4(e){return new e({type:"unknown"})}function G4(e,t){return new e({type:"never",...Se(t)})}function K4(e,t){return new e({type:"date",...Se(t)})}function jb(e,t){return new R1({check:"less_than",...Se(t),value:e,inclusive:!1})}function od(e,t){return new R1({check:"less_than",...Se(t),value:e,inclusive:!0})}function kb(e,t){return new C1({check:"greater_than",...Se(t),value:e,inclusive:!1})}function ld(e,t){return new C1({check:"greater_than",...Se(t),value:e,inclusive:!0})}function _b(e,t){return new iC({check:"multiple_of",...Se(t),value:e})}function z1(e,t){return new lC({check:"max_length",...Se(t),maximum:e})}function _d(e,t){return new cC({check:"min_length",...Se(t),minimum:e})}function L1(e,t){return new uC({check:"length_equals",...Se(t),length:e})}function Z4(e,t){return new dC({check:"string_format",format:"regex",...Se(t),pattern:e})}function F4(e){return new fC({check:"string_format",format:"lowercase",...Se(e)})}function Q4(e){return new hC({check:"string_format",format:"uppercase",...Se(e)})}function Y4(e,t){return new mC({check:"string_format",format:"includes",...Se(t),includes:e})}function J4(e,t){return new pC({check:"string_format",format:"starts_with",...Se(t),prefix:e})}function X4(e,t){return new gC({check:"string_format",format:"ends_with",...Se(t),suffix:e})}function vc(e){return new yC({check:"overwrite",tx:e})}function W4(e){return vc(t=>t.normalize(e))}function eO(){return vc(e=>e.trim())}function tO(){return vc(e=>e.toLowerCase())}function nO(){return vc(e=>e.toUpperCase())}function rO(e,t,r){return new e({type:"array",element:t,...Se(r)})}function sO(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Se(r)})}function aO(e){const t=iO(r=>(r.addIssue=a=>{if(typeof a=="string")r.issues.push(ic(a,r.value,t._zod.def));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=t),l.continue??(l.continue=!t._zod.def.abort),r.issues.push(ic(l))}},e(r.value,r)));return t}function iO(e,t){const r=new Nn({check:"custom",...Se(t)});return r._zod.check=e,r}const oO=X("ZodISODateTime",(e,t)=>{CC.init(e,t),vt.init(e,t)});function lO(e){return M4(oO,e)}const cO=X("ZodISODate",(e,t)=>{OC.init(e,t),vt.init(e,t)});function uO(e){return z4(cO,e)}const dO=X("ZodISOTime",(e,t)=>{DC.init(e,t),vt.init(e,t)});function fO(e){return L4(dO,e)}const hO=X("ZodISODuration",(e,t)=>{UC.init(e,t),vt.init(e,t)});function mO(e){return P4(hO,e)}const pO=(e,t)=>{j1.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>SR(e,r)},flatten:{value:r=>wR(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,fp,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,fp,2)}},isEmpty:{get(){return e.issues.length===0}}})},er=X("ZodError",pO,{Parent:Error}),gO=Jp(er),yO=Xp(er),xO=qd(er),vO=Vd(er),bO=kR(er),wO=_R(er),SO=ER(er),NO=AR(er),jO=TR(er),kO=RR(er),_O=CR(er),EO=OR(er),Rt=X("ZodType",(e,t)=>(_t.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),e.clone=(r,a)=>ya(e,r,a),e.brand=()=>e,e.register=(r,a)=>(r.add(e,a),e),e.parse=(r,a)=>gO(e,r,a,{callee:e.parse}),e.safeParse=(r,a)=>xO(e,r,a),e.parseAsync=async(r,a)=>yO(e,r,a,{callee:e.parseAsync}),e.safeParseAsync=async(r,a)=>vO(e,r,a),e.spa=e.safeParseAsync,e.encode=(r,a)=>bO(e,r,a),e.decode=(r,a)=>wO(e,r,a),e.encodeAsync=async(r,a)=>SO(e,r,a),e.decodeAsync=async(r,a)=>NO(e,r,a),e.safeEncode=(r,a)=>jO(e,r,a),e.safeDecode=(r,a)=>kO(e,r,a),e.safeEncodeAsync=async(r,a)=>_O(e,r,a),e.safeDecodeAsync=async(r,a)=>EO(e,r,a),e.refine=(r,a)=>e.check(pD(r,a)),e.superRefine=r=>e.check(gD(r)),e.overwrite=r=>e.check(vc(r)),e.optional=()=>Ad(e),e.nullable=()=>Rb(e),e.nullish=()=>Ad(Rb(e)),e.nonoptional=r=>lD(e,r),e.array=()=>Ed(e),e.or=r=>XO([e,r]),e.and=r=>eD(e,r),e.transform=r=>Cb(e,nD(r)),e.default=r=>aD(e,r),e.prefault=r=>oD(e,r),e.catch=r=>uD(e,r),e.pipe=r=>Cb(e,r),e.readonly=()=>hD(e),e.describe=r=>{const a=e.clone();return Yu.add(a,{description:r}),a},Object.defineProperty(e,"description",{get(){var r;return(r=Yu.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Yu.get(e);const a=e.clone();return Yu.add(a,r[0]),a},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),P1=X("_ZodString",(e,t)=>{Wp.init(e,t),Rt.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...a)=>e.check(Z4(...a)),e.includes=(...a)=>e.check(Y4(...a)),e.startsWith=(...a)=>e.check(J4(...a)),e.endsWith=(...a)=>e.check(X4(...a)),e.min=(...a)=>e.check(_d(...a)),e.max=(...a)=>e.check(z1(...a)),e.length=(...a)=>e.check(L1(...a)),e.nonempty=(...a)=>e.check(_d(1,...a)),e.lowercase=a=>e.check(F4(a)),e.uppercase=a=>e.check(Q4(a)),e.trim=()=>e.check(eO()),e.normalize=(...a)=>e.check(W4(...a)),e.toLowerCase=()=>e.check(tO()),e.toUpperCase=()=>e.check(nO())}),$1=X("ZodString",(e,t)=>{Wp.init(e,t),P1.init(e,t),e.email=r=>e.check(M1(B1,r)),e.url=r=>e.check(b4(AO,r)),e.jwt=r=>e.check(I4(VO,r)),e.emoji=r=>e.check(w4(TO,r)),e.guid=r=>e.check(Nb(Eb,r)),e.uuid=r=>e.check(g4(Ju,r)),e.uuidv4=r=>e.check(y4(Ju,r)),e.uuidv6=r=>e.check(x4(Ju,r)),e.uuidv7=r=>e.check(v4(Ju,r)),e.nanoid=r=>e.check(S4(RO,r)),e.guid=r=>e.check(Nb(Eb,r)),e.cuid=r=>e.check(N4(CO,r)),e.cuid2=r=>e.check(j4(OO,r)),e.ulid=r=>e.check(k4(DO,r)),e.base64=r=>e.check(O4($O,r)),e.base64url=r=>e.check(D4(BO,r)),e.xid=r=>e.check(_4(UO,r)),e.ksuid=r=>e.check(E4(IO,r)),e.ipv4=r=>e.check(A4(MO,r)),e.ipv6=r=>e.check(T4(zO,r)),e.cidrv4=r=>e.check(R4(LO,r)),e.cidrv6=r=>e.check(C4(PO,r)),e.e164=r=>e.check(U4(qO,r)),e.datetime=r=>e.check(lO(r)),e.date=r=>e.check(uO(r)),e.time=r=>e.check(fO(r)),e.duration=r=>e.check(mO(r))});function oe(e){return m4($1,e)}const vt=X("ZodStringFormat",(e,t)=>{gt.init(e,t),P1.init(e,t)}),B1=X("ZodEmail",(e,t)=>{SC.init(e,t),vt.init(e,t)});function eg(e){return M1(B1,e)}const Eb=X("ZodGUID",(e,t)=>{bC.init(e,t),vt.init(e,t)}),Ju=X("ZodUUID",(e,t)=>{wC.init(e,t),vt.init(e,t)}),AO=X("ZodURL",(e,t)=>{NC.init(e,t),vt.init(e,t)}),TO=X("ZodEmoji",(e,t)=>{jC.init(e,t),vt.init(e,t)}),RO=X("ZodNanoID",(e,t)=>{kC.init(e,t),vt.init(e,t)}),CO=X("ZodCUID",(e,t)=>{_C.init(e,t),vt.init(e,t)}),OO=X("ZodCUID2",(e,t)=>{EC.init(e,t),vt.init(e,t)}),DO=X("ZodULID",(e,t)=>{AC.init(e,t),vt.init(e,t)}),UO=X("ZodXID",(e,t)=>{TC.init(e,t),vt.init(e,t)}),IO=X("ZodKSUID",(e,t)=>{RC.init(e,t),vt.init(e,t)}),MO=X("ZodIPv4",(e,t)=>{IC.init(e,t),vt.init(e,t)}),zO=X("ZodIPv6",(e,t)=>{MC.init(e,t),vt.init(e,t)}),LO=X("ZodCIDRv4",(e,t)=>{zC.init(e,t),vt.init(e,t)}),PO=X("ZodCIDRv6",(e,t)=>{LC.init(e,t),vt.init(e,t)}),$O=X("ZodBase64",(e,t)=>{PC.init(e,t),vt.init(e,t)}),BO=X("ZodBase64URL",(e,t)=>{BC.init(e,t),vt.init(e,t)}),qO=X("ZodE164",(e,t)=>{qC.init(e,t),vt.init(e,t)}),VO=X("ZodJWT",(e,t)=>{HC.init(e,t),vt.init(e,t)}),q1=X("ZodNumber",(e,t)=>{D1.init(e,t),Rt.init(e,t),e.gt=(a,l)=>e.check(kb(a,l)),e.gte=(a,l)=>e.check(ld(a,l)),e.min=(a,l)=>e.check(ld(a,l)),e.lt=(a,l)=>e.check(jb(a,l)),e.lte=(a,l)=>e.check(od(a,l)),e.max=(a,l)=>e.check(od(a,l)),e.int=a=>e.check(Ab(a)),e.safe=a=>e.check(Ab(a)),e.positive=a=>e.check(kb(0,a)),e.nonnegative=a=>e.check(ld(0,a)),e.negative=a=>e.check(jb(0,a)),e.nonpositive=a=>e.check(od(0,a)),e.multipleOf=(a,l)=>e.check(_b(a,l)),e.step=(a,l)=>e.check(_b(a,l)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function V1(e){return $4(q1,e)}const HO=X("ZodNumberFormat",(e,t)=>{GC.init(e,t),q1.init(e,t)});function Ab(e){return B4(HO,e)}const H1=X("ZodBoolean",(e,t)=>{KC.init(e,t),Rt.init(e,t)});function ma(e){return q4(H1,e)}const GO=X("ZodUnknown",(e,t)=>{ZC.init(e,t),Rt.init(e,t)});function Tb(){return H4(GO)}const KO=X("ZodNever",(e,t)=>{FC.init(e,t),Rt.init(e,t)});function ZO(e){return G4(KO,e)}const FO=X("ZodDate",(e,t)=>{QC.init(e,t),Rt.init(e,t),e.min=(a,l)=>e.check(ld(a,l)),e.max=(a,l)=>e.check(od(a,l));const r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function Do(e){return K4(FO,e)}const QO=X("ZodArray",(e,t)=>{YC.init(e,t),Rt.init(e,t),e.element=t.element,e.min=(r,a)=>e.check(_d(r,a)),e.nonempty=r=>e.check(_d(1,r)),e.max=(r,a)=>e.check(z1(r,a)),e.length=(r,a)=>e.check(L1(r,a)),e.unwrap=()=>e.element});function Ed(e,t){return rO(QO,e,t)}const YO=X("ZodObject",(e,t)=>{XC.init(e,t),Rt.init(e,t),ut(e,"shape",()=>t.shape),e.keyof=()=>G1(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Tb()}),e.loose=()=>e.clone({...e._zod.def,catchall:Tb()}),e.strict=()=>e.clone({...e._zod.def,catchall:ZO()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>gR(e,r),e.safeExtend=r=>yR(e,r),e.merge=r=>xR(e,r),e.pick=r=>mR(e,r),e.omit=r=>pR(e,r),e.partial=(...r)=>vR(K1,e,r[0]),e.required=(...r)=>bR(Z1,e,r[0])});function rt(e,t){const r={type:"object",get shape(){return ga(this,"shape",e?cR(e):{}),this.shape},...Se(t)};return new YO(r)}const JO=X("ZodUnion",(e,t)=>{WC.init(e,t),Rt.init(e,t),e.options=t.options});function XO(e,t){return new JO({type:"union",options:e,...Se(t)})}const WO=X("ZodIntersection",(e,t)=>{e4.init(e,t),Rt.init(e,t)});function eD(e,t){return new WO({type:"intersection",left:e,right:t})}const mp=X("ZodEnum",(e,t)=>{t4.init(e,t),Rt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(a,l)=>{const c={};for(const d of a)if(r.has(d))c[d]=t.entries[d];else throw new Error(`Key ${d} not found in enum`);return new mp({...t,checks:[],...Se(l),entries:c})},e.exclude=(a,l)=>{const c={...t.entries};for(const d of a)if(r.has(d))delete c[d];else throw new Error(`Key ${d} not found in enum`);return new mp({...t,checks:[],...Se(l),entries:c})}});function G1(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(a=>[a,a])):e;return new mp({type:"enum",entries:r,...Se(t)})}const tD=X("ZodTransform",(e,t)=>{n4.init(e,t),Rt.init(e,t),e._zod.parse=(r,a)=>{if(a.direction==="backward")throw new x1(e.constructor.name);r.addIssue=c=>{if(typeof c=="string")r.issues.push(ic(c,r.value,t));else{const d=c;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=e),r.issues.push(ic(d))}};const l=t.transform(r.value,r);return l instanceof Promise?l.then(c=>(r.value=c,r)):(r.value=l,r)}});function nD(e){return new tD({type:"transform",transform:e})}const K1=X("ZodOptional",(e,t)=>{r4.init(e,t),Rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ad(e){return new K1({type:"optional",innerType:e})}const rD=X("ZodNullable",(e,t)=>{s4.init(e,t),Rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Rb(e){return new rD({type:"nullable",innerType:e})}const sD=X("ZodDefault",(e,t)=>{a4.init(e,t),Rt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function aD(e,t){return new sD({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():w1(t)}})}const iD=X("ZodPrefault",(e,t)=>{i4.init(e,t),Rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oD(e,t){return new iD({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():w1(t)}})}const Z1=X("ZodNonOptional",(e,t)=>{o4.init(e,t),Rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lD(e,t){return new Z1({type:"nonoptional",innerType:e,...Se(t)})}const cD=X("ZodCatch",(e,t)=>{l4.init(e,t),Rt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function uD(e,t){return new cD({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const dD=X("ZodPipe",(e,t)=>{c4.init(e,t),Rt.init(e,t),e.in=t.in,e.out=t.out});function Cb(e,t){return new dD({type:"pipe",in:e,out:t})}const fD=X("ZodReadonly",(e,t)=>{u4.init(e,t),Rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hD(e){return new fD({type:"readonly",innerType:e})}const mD=X("ZodCustom",(e,t)=>{d4.init(e,t),Rt.init(e,t)});function pD(e,t={}){return sO(mD,e,t)}function gD(e){return aO(e)}function tg(e){return p4($1,e)}function Ob(e){return V4(H1,e)}function ti(){const e=typeof globalThis<"u"&&globalThis.crypto;if(e&&typeof e.subtle=="object"&&e.subtle!=null)return e.subtle;throw new Error("crypto.subtle must be defined")}var yD=Object.defineProperty,xD=(e,t)=>{for(var r in t)yD(e,r,{get:t[r],enumerable:!0})};function vD(){const e=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return e===void 0?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(e,"writable")?e.writable:e.set!==void 0}function bD(e){const t=e.split(`
    at `);return t.length<=1?e:(t.splice(1,1),t.join(`
    at `))}function wD(e,t){var a;class r extends e{constructor(...f){var d=(...l)=>(super(...l),ce(this,a),this);if(vD()){const p=Error.stackTraceLimit;Error.stackTraceLimit=0,d(...f),Error.stackTraceLimit=p}else d(...f);const m=new Error().stack;m&&re(this,a,bD(m.replace(/^Error/,this.name)))}get errorStack(){return _(this,a)}}return a=new WeakMap,Object.defineProperty(r.prototype,"constructor",{get(){return t},enumerable:!1,configurable:!0}),r}var SD={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511},ND=class extends Error{constructor(e="INTERNAL_SERVER_ERROR",t=void 0,r={},a=typeof e=="number"?e:SD[e]){var l;super(t==null?void 0:t.message,t!=null&&t.cause?{cause:t.cause}:void 0),this.status=e,this.body=t,this.headers=r,this.statusCode=a,this.name="APIError",this.status=e,this.headers=r,this.statusCode=a,this.body=t?{code:(l=t==null?void 0:t.message)==null?void 0:l.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...t}:void 0}},se=wD(ND,Error);function F1(e){return e instanceof se||(e==null?void 0:e.name)==="APIError"}function jD(e){try{return e.includes("%")?decodeURIComponent(e):e}catch{return e}}function kD(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}function _D(e,t,r){let a=0;const l=new WeakMap;return JSON.stringify(e,(d,f)=>{if(typeof f=="bigint")return f.toString();if(typeof f=="object"&&f!==null){if(l.has(f))return`[Circular ref-${l.get(f)}]`;l.set(f,a++)}return f},r)}function ED(e){return!e||typeof e!="object"?!1:"_flag"in e&&e._flag==="json"}function Q1(e,t){if(e instanceof Response)return(t==null?void 0:t.headers)instanceof Headers&&t.headers.forEach((c,d)=>{e.headers.set(d,c)}),e;if(ED(e)){const c=e.body,d=e.routerResponse;if(d instanceof Response)return d;const f=new Headers({...d==null?void 0:d.headers,...e.headers,...t==null?void 0:t.headers,"Content-Type":"application/json"});return new Response(JSON.stringify(c),{...d,headers:f,status:e.status??(t==null?void 0:t.status)??(d==null?void 0:d.status),statusText:(t==null?void 0:t.statusText)??(d==null?void 0:d.statusText)})}if(F1(e))return Q1(e.body,{status:(t==null?void 0:t.status)??e.statusCode,statusText:e.status.toString(),headers:(t==null?void 0:t.headers)||e.headers});let a=e,l=new Headers(t==null?void 0:t.headers);return e?typeof e=="string"?(a=e,l.set("Content-Type","text/plain")):e instanceof ArrayBuffer||ArrayBuffer.isView(e)?(a=e,l.set("Content-Type","application/octet-stream")):e instanceof Blob?(a=e,l.set("Content-Type",e.type||"application/octet-stream")):e instanceof FormData?a=e:e instanceof URLSearchParams?(a=e,l.set("Content-Type","application/x-www-form-urlencoded")):e instanceof ReadableStream?(a=e,l.set("Content-Type","application/octet-stream")):kD(e)&&(a=_D(e),l.set("Content-Type","application/json")):(e===null&&(a=JSON.stringify(null)),l.set("content-type","application/json")),new Response(a,{...t,headers:l})}async function AD(e,t={}){let r={body:t.body,query:t.query};if(e.body){const a=await e.body["~standard"].validate(t.body);if(a.issues)return{data:null,error:Db(a.issues,"body")};r.body=a.value}if(e.query){const a=await e.query["~standard"].validate(t.query);if(a.issues)return{data:null,error:Db(a.issues,"query")};r.query=a.value}return e.requireHeaders&&!t.headers?{data:null,error:{message:"Headers is required"}}:e.requireRequest&&!t.request?{data:null,error:{message:"Request is required"}}:{data:r,error:null}}function Db(e,t){for(const r of e)r.message;return{message:`Invalid ${t} parameters`}}var ng={name:"HMAC",hash:"SHA-256"},Y1=async e=>{const t=typeof e=="string"?new TextEncoder().encode(e):e;return await ti().importKey("raw",t,ng,!1,["sign","verify"])},TD=async(e,t,r)=>{try{const a=atob(e),l=new Uint8Array(a.length);for(let c=0,d=a.length;c<d;c++)l[c]=a.charCodeAt(c);return await ti().verify(ng,r,l,new TextEncoder().encode(t))}catch{return!1}},RD=async(e,t)=>{const r=await Y1(t),a=await ti().sign(ng.name,r,new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(a)))},CD=async(e,t)=>{const r=await RD(e,t);return e=`${e}.${r}`,e=encodeURIComponent(e),e},Ub=(e,t)=>{let r=e;if(t)if(t==="secure")r="__Secure-"+e;else if(t==="host")r="__Host-"+e;else return;return r};function OD(e){if(typeof e!="string")throw new TypeError("argument str must be a string");const t=new Map;let r=0;for(;r<e.length;){const a=e.indexOf("=",r);if(a===-1)break;let l=e.indexOf(";",r);if(l===-1)l=e.length;else if(l<a){r=e.lastIndexOf(";",a-1)+1;continue}const c=e.slice(r,a).trim();if(!t.has(c)){let d=e.slice(a+1,l).trim();d.codePointAt(0)===34&&(d=d.slice(1,-1)),t.set(c,jD(d))}r=l+1}return t}var J1=(e,t,r={})=>{let a;if((r==null?void 0:r.prefix)==="secure"?a=`${`__Secure-${e}`}=${t}`:(r==null?void 0:r.prefix)==="host"?a=`${`__Host-${e}`}=${t}`:a=`${e}=${t}`,e.startsWith("__Secure-")&&!r.secure&&(r.secure=!0),e.startsWith("__Host-")&&(r.secure||(r.secure=!0),r.path!=="/"&&(r.path="/"),r.domain&&(r.domain=void 0)),r&&typeof r.maxAge=="number"&&r.maxAge>=0){if(r.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");a+=`; Max-Age=${Math.floor(r.maxAge)}`}if(r.domain&&r.prefix!=="host"&&(a+=`; Domain=${r.domain}`),r.path&&(a+=`; Path=${r.path}`),r.expires){if(r.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");a+=`; Expires=${r.expires.toUTCString()}`}return r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite&&(a+=`; SameSite=${r.sameSite.charAt(0).toUpperCase()+r.sameSite.slice(1)}`),r.partitioned&&(r.secure||(r.secure=!0),a+="; Partitioned"),a},DD=(e,t,r)=>(t=encodeURIComponent(t),J1(e,t,r)),UD=async(e,t,r,a)=>(t=await CD(t,r),J1(e,t,a)),X1=async(e,{options:t,path:r})=>{const a=new Headers,{data:l,error:c}=await AD(t,e);if(c)throw new se(400,{message:c.message,code:"VALIDATION_ERROR"});const d="headers"in e?e.headers instanceof Headers?e.headers:new Headers(e.headers):"request"in e&&e.request instanceof Request?e.request.headers:null,f=d==null?void 0:d.get("cookie"),m=f?OD(f):void 0,p={...e,body:l.body,query:l.query,path:e.path||r,context:"context"in e&&e.context?e.context:{},returned:void 0,headers:e==null?void 0:e.headers,request:e==null?void 0:e.request,params:"params"in e?e.params:void 0,method:e.method,setHeader:(x,g)=>{a.set(x,g)},getHeader:x=>d?d.get(x):null,getCookie:(x,g)=>{const v=Ub(x,g);return v&&(m==null?void 0:m.get(v))||null},getSignedCookie:async(x,g,v)=>{const w=Ub(x,v);if(!w)return null;const b=m==null?void 0:m.get(w);if(!b)return null;const N=b.lastIndexOf(".");if(N<1)return null;const k=b.substring(0,N),R=b.substring(N+1);if(R.length!==44||!R.endsWith("="))return null;const M=await Y1(g);return await TD(R,k,M)?k:!1},setCookie:(x,g,v)=>{const w=DD(x,g,v);return a.append("set-cookie",w),w},setSignedCookie:async(x,g,v,w)=>{const b=await UD(x,g,v,w);return a.append("set-cookie",b),b},redirect:x=>(a.set("location",x),new se("FOUND",void 0,a)),error:(x,g,v)=>new se(x,g,v),json:(x,g)=>e.asResponse?{body:(g==null?void 0:g.body)||x,routerResponse:g,_flag:"json"}:x,responseHeaders:a};for(const x of t.use||[]){const g=await x({...p,returnHeaders:!0,asResponse:!1});g.response&&Object.assign(p.context,g.response),g.headers&&g.headers.forEach((v,w)=>{p.responseHeaders.set(w,v)})}return p};function lo(e,t){const r=async a=>{const l=a,c=typeof e=="function"?e:t,f=await X1(l,{options:typeof e=="function"?{}:e,path:"/"});if(!c)throw new Error("handler must be defined");const m=await c(f),p=f.responseHeaders;return l.returnHeaders?{headers:p,response:m}:m};return r.options=typeof e=="function"?{}:e,r}lo.create=e=>{function t(r,a){if(typeof r=="function")return lo({use:e==null?void 0:e.use},r);if(!a)throw new Error("Middleware handler is required");return lo({...r,method:"*",use:[...(e==null?void 0:e.use)||[],...r.use||[]]},a)}return t};var pp=(e,t,r)=>{const a=async(...l)=>{const c=l[0]||{},d=await X1(c,{options:t,path:e}),f=await r(d).catch(async p=>{if(F1(p)){const x=t.onAPIError;if(x&&await x(p),c.asResponse)return p}throw p}),m=d.responseHeaders;return c.asResponse?Q1(f,{headers:m}):c.returnHeaders?{headers:m,response:f}:f};return a.options=t,a.path=e,a};pp.create=e=>(t,r,a)=>pp(t,{...r,use:[...(r==null?void 0:r.use)||[],...(e==null?void 0:e.use)||[]]},a);var ID={};xD(ID,{BIGINT_FORMAT_RANGES:()=>c6,Class:()=>N6,NUMBER_FORMAT_RANGES:()=>l6,aborted:()=>g6,allowsEval:()=>WD,assert:()=>$D,assertEqual:()=>MD,assertIs:()=>LD,assertNever:()=>PD,assertNotEqual:()=>zD,assignProp:()=>rg,cached:()=>W1,captureStackTrace:()=>XD,cleanEnum:()=>S6,cleanRegex:()=>GD,clone:()=>ui,createTransparentProxy:()=>i6,defineLazy:()=>ZD,esc:()=>JD,escapeRegex:()=>s6,extend:()=>f6,finalizeIssue:()=>x6,floatSafeRemainder:()=>KD,getElementAtPath:()=>FD,getEnumValues:()=>BD,getLengthableOrigin:()=>b6,getParsedType:()=>t6,getSizableOrigin:()=>v6,isObject:()=>gp,isPlainObject:()=>eS,issue:()=>w6,joinValues:()=>qD,jsonStringifyReplacer:()=>VD,merge:()=>h6,normalizeParams:()=>a6,nullish:()=>HD,numKeys:()=>e6,omit:()=>d6,optionalKeys:()=>o6,partial:()=>m6,pick:()=>u6,prefixIssues:()=>y6,primitiveTypes:()=>r6,promiseAllObject:()=>QD,propertyKeyTypes:()=>n6,randomString:()=>YD,required:()=>p6,stringifyPrimitive:()=>tS,unwrapMessage:()=>Xl});function MD(e){return e}function zD(e){return e}function LD(e){}function PD(e){throw new Error}function $D(e){}function BD(e){const t=Object.values(e).filter(a=>typeof a=="number");return Object.entries(e).filter(([a,l])=>t.indexOf(+a)===-1).map(([a,l])=>l)}function qD(e,t="|"){return e.map(r=>tS(r)).join(t)}function VD(e,t){return typeof t=="bigint"?t.toString():t}function W1(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function HD(e){return e==null}function GD(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function KD(e,t){const r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,l=r>a?r:a,c=Number.parseInt(e.toFixed(l).replace(".","")),d=Number.parseInt(t.toFixed(l).replace(".",""));return c%d/10**l}function ZD(e,t,r){Object.defineProperty(e,t,{get(){{const a=r();return e[t]=a,a}},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function rg(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function FD(e,t){return t?t.reduce((r,a)=>r==null?void 0:r[a],e):e}function QD(e){const t=Object.keys(e),r=t.map(a=>e[a]);return Promise.all(r).then(a=>{const l={};for(let c=0;c<t.length;c++)l[t[c]]=a[c];return l})}function YD(e=10){const t="abcdefghijklmnopqrstuvwxyz";let r="";for(let a=0;a<e;a++)r+=t[Math.floor(Math.random()*t.length)];return r}function JD(e){return JSON.stringify(e)}var XD=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function gp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var WD=W1(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function eS(e){if(gp(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(gp(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function e6(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}var t6=e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},n6=new Set(["string","number","symbol"]),r6=new Set(["string","number","bigint","boolean","symbol","undefined"]);function s6(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ui(e,t,r){const a=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(a._zod.parent=e),a}function a6(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function i6(e){let t;return new Proxy({},{get(r,a,l){return t??(t=e()),Reflect.get(t,a,l)},set(r,a,l,c){return t??(t=e()),Reflect.set(t,a,l,c)},has(r,a){return t??(t=e()),Reflect.has(t,a)},deleteProperty(r,a){return t??(t=e()),Reflect.deleteProperty(t,a)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,a){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,a)},defineProperty(r,a,l){return t??(t=e()),Reflect.defineProperty(t,a,l)}})}function tS(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function o6(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}var l6={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},c6={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function u6(e,t){const r={},a=e._zod.def;for(const l in t){if(!(l in a.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(r[l]=a.shape[l])}return ui(e,{...e._zod.def,shape:r,checks:[]})}function d6(e,t){const r={...e._zod.def.shape},a=e._zod.def;for(const l in t){if(!(l in a.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete r[l]}return ui(e,{...e._zod.def,shape:r,checks:[]})}function f6(e,t){if(!eS(t))throw new Error("Invalid input to extend: expected a plain object");const r={...e._zod.def,get shape(){const a={...e._zod.def.shape,...t};return rg(this,"shape",a),a},checks:[]};return ui(e,r)}function h6(e,t){return ui(e,{...e._zod.def,get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return rg(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function m6(e,t,r){const a=t._zod.def.shape,l={...a};if(r)for(const c in r){if(!(c in a))throw new Error(`Unrecognized key: "${c}"`);r[c]&&(l[c]=e?new e({type:"optional",innerType:a[c]}):a[c])}else for(const c in a)l[c]=e?new e({type:"optional",innerType:a[c]}):a[c];return ui(t,{...t._zod.def,shape:l,checks:[]})}function p6(e,t,r){const a=t._zod.def.shape,l={...a};if(r)for(const c in r){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);r[c]&&(l[c]=new e({type:"nonoptional",innerType:a[c]}))}else for(const c in a)l[c]=new e({type:"nonoptional",innerType:a[c]});return ui(t,{...t._zod.def,shape:l,checks:[]})}function g6(e,t=0){var r;for(let a=t;a<e.issues.length;a++)if(((r=e.issues[a])==null?void 0:r.continue)!==!0)return!0;return!1}function y6(e,t){return t.map(r=>{var a;return(a=r).path??(a.path=[]),r.path.unshift(e),r})}function Xl(e){return typeof e=="string"?e:e==null?void 0:e.message}function x6(e,t,r){var l,c,d,f,m,p;const a={...e,path:e.path??[]};if(!e.message){const x=Xl((d=(c=(l=e.inst)==null?void 0:l._zod.def)==null?void 0:c.error)==null?void 0:d.call(c,e))??Xl((f=t==null?void 0:t.error)==null?void 0:f.call(t,e))??Xl((m=r.customError)==null?void 0:m.call(r,e))??Xl((p=r.localeError)==null?void 0:p.call(r,e))??"Invalid input";a.message=x}return delete a.inst,delete a.continue,t!=null&&t.reportInput||delete a.input,a}function v6(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function b6(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function w6(...e){const[t,r,a]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:a}:{...t}}function S6(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}var N6=class{constructor(...e){}};const Uo=(e,t="ms")=>new Date(Date.now()+(t==="sec"?e*1e3:e));function Td(e){return e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function nS(e,t,r){let a="",l=0,c=0;for(const d of e)for(l=l<<8|d,c+=8;c>=6;)c-=6,a+=t[l>>c&63];if(c>0&&(a+=t[l<<6-c&63]),r){const d=(4-a.length%4)%4;a+="=".repeat(d)}return a}function rS(e,t){const r=new Map;for(let d=0;d<t.length;d++)r.set(t[d],d);const a=[];let l=0,c=0;for(const d of e){if(d==="=")break;const f=r.get(d);if(f===void 0)throw new Error(`Invalid Base64 character: ${d}`);l=l<<6|f,c+=6,c>=8&&(c-=8,a.push(l>>c&255))}return Uint8Array.from(a)}const pa={encode(e,t={}){const r=Td(!1),a=typeof e=="string"?new TextEncoder().encode(e):new Uint8Array(e);return nS(a,r,t.padding??!0)},decode(e){typeof e!="string"&&(e=new TextDecoder().decode(e));const t=e.includes("-")||e.includes("_"),r=Td(t);return rS(e,r)}},Gd={encode(e,t={}){const r=Td(!0),a=typeof e=="string"?new TextEncoder().encode(e):new Uint8Array(e);return nS(a,r,t.padding??!0)},decode(e){const t=e.includes("-")||e.includes("_"),r=Td(t);return rS(e,r)}},j6="0123456789abcdef",Ib={encode:e=>{if(typeof e=="string"&&(e=new TextEncoder().encode(e)),e.byteLength===0)return"";const t=new Uint8Array(e);let r="";for(const a of t)r+=a.toString(16).padStart(2,"0");return r},decode:e=>{if(!e)return"";if(typeof e=="string"){if(e.length%2!==0)throw new Error("Invalid hexadecimal string");if(!new RegExp(`^[${j6}]+$`).test(e))throw new Error("Invalid hexadecimal string");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return new TextDecoder().decode(t)}return new TextDecoder().decode(e)}},sS=(e="SHA-256",t="none")=>{const r={importKey:async(a,l)=>ti().importKey("raw",typeof a=="string"?new TextEncoder().encode(a):a,{name:"HMAC",hash:{name:e}},!1,[l]),sign:async(a,l)=>{typeof a=="string"&&(a=await r.importKey(a,"sign"));const c=await ti().sign("HMAC",a,typeof l=="string"?new TextEncoder().encode(l):l);return t==="hex"?Ib.encode(c):t==="base64"||t==="base64url"||t==="base64urlnopad"?Gd.encode(c,{padding:t!=="base64urlnopad"}):c},verify:async(a,l,c)=>(typeof a=="string"&&(a=await r.importKey(a,"verify")),t==="hex"&&(c=Ib.decode(c)),(t==="base64"||t==="base64url"||t==="base64urlnopad")&&(c=await pa.decode(c)),ti().verify("HMAC",a,typeof c=="string"?new TextEncoder().encode(c):c,typeof l=="string"?new TextEncoder().encode(l):l))};return r},Fl=1,Zt=4,Tr=8,bn=24,Mb={eterm:Zt,cons25:Zt,console:Zt,cygwin:Zt,dtterm:Zt,gnome:Zt,hurd:Zt,jfbterm:Zt,konsole:Zt,kterm:Zt,mlterm:Zt,mosh:bn,putty:Zt,st:Zt,"rxvt-unicode-24bit":bn,terminator:bn,"xterm-kitty":bn},k6=new Map(Object.entries({APPVEYOR:Tr,BUILDKITE:Tr,CIRCLECI:bn,DRONE:Tr,GITEA_ACTIONS:bn,GITHUB_ACTIONS:bn,GITLAB_CI:Tr,TRAVIS:Tr})),_6=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/];function E6(){if(Dt("FORCE_COLOR")!==void 0)switch(Dt("FORCE_COLOR")){case"":case"1":case"true":return Zt;case"2":return Tr;case"3":return bn;default:return Fl}if(Dt("NODE_DISABLE_COLORS")!==void 0&&Dt("NODE_DISABLE_COLORS")!==""||Dt("NO_COLOR")!==void 0&&Dt("NO_COLOR")!==""||Dt("TERM")==="dumb")return Fl;if(typeof process<"u"&&process.platform==="win32"||Dt("TMUX"))return bn;if("TF_BUILD"in Wn&&"AGENT_NAME"in Wn)return Zt;if("CI"in Wn){for(const{0:e,1:t}of k6)if(e in Wn)return t;return Dt("CI_NAME")==="codeship"?Tr:Fl}if("TEAMCITY_VERSION"in Wn)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(Dt("TEAMCITY_VERSION"))!==null?Zt:Fl;switch(Dt("TERM_PROGRAM")){case"iTerm.app":return!Dt("TERM_PROGRAM_VERSION")||/^[0-2]\./.exec(Dt("TERM_PROGRAM_VERSION"))!==null?Tr:bn;case"HyperTerm":case"MacTerm":return bn;case"Apple_Terminal":return Tr}if(Dt("COLORTERM")==="truecolor"||Dt("COLORTERM")==="24bit")return bn;if(Dt("TERM")){if(/truecolor/.exec(Dt("TERM"))!==null)return bn;if(/^xterm-256/.exec(Dt("TERM"))!==null)return Tr;const e=Dt("TERM").toLowerCase();if(Mb[e])return Mb[e];if(_6.some(t=>t.exec(e)!==null))return Zt}return Dt("COLORTERM")?Zt:Fl}const yp=["info","success","warn","error","debug"];function A6(e,t){return yp.indexOf(t)<=yp.indexOf(e)}const Rr={reset:"\x1B[0m",bright:"\x1B[1m",dim:"\x1B[2m",fg:{red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m"}},T6={info:Rr.fg.blue,success:Rr.fg.green,warn:Rr.fg.yellow,error:Rr.fg.red,debug:Rr.fg.magenta},R6=(e,t,r)=>{const a=new Date().toISOString();return r?`${Rr.dim}${a}${Rr.reset} ${T6[e]}${e.toUpperCase()}${Rr.reset} ${Rr.bright}[Better Auth]:${Rr.reset} ${t}`:`${a} ${e.toUpperCase()} [Better Auth]: ${t}`},C6=e=>{const t="error",r=E6()!==1,a=(c,d,f=[])=>{if(!A6(t,c))return;const m=R6(c,d,r);{c==="error"?console.error(m,...f):c==="warn"?console.warn(m,...f):console.log(m,...f);return}};return{...Object.fromEntries(yp.map(c=>[c,(...[d,...f])=>a(c,d,f)])),get level(){return t}}},Qe=C6();function aS(e){function t(r,a){if(typeof a=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z$/.test(a)){const c=new Date(a);if(!isNaN(c.getTime()))return c}return a}try{return typeof e!="string"?e:JSON.parse(e,t)}catch(r){return Qe.error("Error parsing JSON",{error:r}),null}}const Om=new Map,O6=new TextEncoder,D6={decode:(e,t="utf-8")=>(Om.has(t)||Om.set(t,new TextDecoder(t)),Om.get(t).decode(e)),encode:O6.encode};async function iS(e,t,r){var l,c;if((c=(l=e.context.options.session)==null?void 0:l.cookieCache)==null?void 0:c.enabled){const f={session:Object.entries(t.session).reduce((g,[v,w])=>{var N,k;const b=(k=(N=e.context.options.session)==null?void 0:N.additionalFields)==null?void 0:k[v];return(!b||b.returned!==!1)&&(g[v]=w),g},{}),user:t.user},m={...e.context.authCookies.sessionData.options,maxAge:r?void 0:e.context.authCookies.sessionData.options.maxAge},p=Uo(m.maxAge||60,"sec").getTime(),x=Gd.encode(JSON.stringify({session:f,expiresAt:p,signature:await sS("SHA-256","base64urlnopad").sign(e.context.secret,JSON.stringify({...f,expiresAt:p}))}),{padding:!1});if(x.length>4093)throw new $t("Session data is too large to store in the cookie. Please disable session cookie caching or reduce the size of the session data");e.setCookie(e.context.authCookies.sessionData.name,x,m)}}async function ms(e,t,r,a){var f;const l=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);r=r!==void 0?r:!!l;const c=e.context.authCookies.sessionToken.options,d=r?void 0:e.context.sessionConfig.expiresIn;await e.setSignedCookie(e.context.authCookies.sessionToken.name,t.session.token,e.context.secret,{...c,maxAge:d,...a}),r&&await e.setSignedCookie(e.context.authCookies.dontRememberToken.name,"true",e.context.secret,e.context.authCookies.dontRememberToken.options),await iS(e,t,r),e.context.setNewSession(t),e.context.options.secondaryStorage&&await((f=e.context.secondaryStorage)==null?void 0:f.set(t.session.token,JSON.stringify({user:t.user,session:t.session}),Math.floor((new Date(t.session.expiresAt).getTime()-Date.now())/1e3)))}function Io(e,t){e.setCookie(e.context.authCookies.sessionToken.name,"",{...e.context.authCookies.sessionToken.options,maxAge:0}),e.setCookie(e.context.authCookies.sessionData.name,"",{...e.context.authCookies.sessionData.options,maxAge:0}),e.setCookie(e.context.authCookies.dontRememberToken.name,"",{...e.context.authCookies.dontRememberToken.options,maxAge:0})}const oS=lo(async()=>({})),qo=lo.create({use:[oS,lo(async()=>({}))]}),ot=pp.create({use:[oS]}),Oe={FAILED_TO_CREATE_SESSION:"Failed to create session",FAILED_TO_GET_SESSION:"Failed to get session",INVALID_PASSWORD:"Invalid password",INVALID_EMAIL:"Invalid email",INVALID_EMAIL_OR_PASSWORD:"Invalid email or password",PROVIDER_NOT_FOUND:"Provider not found",INVALID_TOKEN:"Invalid token",ID_TOKEN_NOT_SUPPORTED:"id_token not supported",FAILED_TO_GET_USER_INFO:"Failed to get user info",USER_EMAIL_NOT_FOUND:"User email not found",EMAIL_NOT_VERIFIED:"Email not verified",PASSWORD_TOO_SHORT:"Password too short",PASSWORD_TOO_LONG:"Password too long",USER_ALREADY_EXISTS:"User already exists. Use another email.",CREDENTIAL_ACCOUNT_NOT_FOUND:"Credential account not found",SESSION_EXPIRED:"Session expired. Re-authenticate to perform this action.",FAILED_TO_UNLINK_LAST_ACCOUNT:"You can't unlink your last account",ACCOUNT_NOT_FOUND:"Account not found"},U6=Ad(rt({disableCookieCache:Ob().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:Ob().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),I6=()=>ot("/get-session",{method:"GET",query:U6,requireHeaders:!0,metadata:{openapi:{description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async e=>{var t,r,a,l,c,d;try{const f=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!f)return null;const m=e.getCookie(e.context.authCookies.sessionData.name),p=m?aS(D6.decode(Gd.decode(m))):null;if(p&&!await sS("SHA-256","base64urlnopad").verify(e.context.secret,JSON.stringify({...p.session,expiresAt:p.expiresAt}),p.signature)){const R=e.context.authCookies.sessionData.name;return e.setCookie(R,"",{maxAge:0}),e.json(null)}const x=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);if(p!=null&&p.session&&((r=(t=e.context.options.session)==null?void 0:t.cookieCache)!=null&&r.enabled)&&!((a=e.query)!=null&&a.disableCookieCache)){const k=p.session;if(p.expiresAt<Date.now()||k.session.expiresAt<new Date){const M=e.context.authCookies.sessionData.name;e.setCookie(M,"",{maxAge:0})}else return e.context.session=k,e.json(k)}const g=await e.context.internalAdapter.findSession(f);if(e.context.session=g,!g||g.session.expiresAt<new Date)return Io(e),g&&await e.context.internalAdapter.deleteSession(g.session.token),e.json(null);if(x||(l=e.query)!=null&&l.disableRefresh)return e.json(g);const v=e.context.sessionConfig.expiresIn,w=e.context.sessionConfig.updateAge;if(g.session.expiresAt.valueOf()-v*1e3+w*1e3<=Date.now()&&(!((c=e.query)!=null&&c.disableRefresh)||!((d=e.context.options.session)!=null&&d.disableSessionRefresh))){const k=await e.context.internalAdapter.updateSession(g.session.token,{expiresAt:Uo(e.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!k)return Io(e),e.json(null,{status:401});const R=(k.expiresAt.valueOf()-Date.now())/1e3;return await ms(e,{session:k,user:g.user},!1,{maxAge:R}),e.json({session:k,user:g.user})}return await iS(e,g,!!x),e.json(g)}catch(f){throw e.context.logger.error("INTERNAL_SERVER_ERROR",f),new se("INTERNAL_SERVER_ERROR",{message:Oe.FAILED_TO_GET_SESSION})}}),zr=async(e,t)=>{if(e.context.session)return e.context.session;const r=await I6()({...e,asResponse:!1,headers:e.headers,returnHeaders:!1,query:{...t,...e.query}}).catch(a=>null);return e.context.session=r,r},sg=qo(async e=>{const t=await zr(e);if(!(t!=null&&t.session))throw new se("UNAUTHORIZED");return{session:t}}),di=qo(async e=>{const t=await zr(e,{disableCookieCache:!0});if(!(t!=null&&t.session))throw new se("UNAUTHORIZED");return{session:t}});qo(async e=>{const t=await zr(e);if(!(t!=null&&t.session)&&(e.request||e.headers))throw new se("UNAUTHORIZED");return{session:t}});const M6=qo(async e=>{var d;const t=await zr(e);if(!(t!=null&&t.session))throw new se("UNAUTHORIZED");if(e.context.sessionConfig.freshAge===0)return{session:t};const r=e.context.sessionConfig.freshAge,a=((d=t.session.updatedAt)==null?void 0:d.valueOf())||t.session.createdAt.valueOf();if(!(Date.now()-a<r*1e3))throw new se("FORBIDDEN",{message:"Session is not fresh"});return{session:t}});ot("/revoke-session",{method:"POST",body:rt({token:oe().meta({description:"The token to revoke"})}),use:[di],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async e=>{const t=e.body.token,r=await e.context.internalAdapter.findSession(t);if(!r)throw new se("BAD_REQUEST",{message:"Session not found"});if(r.session.userId!==e.context.session.user.id)throw new se("UNAUTHORIZED");try{await e.context.internalAdapter.deleteSession(t)}catch(a){throw e.context.logger.error(a&&typeof a=="object"&&"name"in a?a.name:"",a),new se("INTERNAL_SERVER_ERROR")}return e.json({status:!0})});ot("/revoke-sessions",{method:"POST",use:[di],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{try{await e.context.internalAdapter.deleteSessions(e.context.session.user.id)}catch(t){throw e.context.logger.error(t&&typeof t=="object"&&"name"in t?t.name:"",t),new se("INTERNAL_SERVER_ERROR")}return e.json({status:!0})});ot("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[di],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{const t=e.context.session;if(!t.user)throw new se("UNAUTHORIZED");const l=(await e.context.internalAdapter.listSessions(t.user.id)).filter(c=>c.expiresAt>new Date).filter(c=>c.token!==e.context.session.session.token);return await Promise.all(l.map(c=>e.context.internalAdapter.deleteSession(c.token))),e.json({status:!0})});function ag(e,t){return{digest:async r=>{const a=new TextEncoder,l=typeof r=="string"?a.encode(r):r;return await ti().digest(e,l)}}}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function z6(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function xp(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function cd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Pt(e,t,r=""){const a=z6(e),l=e==null?void 0:e.length,c=t!==void 0;if(!a||c&&l!==t){const d=r&&`"${r}" `,f=c?` of length ${t}`:"",m=a?`length=${l}`:`type=${typeof e}`;throw new Error(d+"expected Uint8Array"+f+", got "+m)}return e}function zb(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function L6(e,t){Pt(e,void 0,"output");const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ua(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Mo(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function P6(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const $6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,lS=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",B6=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function q6(e){if(Pt(e),lS)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=B6[e[r]];return t}const ss={_0:48,_9:57,A:65,F:70,a:97,f:102};function Lb(e){if(e>=ss._0&&e<=ss._9)return e-ss._0;if(e>=ss.A&&e<=ss.F)return e-(ss.A-10);if(e>=ss.a&&e<=ss.f)return e-(ss.a-10)}function V6(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(lS)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const a=new Uint8Array(r);for(let l=0,c=0;l<r;l++,c+=2){const d=Lb(e.charCodeAt(c)),f=Lb(e.charCodeAt(c+1));if(d===void 0||f===void 0){const m=e[c]+e[c+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+c)}a[l]=d*16+f}return a}function H6(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function G6(...e){let t=0;for(let a=0;a<e.length;a++){const l=e[a];Pt(l),t+=l.length}const r=new Uint8Array(t);for(let a=0,l=0;a<e.length;a++){const c=e[a];r.set(c,l),l+=c.length}return r}function K6(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Z6(e,t){if(e.length!==t.length)return!1;let r=0;for(let a=0;a<e.length;a++)r|=e[a]^t[a];return r===0}const F6=(e,t)=>{function r(a,...l){if(Pt(a,void 0,"key"),!$6)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const x=l[0];Pt(x,e.varSizeNonce?void 0:e.nonceLength,"nonce")}const c=e.tagLength;c&&l[1]!==void 0&&Pt(l[1],void 0,"AAD");const d=t(a,...l),f=(x,g)=>{if(g!==void 0){if(x!==2)throw new Error("cipher output not supported");Pt(g,void 0,"output")}};let m=!1;return{encrypt(x,g){if(m)throw new Error("cannot encrypt() twice with same key + nonce");return m=!0,Pt(x),f(d.encrypt.length,g),d.encrypt(x,g)},decrypt(x,g){if(Pt(x),c&&x.length<c)throw new Error('"ciphertext" expected length bigger than tagLength='+c);return f(d.decrypt.length,g),d.decrypt(x,g)}}}return Object.assign(r,e),r};function Pb(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error('"output" expected Uint8Array of length '+e+", got: "+t.length);if(r&&!Y6(t))throw new Error("invalid output, must be aligned");return t}function Q6(e,t,r){xp(r);const a=new Uint8Array(16),l=P6(a);return l.setBigUint64(0,BigInt(t),r),l.setBigUint64(8,BigInt(e),r),a}function Y6(e){return e.byteOffset%4===0}function Rd(e){return Uint8Array.from(e)}function J6(e=32){const t=typeof globalThis=="object"?globalThis.crypto:null;if(typeof(t==null?void 0:t.getRandomValues)!="function")throw new Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}function cS(e,t=J6){const{nonceLength:r}=e;cd(r);const a=(l,c)=>{const d=G6(l,c);return c.fill(0),d};return(l,...c)=>({encrypt(d){Pt(d);const f=t(r),m=e(l,f,...c).encrypt(d);return m instanceof Promise?m.then(p=>a(f,p)):a(f,m)},decrypt(d){Pt(d);const f=d.subarray(0,r),m=d.subarray(r);return e(l,f,...c).decrypt(m)}})}const uS=e=>Uint8Array.from(e.split(""),t=>t.charCodeAt(0)),X6=uS("expand 16-byte k"),W6=uS("expand 32-byte k"),eU=ua(X6),tU=ua(W6);function ve(e,t){return e<<t|e>>>32-t}function vp(e){return e.byteOffset%4===0}const Xu=64,nU=16,dS=2**32-1,$b=Uint32Array.of();function rU(e,t,r,a,l,c,d,f){const m=l.length,p=new Uint8Array(Xu),x=ua(p),g=vp(l)&&vp(c),v=g?ua(l):$b,w=g?ua(c):$b;for(let b=0;b<m;d++){if(e(t,r,a,x,d,f),d>=dS)throw new Error("arx: counter overflow");const N=Math.min(Xu,m-b);if(g&&N===Xu){const k=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let R=0,M;R<nU;R++)M=k+R,w[M]=v[M]^x[R];b+=Xu;continue}for(let k=0,R;k<N;k++)R=b+k,c[R]=l[R]^p[k];b+=N}}function sU(e,t){const{allowShortKeys:r,extendNonceFn:a,counterLength:l,counterRight:c,rounds:d}=K6({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return cd(l),cd(d),xp(c),xp(r),(f,m,p,x,g=0)=>{Pt(f,void 0,"key"),Pt(m,void 0,"nonce"),Pt(p,void 0,"data");const v=p.length;if(x===void 0&&(x=new Uint8Array(v)),Pt(x,void 0,"output"),cd(g),g<0||g>=dS)throw new Error("arx: counter overflow");if(x.length<v)throw new Error(`arx: output (${x.length}) is shorter than data (${v})`);const w=[];let b=f.length,N,k;if(b===32)w.push(N=Rd(f)),k=tU;else if(b===16&&r)N=new Uint8Array(32),N.set(f),N.set(f,16),k=eU,w.push(N);else throw Pt(f,32,"arx key"),new Error("invalid key size");vp(m)||w.push(m=Rd(m));const R=ua(N);if(a){if(m.length!==24)throw new Error("arx: extended nonce must be 24 bytes");a(k,R,ua(m.subarray(0,16)),R),m=m.subarray(16)}const M=16-l;if(M!==m.length)throw new Error(`arx: nonce must be ${M} or 16 bytes`);if(M!==12){const T=new Uint8Array(12);T.set(m,c?0:12-m.length),m=T,w.push(m)}const U=ua(m);return rU(e,k,R,U,p,x,g,d),Mo(...w),x}}function Wt(e,t){return e[t++]&255|(e[t++]&255)<<8}class aU{constructor(t){Re(this,"blockLen",16);Re(this,"outputLen",16);Re(this,"buffer",new Uint8Array(16));Re(this,"r",new Uint16Array(10));Re(this,"h",new Uint16Array(10));Re(this,"pad",new Uint16Array(8));Re(this,"pos",0);Re(this,"finished",!1);t=Rd(Pt(t,32,"key"));const r=Wt(t,0),a=Wt(t,2),l=Wt(t,4),c=Wt(t,6),d=Wt(t,8),f=Wt(t,10),m=Wt(t,12),p=Wt(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|a<<3)&8191,this.r[2]=(a>>>10|l<<6)&7939,this.r[3]=(l>>>7|c<<9)&8191,this.r[4]=(c>>>4|d<<12)&255,this.r[5]=d>>>1&8190,this.r[6]=(d>>>14|f<<2)&8191,this.r[7]=(f>>>11|m<<5)&8065,this.r[8]=(m>>>8|p<<8)&8191,this.r[9]=p>>>5&127;for(let x=0;x<8;x++)this.pad[x]=Wt(t,16+2*x)}process(t,r,a=!1){const l=a?0:2048,{h:c,r:d}=this,f=d[0],m=d[1],p=d[2],x=d[3],g=d[4],v=d[5],w=d[6],b=d[7],N=d[8],k=d[9],R=Wt(t,r+0),M=Wt(t,r+2),U=Wt(t,r+4),T=Wt(t,r+6),B=Wt(t,r+8),z=Wt(t,r+10),J=Wt(t,r+12),K=Wt(t,r+14);let q=c[0]+(R&8191),L=c[1]+((R>>>13|M<<3)&8191),ie=c[2]+((M>>>10|U<<6)&8191),ue=c[3]+((U>>>7|T<<9)&8191),he=c[4]+((T>>>4|B<<12)&8191),de=c[5]+(B>>>1&8191),me=c[6]+((B>>>14|z<<2)&8191),D=c[7]+((z>>>11|J<<5)&8191),Q=c[8]+((J>>>8|K<<8)&8191),G=c[9]+(K>>>5|l),ee=0,E=ee+q*f+L*(5*k)+ie*(5*N)+ue*(5*b)+he*(5*w);ee=E>>>13,E&=8191,E+=de*(5*v)+me*(5*g)+D*(5*x)+Q*(5*p)+G*(5*m),ee+=E>>>13,E&=8191;let Z=ee+q*m+L*f+ie*(5*k)+ue*(5*N)+he*(5*b);ee=Z>>>13,Z&=8191,Z+=de*(5*w)+me*(5*v)+D*(5*g)+Q*(5*x)+G*(5*p),ee+=Z>>>13,Z&=8191;let ne=ee+q*p+L*m+ie*f+ue*(5*k)+he*(5*N);ee=ne>>>13,ne&=8191,ne+=de*(5*b)+me*(5*w)+D*(5*v)+Q*(5*g)+G*(5*x),ee+=ne>>>13,ne&=8191;let te=ee+q*x+L*p+ie*m+ue*f+he*(5*k);ee=te>>>13,te&=8191,te+=de*(5*N)+me*(5*b)+D*(5*w)+Q*(5*v)+G*(5*g),ee+=te>>>13,te&=8191;let le=ee+q*g+L*x+ie*p+ue*m+he*f;ee=le>>>13,le&=8191,le+=de*(5*k)+me*(5*N)+D*(5*b)+Q*(5*w)+G*(5*v),ee+=le>>>13,le&=8191;let ke=ee+q*v+L*g+ie*x+ue*p+he*m;ee=ke>>>13,ke&=8191,ke+=de*f+me*(5*k)+D*(5*N)+Q*(5*b)+G*(5*w),ee+=ke>>>13,ke&=8191;let be=ee+q*w+L*v+ie*g+ue*x+he*p;ee=be>>>13,be&=8191,be+=de*m+me*f+D*(5*k)+Q*(5*N)+G*(5*b),ee+=be>>>13,be&=8191;let Ee=ee+q*b+L*w+ie*v+ue*g+he*x;ee=Ee>>>13,Ee&=8191,Ee+=de*p+me*m+D*f+Q*(5*k)+G*(5*N),ee+=Ee>>>13,Ee&=8191;let Me=ee+q*N+L*b+ie*w+ue*v+he*g;ee=Me>>>13,Me&=8191,Me+=de*x+me*p+D*m+Q*f+G*(5*k),ee+=Me>>>13,Me&=8191;let at=ee+q*k+L*N+ie*b+ue*w+he*v;ee=at>>>13,at&=8191,at+=de*g+me*x+D*p+Q*m+G*f,ee+=at>>>13,at&=8191,ee=(ee<<2)+ee|0,ee=ee+E|0,E=ee&8191,ee=ee>>>13,Z+=ee,c[0]=E,c[1]=Z,c[2]=ne,c[3]=te,c[4]=le,c[5]=ke,c[6]=be,c[7]=Ee,c[8]=Me,c[9]=at}finalize(){const{h:t,pad:r}=this,a=new Uint16Array(10);let l=t[1]>>>13;t[1]&=8191;for(let f=2;f<10;f++)t[f]+=l,l=t[f]>>>13,t[f]&=8191;t[0]+=l*5,l=t[0]>>>13,t[0]&=8191,t[1]+=l,l=t[1]>>>13,t[1]&=8191,t[2]+=l,a[0]=t[0]+5,l=a[0]>>>13,a[0]&=8191;for(let f=1;f<10;f++)a[f]=t[f]+l,l=a[f]>>>13,a[f]&=8191;a[9]-=8192;let c=(l^1)-1;for(let f=0;f<10;f++)a[f]&=c;c=~c;for(let f=0;f<10;f++)t[f]=t[f]&c|a[f];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let d=t[0]+r[0];t[0]=d&65535;for(let f=1;f<8;f++)d=(t[f]+r[f]|0)+(d>>>16)|0,t[f]=d&65535;Mo(a)}update(t){zb(this),Pt(t),t=Rd(t);const{buffer:r,blockLen:a}=this,l=t.length;for(let c=0;c<l;){const d=Math.min(a-this.pos,l-c);if(d===a){for(;a<=l-c;c+=a)this.process(t,c);continue}r.set(t.subarray(c,c+d),this.pos),this.pos+=d,c+=d,this.pos===a&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Mo(this.h,this.r,this.buffer,this.pad)}digestInto(t){zb(this),L6(t,this),this.finished=!0;const{buffer:r,h:a}=this;let{pos:l}=this;if(l){for(r[l++]=1;l<16;l++)r[l]=0;this.process(r,0,!0)}this.finalize();let c=0;for(let d=0;d<8;d++)t[c++]=a[d]>>>0,t[c++]=a[d]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const a=t.slice(0,r);return this.destroy(),a}}function iU(e){const t=(a,l)=>e(l).update(a).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=a=>e(a),t}const oU=iU(e=>new aU(e));function lU(e,t,r,a,l,c=20){let d=e[0],f=e[1],m=e[2],p=e[3],x=t[0],g=t[1],v=t[2],w=t[3],b=t[4],N=t[5],k=t[6],R=t[7],M=l,U=r[0],T=r[1],B=r[2],z=d,J=f,K=m,q=p,L=x,ie=g,ue=v,he=w,de=b,me=N,D=k,Q=R,G=M,ee=U,E=T,Z=B;for(let te=0;te<c;te+=2)z=z+L|0,G=ve(G^z,16),de=de+G|0,L=ve(L^de,12),z=z+L|0,G=ve(G^z,8),de=de+G|0,L=ve(L^de,7),J=J+ie|0,ee=ve(ee^J,16),me=me+ee|0,ie=ve(ie^me,12),J=J+ie|0,ee=ve(ee^J,8),me=me+ee|0,ie=ve(ie^me,7),K=K+ue|0,E=ve(E^K,16),D=D+E|0,ue=ve(ue^D,12),K=K+ue|0,E=ve(E^K,8),D=D+E|0,ue=ve(ue^D,7),q=q+he|0,Z=ve(Z^q,16),Q=Q+Z|0,he=ve(he^Q,12),q=q+he|0,Z=ve(Z^q,8),Q=Q+Z|0,he=ve(he^Q,7),z=z+ie|0,Z=ve(Z^z,16),D=D+Z|0,ie=ve(ie^D,12),z=z+ie|0,Z=ve(Z^z,8),D=D+Z|0,ie=ve(ie^D,7),J=J+ue|0,G=ve(G^J,16),Q=Q+G|0,ue=ve(ue^Q,12),J=J+ue|0,G=ve(G^J,8),Q=Q+G|0,ue=ve(ue^Q,7),K=K+he|0,ee=ve(ee^K,16),de=de+ee|0,he=ve(he^de,12),K=K+he|0,ee=ve(ee^K,8),de=de+ee|0,he=ve(he^de,7),q=q+L|0,E=ve(E^q,16),me=me+E|0,L=ve(L^me,12),q=q+L|0,E=ve(E^q,8),me=me+E|0,L=ve(L^me,7);let ne=0;a[ne++]=d+z|0,a[ne++]=f+J|0,a[ne++]=m+K|0,a[ne++]=p+q|0,a[ne++]=x+L|0,a[ne++]=g+ie|0,a[ne++]=v+ue|0,a[ne++]=w+he|0,a[ne++]=b+de|0,a[ne++]=N+me|0,a[ne++]=k+D|0,a[ne++]=R+Q|0,a[ne++]=M+G|0,a[ne++]=U+ee|0,a[ne++]=T+E|0,a[ne++]=B+Z|0}function cU(e,t,r,a){let l=e[0],c=e[1],d=e[2],f=e[3],m=t[0],p=t[1],x=t[2],g=t[3],v=t[4],w=t[5],b=t[6],N=t[7],k=r[0],R=r[1],M=r[2],U=r[3];for(let B=0;B<20;B+=2)l=l+m|0,k=ve(k^l,16),v=v+k|0,m=ve(m^v,12),l=l+m|0,k=ve(k^l,8),v=v+k|0,m=ve(m^v,7),c=c+p|0,R=ve(R^c,16),w=w+R|0,p=ve(p^w,12),c=c+p|0,R=ve(R^c,8),w=w+R|0,p=ve(p^w,7),d=d+x|0,M=ve(M^d,16),b=b+M|0,x=ve(x^b,12),d=d+x|0,M=ve(M^d,8),b=b+M|0,x=ve(x^b,7),f=f+g|0,U=ve(U^f,16),N=N+U|0,g=ve(g^N,12),f=f+g|0,U=ve(U^f,8),N=N+U|0,g=ve(g^N,7),l=l+p|0,U=ve(U^l,16),b=b+U|0,p=ve(p^b,12),l=l+p|0,U=ve(U^l,8),b=b+U|0,p=ve(p^b,7),c=c+x|0,k=ve(k^c,16),N=N+k|0,x=ve(x^N,12),c=c+x|0,k=ve(k^c,8),N=N+k|0,x=ve(x^N,7),d=d+g|0,R=ve(R^d,16),v=v+R|0,g=ve(g^v,12),d=d+g|0,R=ve(R^d,8),v=v+R|0,g=ve(g^v,7),f=f+m|0,M=ve(M^f,16),w=w+M|0,m=ve(m^w,12),f=f+m|0,M=ve(M^f,8),w=w+M|0,m=ve(m^w,7);let T=0;a[T++]=l,a[T++]=c,a[T++]=d,a[T++]=f,a[T++]=k,a[T++]=R,a[T++]=M,a[T++]=U}const uU=sU(lU,{counterRight:!1,counterLength:8,extendNonceFn:cU,allowShortKeys:!1}),dU=new Uint8Array(16),Bb=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(dU.subarray(r))},fU=new Uint8Array(32);function qb(e,t,r,a,l){l!==void 0&&Pt(l,void 0,"AAD");const c=e(t,r,fU),d=Q6(a.length,l?l.length:0,!0),f=oU.create(c);l&&Bb(f,l),Bb(f,a),f.update(d);const m=f.digest();return Mo(c,d),m}const hU=e=>(t,r,a)=>({encrypt(c,d){const f=c.length;d=Pb(f+16,d,!1),d.set(c);const m=d.subarray(0,-16);e(t,r,m,m,1);const p=qb(e,t,r,m,a);return d.set(p,f),Mo(p),d},decrypt(c,d){d=Pb(c.length-16,d,!1);const f=c.subarray(0,-16),m=c.subarray(-16),p=qb(e,t,r,f,a);if(!Z6(m,p))throw new Error("invalid tag");return d.set(c.subarray(0,-16)),e(t,r,d,d,1),Mo(p),d}}),fS=F6({blockSize:64,nonceLength:24,tagLength:16},hU(uU)),Or=new TextEncoder,ys=new TextDecoder;function hS(...e){const t=e.reduce((l,{length:c})=>l+c,0),r=new Uint8Array(t);let a=0;for(const l of e)r.set(l,a),a+=l.length;return r}function mU(e){if(Uint8Array.prototype.toBase64)return e.toBase64();const t=32768,r=[];for(let a=0;a<e.length;a+=t)r.push(String.fromCharCode.apply(null,e.subarray(a,a+t)));return btoa(r.join(""))}function pU(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(e);const t=atob(e),r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}function ni(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof e=="string"?e:ys.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=ys.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return pU(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function Dm(e){let t=e;return typeof t=="string"&&(t=Or.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):mU(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class Sn extends Error{constructor(r,a){var l;super(r,a);Re(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(l=Error.captureStackTrace)==null||l.call(Error,this,this.constructor)}}Re(Sn,"code","ERR_JOSE_GENERIC");class ar extends Sn{constructor(r,a,l="unspecified",c="unspecified"){super(r,{cause:{claim:l,reason:c,payload:a}});Re(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");Re(this,"claim");Re(this,"reason");Re(this,"payload");this.claim=l,this.reason=c,this.payload=a}}Re(ar,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class Cd extends Sn{constructor(r,a,l="unspecified",c="unspecified"){super(r,{cause:{claim:l,reason:c,payload:a}});Re(this,"code","ERR_JWT_EXPIRED");Re(this,"claim");Re(this,"reason");Re(this,"payload");this.claim=l,this.reason=c,this.payload=a}}Re(Cd,"code","ERR_JWT_EXPIRED");class mS extends Sn{constructor(){super(...arguments);Re(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}Re(mS,"code","ERR_JOSE_ALG_NOT_ALLOWED");class ur extends Sn{constructor(){super(...arguments);Re(this,"code","ERR_JOSE_NOT_SUPPORTED")}}Re(ur,"code","ERR_JOSE_NOT_SUPPORTED");class xt extends Sn{constructor(){super(...arguments);Re(this,"code","ERR_JWS_INVALID")}}Re(xt,"code","ERR_JWS_INVALID");class cr extends Sn{constructor(){super(...arguments);Re(this,"code","ERR_JWT_INVALID")}}Re(cr,"code","ERR_JWT_INVALID");class ig extends Sn{constructor(){super(...arguments);Re(this,"code","ERR_JWKS_INVALID")}}Re(ig,"code","ERR_JWKS_INVALID");class og extends Sn{constructor(r="no applicable key found in the JSON Web Key Set",a){super(r,a);Re(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}Re(og,"code","ERR_JWKS_NO_MATCHING_KEY");var fw,hw;class pS extends(hw=Sn,fw=Symbol.asyncIterator,hw){constructor(r="multiple matching keys found in the JSON Web Key Set",a){super(r,a);Re(this,fw);Re(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}Re(pS,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class gS extends Sn{constructor(r="request timed out",a){super(r,a);Re(this,"code","ERR_JWKS_TIMEOUT")}}Re(gS,"code","ERR_JWKS_TIMEOUT");class yS extends Sn{constructor(r="signature verification failed",a){super(r,a);Re(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}Re(yS,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");function wr(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Wi(e,t){return e.name===t}function Um(e){return parseInt(e.name.slice(4),10)}function gU(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function yU(e,t){if(t&&!e.usages.includes(t))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${t}.`)}function xU(e,t,r){switch(t){case"HS256":case"HS384":case"HS512":{if(!Wi(e.algorithm,"HMAC"))throw wr("HMAC");const a=parseInt(t.slice(2),10);if(Um(e.algorithm.hash)!==a)throw wr(`SHA-${a}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Wi(e.algorithm,"RSASSA-PKCS1-v1_5"))throw wr("RSASSA-PKCS1-v1_5");const a=parseInt(t.slice(2),10);if(Um(e.algorithm.hash)!==a)throw wr(`SHA-${a}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Wi(e.algorithm,"RSA-PSS"))throw wr("RSA-PSS");const a=parseInt(t.slice(2),10);if(Um(e.algorithm.hash)!==a)throw wr(`SHA-${a}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!Wi(e.algorithm,"Ed25519"))throw wr("Ed25519");break}case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":{if(!Wi(e.algorithm,t))throw wr(t);break}case"ES256":case"ES384":case"ES512":{if(!Wi(e.algorithm,"ECDSA"))throw wr("ECDSA");const a=gU(t);if(e.algorithm.namedCurve!==a)throw wr(a,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}yU(e,r)}function xS(e,t,...r){var a;if(r=r.filter(Boolean),r.length>2){const l=r.pop();e+=`one of type ${r.join(", ")}, or ${l}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(a=t.constructor)!=null&&a.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const vU=(e,...t)=>xS("Key must be ",e,...t);function vS(e,t,...r){return xS(`Key for the ${e} algorithm must be `,t,...r)}function bS(e){return(e==null?void 0:e[Symbol.toStringTag])==="CryptoKey"}function wS(e){return(e==null?void 0:e[Symbol.toStringTag])==="KeyObject"}const SS=e=>bS(e)||wS(e),NS=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let r;for(const a of t){const l=Object.keys(a);if(!r||r.size===0){r=new Set(l);continue}for(const c of l){if(r.has(c))return!1;r.add(c)}}return!0};function bU(e){return typeof e=="object"&&e!==null}const mr=e=>{if(!bU(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},jS=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:r}=t.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function wU(e){let t,r;switch(e.kty){case"AKP":{switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new ur('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new ur('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new ur('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new ur('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new ur('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}const ud=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:r}=wU(e),a={...e};return a.kty!=="AKP"&&delete a.alg,delete a.use,crypto.subtle.importKey("jwk",a,t,e.ext??!(e.d||e.priv),e.key_ops??r)};async function lg(e,t,r){if(!mr(e))throw new TypeError("JWK must be an object");let a;switch(t??(t=e.alg),a??(a=e.ext),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return ni(e.k);case"RSA":if("oth"in e&&e.oth!==void 0)throw new ur('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return ud({...e,alg:t,ext:a});case"AKP":{if(typeof e.alg!="string"||!e.alg)throw new TypeError('missing "alg" (Algorithm) Parameter value');if(t!==void 0&&t!==e.alg)throw new TypeError("JWK alg and alg option value mismatch");return ud({...e,ext:a})}case"EC":case"OKP":return ud({...e,alg:t,ext:a});default:throw new ur('Unsupported "kty" (Key Type) Parameter value')}}const kS=(e,t,r,a,l)=>{if(l.crit!==void 0&&(a==null?void 0:a.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!a||a.crit===void 0)return new Set;if(!Array.isArray(a.crit)||a.crit.length===0||a.crit.some(d=>typeof d!="string"||d.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let c;r!==void 0?c=new Map([...Object.entries(r),...t.entries()]):c=t;for(const d of a.crit){if(!c.has(d))throw new ur(`Extension Header Parameter "${d}" is not recognized`);if(l[d]===void 0)throw new e(`Extension Header Parameter "${d}" is missing`);if(c.get(d)&&a[d]===void 0)throw new e(`Extension Header Parameter "${d}" MUST be integrity protected`)}return new Set(a.crit)},SU=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function cg(e){return mr(e)&&typeof e.kty=="string"}function NU(e){return e.kty!=="oct"&&(e.kty==="AKP"&&typeof e.priv=="string"||typeof e.d=="string")}function jU(e){return e.kty!=="oct"&&typeof e.d>"u"&&typeof e.priv>"u"}function kU(e){return e.kty==="oct"&&typeof e.k=="string"}let co;const Vb=async(e,t,r,a=!1)=>{co||(co=new WeakMap);let l=co.get(e);if(l!=null&&l[r])return l[r];const c=await ud({...t,alg:r});return a&&Object.freeze(e),l?l[r]=c:co.set(e,{[r]:c}),c},_U=(e,t)=>{var d;co||(co=new WeakMap);let r=co.get(e);if(r!=null&&r[t])return r[t];const a=e.type==="public",l=!!a;let c;if(e.asymmetricKeyType==="x25519"){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}c=e.toCryptoKey(e.asymmetricKeyType,l,a?[]:["deriveBits"])}if(e.asymmetricKeyType==="ed25519"){if(t!=="EdDSA"&&t!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");c=e.toCryptoKey(e.asymmetricKeyType,l,[a?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if(t!==e.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");c=e.toCryptoKey(e.asymmetricKeyType,l,[a?"verify":"sign"])}}if(e.asymmetricKeyType==="rsa"){let f;switch(t){case"RSA-OAEP":f="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":f="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":f="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":f="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:f},l,a?["encrypt"]:["decrypt"]);c=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:f},l,[a?"verify":"sign"])}if(e.asymmetricKeyType==="ec"){const m=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get((d=e.asymmetricKeyDetails)==null?void 0:d.namedCurve);if(!m)throw new TypeError("given KeyObject instance cannot be used for this algorithm");t==="ES256"&&m==="P-256"&&(c=e.toCryptoKey({name:"ECDSA",namedCurve:m},l,[a?"verify":"sign"])),t==="ES384"&&m==="P-384"&&(c=e.toCryptoKey({name:"ECDSA",namedCurve:m},l,[a?"verify":"sign"])),t==="ES512"&&m==="P-521"&&(c=e.toCryptoKey({name:"ECDSA",namedCurve:m},l,[a?"verify":"sign"])),t.startsWith("ECDH-ES")&&(c=e.toCryptoKey({name:"ECDH",namedCurve:m},l,a?[]:["deriveBits"]))}if(!c)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return r?r[t]=c:co.set(e,{[t]:c}),c},_S=async(e,t)=>{if(e instanceof Uint8Array||bS(e))return e;if(wS(e)){if(e.type==="secret")return e.export();if("toCryptoKey"in e&&typeof e.toCryptoKey=="function")try{return _U(e,t)}catch(a){if(a instanceof TypeError)throw a}let r=e.export({format:"jwk"});return Vb(e,r,t)}if(cg(e))return e.k?ni(e.k):Vb(e,e,t,!0);throw new Error("unreachable")},to=e=>e==null?void 0:e[Symbol.toStringTag],bp=(e,t,r)=>{var a,l;if(t.use!==void 0){let c;switch(r){case"sign":case"verify":c="sig";break;case"encrypt":case"decrypt":c="enc";break}if(t.use!==c)throw new TypeError(`Invalid key for this operation, its "use" must be "${c}" when present`)}if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let c;switch(!0){case(r==="sign"||r==="verify"):case e==="dir":case e.includes("CBC-HS"):c=r;break;case e.startsWith("PBES2"):c="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):!e.includes("GCM")&&e.endsWith("KW")?c=r==="encrypt"?"wrapKey":"unwrapKey":c=r;break;case(r==="encrypt"&&e.startsWith("RSA")):c="wrapKey";break;case r==="decrypt":c=e.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(c&&((l=(a=t.key_ops)==null?void 0:a.includes)==null?void 0:l.call(a,c))===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${c}" when present`)}return!0},EU=(e,t,r)=>{if(!(t instanceof Uint8Array)){if(cg(t)){if(kU(t)&&bp(e,t,r))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!SS(t))throw new TypeError(vS(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(t.type!=="secret")throw new TypeError(`${to(t)} instances for symmetric algorithms must be of type "secret"`)}},AU=(e,t,r)=>{if(cg(t))switch(r){case"decrypt":case"sign":if(NU(t)&&bp(e,t,r))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(jU(t)&&bp(e,t,r))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!SS(t))throw new TypeError(vS(e,t,"CryptoKey","KeyObject","JSON Web Key"));if(t.type==="secret")throw new TypeError(`${to(t)} instances for asymmetric algorithms must not be of type "secret"`);if(t.type==="public")switch(r){case"sign":throw new TypeError(`${to(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${to(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if(t.type==="private")switch(r){case"verify":throw new TypeError(`${to(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${to(t)} instances for asymmetric algorithm encryption must be of type "public"`)}},ES=(e,t,r)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(e)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(e)?EU(e,t,r):AU(e,t,r)},AS=(e,t)=>{const r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:e};default:throw new ur(`alg ${e} is not supported either by JOSE or your javascript runtime`)}},TS=async(e,t,r)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(vU(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}return xU(t,e,r),t},TU=async(e,t,r,a)=>{const l=await TS(e,t,"verify");jS(e,l);const c=AS(e,l.algorithm);try{return await crypto.subtle.verify(c,l,r,a)}catch{return!1}};async function RU(e,t,r){if(!mr(e))throw new xt("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new xt('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new xt("JWS Protected Header incorrect type");if(e.payload===void 0)throw new xt("JWS Payload missing");if(typeof e.signature!="string")throw new xt("JWS Signature missing or incorrect type");if(e.header!==void 0&&!mr(e.header))throw new xt("JWS Unprotected Header incorrect type");let a={};if(e.protected)try{const k=ni(e.protected);a=JSON.parse(ys.decode(k))}catch{throw new xt("JWS Protected Header is invalid")}if(!NS(a,e.header))throw new xt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const l={...a,...e.header},c=kS(xt,new Map([["b64",!0]]),r==null?void 0:r.crit,a,l);let d=!0;if(c.has("b64")&&(d=a.b64,typeof d!="boolean"))throw new xt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:f}=l;if(typeof f!="string"||!f)throw new xt('JWS "alg" (Algorithm) Header Parameter missing or invalid');const m=r&&SU("algorithms",r.algorithms);if(m&&!m.has(f))throw new mS('"alg" (Algorithm) Header Parameter value not allowed');if(d){if(typeof e.payload!="string")throw new xt("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new xt("JWS Payload must be a string or an Uint8Array instance");let p=!1;typeof t=="function"&&(t=await t(a,e),p=!0),ES(f,t,"verify");const x=hS(Or.encode(e.protected??""),Or.encode("."),typeof e.payload=="string"?Or.encode(e.payload):e.payload);let g;try{g=ni(e.signature)}catch{throw new xt("Failed to base64url decode the signature")}const v=await _S(t,f);if(!await TU(f,v,g,x))throw new yS;let b;if(d)try{b=ni(e.payload)}catch{throw new xt("Failed to base64url decode the payload")}else typeof e.payload=="string"?b=Or.encode(e.payload):b=e.payload;const N={payload:b};return e.protected!==void 0&&(N.protectedHeader=a),e.header!==void 0&&(N.unprotectedHeader=e.header),p?{...N,key:v}:N}async function CU(e,t,r){if(e instanceof Uint8Array&&(e=ys.decode(e)),typeof e!="string")throw new xt("Compact JWS must be a string or Uint8Array");const{0:a,1:l,2:c,length:d}=e.split(".");if(d!==3)throw new xt("Invalid Compact JWS");const f=await RU({payload:l,protected:a,signature:c},t,r),m={payload:f.payload,protectedHeader:f.protectedHeader};return typeof t=="function"?{...m,key:f.key}:m}const Zs=e=>Math.floor(e.getTime()/1e3),RS=60,CS=RS*60,ug=CS*24,OU=ug*7,DU=ug*365.25,UU=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,nc=e=>{const t=UU.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const r=parseFloat(t[2]),a=t[3].toLowerCase();let l;switch(a){case"sec":case"secs":case"second":case"seconds":case"s":l=Math.round(r);break;case"minute":case"minutes":case"min":case"mins":case"m":l=Math.round(r*RS);break;case"hour":case"hours":case"hr":case"hrs":case"h":l=Math.round(r*CS);break;case"day":case"days":case"d":l=Math.round(r*ug);break;case"week":case"weeks":case"w":l=Math.round(r*OU);break;default:l=Math.round(r*DU);break}return t[1]==="-"||t[4]==="ago"?-l:l};function Ba(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}const Hb=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`,IU=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1;function MU(e,t,r={}){let a;try{a=JSON.parse(ys.decode(t))}catch{}if(!mr(a))throw new cr("JWT Claims Set must be a top-level JSON object");const{typ:l}=r;if(l&&(typeof e.typ!="string"||Hb(e.typ)!==Hb(l)))throw new ar('unexpected "typ" JWT header value',a,"typ","check_failed");const{requiredClaims:c=[],issuer:d,subject:f,audience:m,maxTokenAge:p}=r,x=[...c];p!==void 0&&x.push("iat"),m!==void 0&&x.push("aud"),f!==void 0&&x.push("sub"),d!==void 0&&x.push("iss");for(const b of new Set(x.reverse()))if(!(b in a))throw new ar(`missing required "${b}" claim`,a,b,"missing");if(d&&!(Array.isArray(d)?d:[d]).includes(a.iss))throw new ar('unexpected "iss" claim value',a,"iss","check_failed");if(f&&a.sub!==f)throw new ar('unexpected "sub" claim value',a,"sub","check_failed");if(m&&!IU(a.aud,typeof m=="string"?[m]:m))throw new ar('unexpected "aud" claim value',a,"aud","check_failed");let g;switch(typeof r.clockTolerance){case"string":g=nc(r.clockTolerance);break;case"number":g=r.clockTolerance;break;case"undefined":g=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:v}=r,w=Zs(v||new Date);if((a.iat!==void 0||p)&&typeof a.iat!="number")throw new ar('"iat" claim must be a number',a,"iat","invalid");if(a.nbf!==void 0){if(typeof a.nbf!="number")throw new ar('"nbf" claim must be a number',a,"nbf","invalid");if(a.nbf>w+g)throw new ar('"nbf" claim timestamp check failed',a,"nbf","check_failed")}if(a.exp!==void 0){if(typeof a.exp!="number")throw new ar('"exp" claim must be a number',a,"exp","invalid");if(a.exp<=w-g)throw new Cd('"exp" claim timestamp check failed',a,"exp","check_failed")}if(p){const b=w-a.iat,N=typeof p=="number"?p:nc(p);if(b-g>N)throw new Cd('"iat" claim timestamp check failed (too far in the past)',a,"iat","check_failed");if(b<0-g)throw new ar('"iat" claim timestamp check failed (it should be in the past)',a,"iat","check_failed")}return a}var Nt;class zU{constructor(t){ce(this,Nt);if(!mr(t))throw new TypeError("JWT Claims Set MUST be an object");re(this,Nt,structuredClone(t))}data(){return Or.encode(JSON.stringify(_(this,Nt)))}get iss(){return _(this,Nt).iss}set iss(t){_(this,Nt).iss=t}get sub(){return _(this,Nt).sub}set sub(t){_(this,Nt).sub=t}get aud(){return _(this,Nt).aud}set aud(t){_(this,Nt).aud=t}set jti(t){_(this,Nt).jti=t}set nbf(t){typeof t=="number"?_(this,Nt).nbf=Ba("setNotBefore",t):t instanceof Date?_(this,Nt).nbf=Ba("setNotBefore",Zs(t)):_(this,Nt).nbf=Zs(new Date)+nc(t)}set exp(t){typeof t=="number"?_(this,Nt).exp=Ba("setExpirationTime",t):t instanceof Date?_(this,Nt).exp=Ba("setExpirationTime",Zs(t)):_(this,Nt).exp=Zs(new Date)+nc(t)}set iat(t){typeof t>"u"?_(this,Nt).iat=Zs(new Date):t instanceof Date?_(this,Nt).iat=Ba("setIssuedAt",Zs(t)):typeof t=="string"?_(this,Nt).iat=Ba("setIssuedAt",Zs(new Date)+nc(t)):_(this,Nt).iat=Ba("setIssuedAt",t)}}Nt=new WeakMap;async function Kd(e,t,r){var d;const a=await CU(e,t,r);if((d=a.protectedHeader.crit)!=null&&d.includes("b64")&&a.protectedHeader.b64===!1)throw new cr("JWTs MUST NOT use unencoded payload");const c={payload:MU(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return typeof t=="function"?{...c,key:a.key}:c}const LU=async(e,t,r)=>{const a=await TS(e,t,"sign");jS(e,a);const l=await crypto.subtle.sign(AS(e,a.algorithm),a,r);return new Uint8Array(l)};var dc,Dn,_r;class PU{constructor(t){ce(this,dc);ce(this,Dn);ce(this,_r);if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");re(this,dc,t)}setProtectedHeader(t){if(_(this,Dn))throw new TypeError("setProtectedHeader can only be called once");return re(this,Dn,t),this}setUnprotectedHeader(t){if(_(this,_r))throw new TypeError("setUnprotectedHeader can only be called once");return re(this,_r,t),this}async sign(t,r){if(!_(this,Dn)&&!_(this,_r))throw new xt("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!NS(_(this,Dn),_(this,_r)))throw new xt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={..._(this,Dn),..._(this,_r)},l=kS(xt,new Map([["b64",!0]]),r==null?void 0:r.crit,_(this,Dn),a);let c=!0;if(l.has("b64")&&(c=_(this,Dn).b64,typeof c!="boolean"))throw new xt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:d}=a;if(typeof d!="string"||!d)throw new xt('JWS "alg" (Algorithm) Header Parameter missing or invalid');ES(d,t,"sign");let f=_(this,dc);c&&(f=Or.encode(Dm(f)));let m;_(this,Dn)?m=Or.encode(Dm(JSON.stringify(_(this,Dn)))):m=Or.encode("");const p=hS(m,Or.encode("."),f),x=await _S(t,d),g=await LU(d,x,p),v={signature:Dm(g),payload:""};return c&&(v.payload=ys.decode(f)),_(this,_r)&&(v.header=_(this,_r)),_(this,Dn)&&(v.protected=ys.decode(m)),v}}dc=new WeakMap,Dn=new WeakMap,_r=new WeakMap;var No;class $U{constructor(t){ce(this,No);re(this,No,new PU(t))}setProtectedHeader(t){return _(this,No).setProtectedHeader(t),this}async sign(t,r){const a=await _(this,No).sign(t,r);if(a.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${a.protected}.${a.payload}.${a.signature}`}}No=new WeakMap;var sa,Yn;class BU{constructor(t={}){ce(this,sa);ce(this,Yn);re(this,Yn,new zU(t))}setIssuer(t){return _(this,Yn).iss=t,this}setSubject(t){return _(this,Yn).sub=t,this}setAudience(t){return _(this,Yn).aud=t,this}setJti(t){return _(this,Yn).jti=t,this}setNotBefore(t){return _(this,Yn).nbf=t,this}setExpirationTime(t){return _(this,Yn).exp=t,this}setIssuedAt(t){return _(this,Yn).iat=t,this}setProtectedHeader(t){return re(this,sa,t),this}async sign(t,r){var l;const a=new $U(_(this,Yn).data());if(a.setProtectedHeader(_(this,sa)),Array.isArray((l=_(this,sa))==null?void 0:l.crit)&&_(this,sa).crit.includes("b64")&&_(this,sa).b64===!1)throw new cr("JWTs MUST NOT use unencoded payload");return a.sign(t,r)}}sa=new WeakMap,Yn=new WeakMap;function qU(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new ur('Unsupported "alg" value for a JSON Web Key Set')}}function VU(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(HU)}function HU(e){return mr(e)}var jo,fc;class GU{constructor(t){ce(this,jo);ce(this,fc,new WeakMap);if(!VU(t))throw new ig("JSON Web Key Set malformed");re(this,jo,structuredClone(t))}jwks(){return _(this,jo)}async getKey(t,r){const{alg:a,kid:l}={...t,...r==null?void 0:r.header},c=qU(a),d=_(this,jo).keys.filter(p=>{let x=c===p.kty;if(x&&typeof l=="string"&&(x=l===p.kid),x&&(typeof p.alg=="string"||c==="AKP")&&(x=a===p.alg),x&&typeof p.use=="string"&&(x=p.use==="sig"),x&&Array.isArray(p.key_ops)&&(x=p.key_ops.includes("verify")),x)switch(a){case"ES256":x=p.crv==="P-256";break;case"ES384":x=p.crv==="P-384";break;case"ES512":x=p.crv==="P-521";break;case"Ed25519":case"EdDSA":x=p.crv==="Ed25519";break}return x}),{0:f,length:m}=d;if(m===0)throw new og;if(m!==1){const p=new pS,x=_(this,fc);throw p[Symbol.asyncIterator]=async function*(){for(const g of d)try{yield await Gb(x,g,a)}catch{}},p}return Gb(_(this,fc),f,a)}}jo=new WeakMap,fc=new WeakMap;async function Gb(e,t,r){const a=e.get(t)||e.set(t,{}).get(t);if(a[r]===void 0){const l=await lg({...t,ext:!0},r);if(l instanceof Uint8Array||l.type!=="public")throw new ig("JSON Web Key Set members must be public keys");a[r]=l}return a[r]}function Kb(e){const t=new GU(e),r=async(a,l)=>t.getKey(a,l);return Object.defineProperties(r,{jwks:{value:()=>structuredClone(t.jwks()),enumerable:!1,configurable:!1,writable:!1}}),r}function KU(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let wp;var td,mw;(typeof navigator>"u"||!((mw=(td=navigator.userAgent)==null?void 0:td.startsWith)!=null&&mw.call(td,"Mozilla/5.0 ")))&&(wp="jose/v6.1.0");const ZU=Symbol();async function FU(e,t,r,a=fetch){const l=await a(e,{method:"GET",signal:r,redirect:"manual",headers:t}).catch(c=>{throw c.name==="TimeoutError"?new gS:c});if(l.status!==200)throw new Sn("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await l.json()}catch{throw new Sn("Failed to parse the JSON Web Key Set HTTP response as JSON")}}const Im=Symbol();function QU(e,t){return!(typeof e!="object"||e===null||!("uat"in e)||typeof e.uat!="number"||Date.now()-e.uat>=t||!("jwks"in e)||!mr(e.jwks)||!Array.isArray(e.jwks.keys)||!Array.prototype.every.call(e.jwks.keys,mr))}var hc,mc,pc,ko,cs,Er,Ar,gc,us,ds;class YU{constructor(t,r){ce(this,hc);ce(this,mc);ce(this,pc);ce(this,ko);ce(this,cs);ce(this,Er);ce(this,Ar);ce(this,gc);ce(this,us);ce(this,ds);if(!(t instanceof URL))throw new TypeError("url must be an instance of URL");re(this,hc,new URL(t.href)),re(this,mc,typeof(r==null?void 0:r.timeoutDuration)=="number"?r==null?void 0:r.timeoutDuration:5e3),re(this,pc,typeof(r==null?void 0:r.cooldownDuration)=="number"?r==null?void 0:r.cooldownDuration:3e4),re(this,ko,typeof(r==null?void 0:r.cacheMaxAge)=="number"?r==null?void 0:r.cacheMaxAge:6e5),re(this,Ar,new Headers(r==null?void 0:r.headers)),wp&&!_(this,Ar).has("User-Agent")&&_(this,Ar).set("User-Agent",wp),_(this,Ar).has("accept")||(_(this,Ar).set("accept","application/json"),_(this,Ar).append("accept","application/jwk-set+json")),re(this,gc,r==null?void 0:r[ZU]),(r==null?void 0:r[Im])!==void 0&&(re(this,ds,r==null?void 0:r[Im]),QU(r==null?void 0:r[Im],_(this,ko))&&(re(this,cs,_(this,ds).uat),re(this,us,Kb(_(this,ds).jwks))))}pendingFetch(){return!!_(this,Er)}coolingDown(){return typeof _(this,cs)=="number"?Date.now()<_(this,cs)+_(this,pc):!1}fresh(){return typeof _(this,cs)=="number"?Date.now()<_(this,cs)+_(this,ko):!1}jwks(){var t;return(t=_(this,us))==null?void 0:t.jwks()}async getKey(t,r){(!_(this,us)||!this.fresh())&&await this.reload();try{return await _(this,us).call(this,t,r)}catch(a){if(a instanceof og&&this.coolingDown()===!1)return await this.reload(),_(this,us).call(this,t,r);throw a}}async reload(){_(this,Er)&&KU()&&re(this,Er,void 0),_(this,Er)||re(this,Er,FU(_(this,hc).href,_(this,Ar),AbortSignal.timeout(_(this,mc)),_(this,gc)).then(t=>{re(this,us,Kb(t)),_(this,ds)&&(_(this,ds).uat=Date.now(),_(this,ds).jwks=t),re(this,cs,Date.now()),re(this,Er,void 0)}).catch(t=>{throw re(this,Er,void 0),t})),await _(this,Er)}}hc=new WeakMap,mc=new WeakMap,pc=new WeakMap,ko=new WeakMap,cs=new WeakMap,Er=new WeakMap,Ar=new WeakMap,gc=new WeakMap,us=new WeakMap,ds=new WeakMap;function JU(e,t){const r=new YU(e,t),a=async(l,c)=>r.getKey(l,c);return Object.defineProperties(a,{coolingDown:{get:()=>r.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>r.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>r.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>r.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>r.jwks(),enumerable:!0,configurable:!1,writable:!1}}),a}function OS(e){let t;if(typeof e=="string"){const r=e.split(".");(r.length===3||r.length===5)&&([t]=r)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw new Error;const r=JSON.parse(ys.decode(ni(t)));if(!mr(r))throw new Error;return r}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function xa(e){if(typeof e!="string")throw new cr("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(r===5)throw new cr("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new cr("Invalid JWT");if(!t)throw new cr("JWTs must contain a payload");let a;try{a=ni(t)}catch{throw new cr("Failed to base64url decode the payload")}let l;try{l=JSON.parse(ys.decode(a))}catch{throw new cr("Failed to parse the decoded payload as JSON")}if(!mr(l))throw new cr("Invalid JWT Claims Set");return l}function Zb(e){switch(e){case"a-z":return"abcdefghijklmnopqrstuvwxyz";case"A-Z":return"ABCDEFGHIJKLMNOPQRSTUVWXYZ";case"0-9":return"0123456789";case"-_":return"-_";default:throw new Error(`Unsupported alphabet: ${e}`)}}function DS(...e){const t=e.map(Zb).join("");if(t.length===0)throw new Error("No valid characters provided for random string generation.");const r=t.length;return(a,...l)=>{if(a<=0)throw new Error("Length must be a positive integer.");let c=t,d=r;l.length>0&&(c=l.map(Zb).join(""),d=c.length);const f=Math.floor(256/d)*d,m=new Uint8Array(a*2),p=m.length;let x="",g=p,v;for(;x.length<a;)g>=p&&(crypto.getRandomValues(m),g=0),v=m[g++],v<f&&(x+=c[v%d]);return x}}const Sp=DS("a-z","0-9","A-Z","-_");async function XU(e,t,r=3600){return await new BU(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+r).sign(new TextEncoder().encode(t))}const WU=async({key:e,data:t})=>{const r=await ag("SHA-256").digest(e),a=H6(t),l=cS(fS)(new Uint8Array(r));return q6(l.encrypt(a))},e3=async({key:e,data:t})=>{const r=await ag("SHA-256").digest(e),a=V6(t),l=cS(fS)(new Uint8Array(r));return new TextDecoder().decode(l.decrypt(a))},US=e=>DS("a-z","A-Z","0-9")(e),Zd=rt({id:oe(),createdAt:Do().default(()=>new Date),updatedAt:Do().default(()=>new Date)});Zd.extend({providerId:oe(),accountId:oe(),userId:tg(),accessToken:oe().nullish(),refreshToken:oe().nullish(),idToken:oe().nullish(),accessTokenExpiresAt:Do().nullish(),refreshTokenExpiresAt:Do().nullish(),scope:oe().nullish(),password:oe().nullish()});Zd.extend({email:oe().transform(e=>e.toLowerCase()),emailVerified:ma().default(!1),name:oe(),image:oe().nullish()});Zd.extend({userId:tg(),expiresAt:Do(),token:oe(),ipAddress:oe().nullish(),userAgent:oe().nullish()});Zd.extend({value:oe(),expiresAt:Do(),identifier:oe()});function Np(e){return e==="-"||e==="^"||e==="$"||e==="+"||e==="."||e==="("||e===")"||e==="|"||e==="["||e==="]"||e==="{"||e==="}"||e==="*"||e==="?"||e==="\\"?`\\${e}`:e}function t3(e){let t="";for(let r=0;r<e.length;r++)t+=Np(e[r]);return t}function IS(e,t=!0){if(Array.isArray(e))return`(?:${e.map(x=>`^${IS(x,t)}$`).join("|")})`;let r="",a="",l=".";t===!0?(r="/",a="[/\\\\]",l="[^/\\\\]"):t&&(r=t,a=t3(r),a.length>1?(a=`(?:${a})`,l=`((?!${a}).)`):l=`[^${a}]`);let c=t?`${a}+?`:"",d=t?`${a}*?`:"",f=t?e.split(r):[e],m="";for(let p=0;p<f.length;p++){let x=f[p],g=f[p+1],v="";if(!(!x&&p>0)){if(t&&(p===f.length-1?v=d:g!=="**"?v=c:v=""),t&&x==="**"){v&&(m+=p===0?"":v,m+=`(?:${l}*?${v})*?`);continue}for(let w=0;w<x.length;w++){let b=x[w];b==="\\"?w<x.length-1&&(m+=Np(x[w+1]),w++):b==="?"?m+=l:b==="*"?m+=`${l}*?`:m+=Np(b)}m+=v}}return m}function n3(e,t){if(typeof t!="string")throw new TypeError(`Sample must be a string, but ${typeof t} given`);return e.test(t)}function Od(e,t){if(typeof e!="string"&&!Array.isArray(e))throw new TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof e} given`);if((typeof t=="string"||typeof t=="boolean")&&(t={separator:t}),arguments.length===2&&!(typeof t>"u"||typeof t=="object"&&t!==null&&!Array.isArray(t)))throw new TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof t} given`);if(t=t||{},t.separator==="\\")throw new Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let r=IS(e,t.separator),a=new RegExp(`^${r}$`,t.flags),l=n3.bind(null,a);return l.options=t,l.pattern=e,l.regexp=a,l}qo(async e=>{var w,b,N,k,R,M,U;if(((w=e.request)==null?void 0:w.method)!=="POST"||!e.request)return;const{body:t,query:r,context:a}=e,l=((b=e.headers)==null?void 0:b.get("origin"))||((N=e.headers)==null?void 0:N.get("referer"))||"",c=(t==null?void 0:t.callbackURL)||(r==null?void 0:r.callbackURL),d=t==null?void 0:t.redirectTo,f=t==null?void 0:t.errorCallbackURL,m=t==null?void 0:t.newUserCallbackURL,p=Array.isArray(a.options.trustedOrigins)?a.trustedOrigins:[...a.trustedOrigins,...await((R=(k=a.options).trustedOrigins)==null?void 0:R.call(k,e.request))||[]],x=(M=e.headers)==null?void 0:M.has("cookie"),g=(T,B)=>{if(T.startsWith("/"))return!1;if(B.includes("*"))return B.includes("://")?Od(B)(Nd(T)||T):Od(B)(g1(T));const z=p1(T);return z==="http:"||z==="https:"||!z?B===Nd(T):T.startsWith(B)},v=(T,B)=>{if(!T)return;if(!p.some(J=>g(T,J)||(T==null?void 0:T.startsWith("/"))&&B!=="origin"&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(T)))throw e.context.logger.error(`Invalid ${B}: ${T}`),e.context.logger.info(`If it's a valid URL, please add ${T} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${p}`),new se("FORBIDDEN",{message:`Invalid ${B}`})};x&&!((U=e.context.options.advanced)!=null&&U.disableCSRFCheck)&&v(l,"origin"),c&&v(c,"callbackURL"),d&&v(d,"redirectURL"),f&&v(f,"errorCallbackURL"),m&&v(m,"newUserCallbackURL")});const dg=e=>qo(async t=>{var m,p;if(!t.request)return;const{context:r}=t,a=e(t),l=Array.isArray(r.options.trustedOrigins)?r.trustedOrigins:[...r.trustedOrigins,...await((p=(m=r.options).trustedOrigins)==null?void 0:p.call(m,t.request))||[]],c=(x,g)=>{if(x.startsWith("/"))return!1;if(g.includes("*"))return g.includes("://")?Od(g)(Nd(x)||x):Od(g)(g1(x));const v=p1(x);return v==="http:"||v==="https:"||!v?g===Nd(x):x.startsWith(g)},d=(x,g)=>{if(!x)return;if(!l.some(w=>c(x,w)||(x==null?void 0:x.startsWith("/"))&&g!=="origin"&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(x)))throw t.context.logger.error(`Invalid ${g}: ${x}`),t.context.logger.info(`If it's a valid URL, please add ${x} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${l}`),new se("FORBIDDEN",{message:`Invalid ${g}`})},f=Array.isArray(a)?a:[a];for(const x of f)d(x,"callbackURL")});async function zo(e,t,r,a=3600){return await XU({email:t.toLowerCase(),updateTo:r},e,a)}async function Fb(e,t){var l,c;if(!((l=e.context.options.emailVerification)!=null&&l.sendVerificationEmail))throw e.context.logger.error("Verification email isn't enabled."),new se("BAD_REQUEST",{message:"Verification email isn't enabled"});const r=await zo(e.context.secret,t.email,void 0,(c=e.context.options.emailVerification)==null?void 0:c.expiresIn),a=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:t,url:a,token:r},e.request)}ot("/send-verification-email",{method:"POST",body:rt({email:eg().meta({description:"The email to send the verification email to"}),callbackURL:oe().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async e=>{var a;if(!((a=e.context.options.emailVerification)!=null&&a.sendVerificationEmail))throw e.context.logger.error("Verification email isn't enabled."),new se("BAD_REQUEST",{message:"Verification email isn't enabled"});const{email:t}=e.body,r=await zr(e);if(!r){const l=await e.context.internalAdapter.findUserByEmail(t);return l?(await Fb(e,l.user),e.json({status:!0})):e.json({status:!0})}if(r!=null&&r.user.emailVerified)throw new se("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if((r==null?void 0:r.user.email)!==t)throw new se("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await Fb(e,r.user),e.json({status:!0})});ot("/verify-email",{method:"GET",query:rt({token:oe().meta({description:"The token to verify the email"}),callbackURL:oe().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[dg(e=>e.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string",description:"User ID"},email:{type:"string",description:"User email"},name:{type:"string",description:"User name"},image:{type:"string",description:"User image URL"},emailVerified:{type:"boolean",description:"Indicates if the user email is verified"},createdAt:{type:"string",description:"User creation date"},updatedAt:{type:"string",description:"User update date"}},required:["id","email","name","image","emailVerified","createdAt","updatedAt"]},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async e=>{var m,p,x,g,v;function t(w){throw e.query.callbackURL?e.query.callbackURL.includes("?")?e.redirect(`${e.query.callbackURL}&error=${w}`):e.redirect(`${e.query.callbackURL}?error=${w}`):new se("UNAUTHORIZED",{message:w})}const{token:r}=e.query;let a;try{a=await Kd(r,new TextEncoder().encode(e.context.secret),{algorithms:["HS256"]})}catch(w){return w instanceof Cd?t("token_expired"):t("invalid_token")}const c=rt({email:oe().email(),updateTo:oe().optional()}).parse(a.payload),d=await e.context.internalAdapter.findUserByEmail(c.email);if(!d)return t("user_not_found");if(c.updateTo){const w=await zr(e);if(!w){if(e.query.callbackURL)throw e.redirect(`${e.query.callbackURL}?error=unauthorized`);return t("unauthorized")}if(w.user.email!==c.email){if(e.query.callbackURL)throw e.redirect(`${e.query.callbackURL}?error=unauthorized`);return t("unauthorized")}const b=await e.context.internalAdapter.updateUserByEmail(c.email,{email:c.updateTo,emailVerified:!1},e),N=await zo(e.context.secret,c.updateTo);if(await((p=(m=e.context.options.emailVerification)==null?void 0:m.sendVerificationEmail)==null?void 0:p.call(m,{user:b,url:`${e.context.baseURL}/verify-email?token=${N}&callbackURL=${e.query.callbackURL||"/"}`,token:N},e.request)),await ms(e,{session:w.session,user:{...w.user,email:c.updateTo,emailVerified:!1}}),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:{id:b.id,email:b.email,name:b.name,image:b.image,emailVerified:b.emailVerified,createdAt:b.createdAt,updatedAt:b.updatedAt}})}(x=e.context.options.emailVerification)!=null&&x.onEmailVerification&&await e.context.options.emailVerification.onEmailVerification(d.user,e.request);const f=await e.context.internalAdapter.updateUserByEmail(c.email,{emailVerified:!0},e);if((g=e.context.options.emailVerification)!=null&&g.afterEmailVerification&&await e.context.options.emailVerification.afterEmailVerification(f,e.request),(v=e.context.options.emailVerification)!=null&&v.autoSignInAfterVerification){const w=await zr(e);if(!w||w.user.email!==c.email){const b=await e.context.internalAdapter.createSession(d.user.id,e);if(!b)throw new se("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await ms(e,{session:b,user:{...d.user,emailVerified:!0}})}else await ms(e,{session:w.session,user:{...w.user,emailVerified:!0}})}if(e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:null})});const fg={isAction:!1};async function MS(e,t){var m,p,x,g;const r=((m=e.body)==null?void 0:m.callbackURL)||e.context.options.baseURL;if(!r)throw new se("BAD_REQUEST",{message:"callbackURL is required"});const a=Sp(128),l=Sp(32),c=JSON.stringify({callbackURL:r,codeVerifier:a,errorURL:(p=e.body)==null?void 0:p.errorCallbackURL,newUserURL:(x=e.body)==null?void 0:x.newUserCallbackURL,link:t,expiresAt:Date.now()+10*60*1e3,requestSignUp:(g=e.body)==null?void 0:g.requestSignUp}),d=new Date;d.setMinutes(d.getMinutes()+10);const f=await e.context.internalAdapter.createVerificationValue({value:c,identifier:l,expiresAt:d},e);if(!f)throw e.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new se("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:f.identifier,codeVerifier:a}}async function r3(e){var l,c;const t=e.query.state||e.body.state,r=await e.context.internalAdapter.findVerificationValue(t);if(!r){e.context.logger.error("State Mismatch. Verification not found",{state:t});const d=((l=e.context.options.onAPIError)==null?void 0:l.errorURL)||`${e.context.baseURL}/error`;throw e.redirect(`${d}?error=please_restart_the_process`)}const a=rt({callbackURL:oe(),codeVerifier:oe(),errorURL:oe().optional(),newUserURL:oe().optional(),expiresAt:V1(),link:rt({email:oe(),userId:tg()}).optional(),requestSignUp:ma().optional()}).parse(JSON.parse(r.value));if(a.errorURL||(a.errorURL=`${e.context.baseURL}/error`),a.expiresAt<Date.now()){await e.context.internalAdapter.deleteVerificationValue(r.id);const d=((c=e.context.options.onAPIError)==null?void 0:c.errorURL)||`${e.context.baseURL}/error`;throw e.redirect(`${d}?error=please_restart_the_process`)}return await e.context.internalAdapter.deleteVerificationValue(r.id),a}async function zS(e){const t=await ag("SHA-256").digest(e);return Gd.encode(new Uint8Array(t),{padding:!1})}function LS(e){return{tokenType:e.token_type,accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?Uo(e.expires_in,"sec"):void 0,refreshTokenExpiresAt:e.refresh_token_expires_in?Uo(e.refresh_token_expires_in,"sec"):void 0,scopes:e!=null&&e.scope?typeof e.scope=="string"?e.scope.split(" "):e.scope:[],idToken:e.id_token}}function s3(e,t){var r;return e&&((r=t.options.account)!=null&&r.encryptOAuthTokens?e3({key:t.secret,data:e}):e)}function wn(e,t){var r;return(r=t.options.account)!=null&&r.encryptOAuthTokens&&e?WU({key:t.secret,data:e}):e}async function PS(e,{userInfo:t,account:r,callbackURL:a,disableSignUp:l,overrideUserInfo:c}){var x,g,v,w,b,N,k,R,M;const d=await e.context.internalAdapter.findOAuthUser(t.email.toLowerCase(),r.accountId,r.providerId).catch(U=>{var B;Qe.error(`Better auth was unable to query your database.
Error: `,U);const T=((B=e.context.options.onAPIError)==null?void 0:B.errorURL)||`${e.context.baseURL}/error`;throw e.redirect(`${T}?error=internal_server_error`)});let f=d==null?void 0:d.user,m=!f;if(d){const U=d.accounts.find(T=>T.providerId===r.providerId&&T.accountId===r.accountId);if(U){if(((b=e.context.options.account)==null?void 0:b.updateAccountOnSignIn)!==!1){const T=Object.fromEntries(Object.entries({idToken:r.idToken,accessToken:await wn(r.accessToken,e.context),refreshToken:await wn(r.refreshToken,e.context),accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope}).filter(([B,z])=>z!==void 0));Object.keys(T).length>0&&await e.context.internalAdapter.updateAccount(U.id,T,e)}t.emailVerified&&!d.user.emailVerified&&t.email.toLowerCase()===d.user.email&&await e.context.internalAdapter.updateUser(d.user.id,{emailVerified:!0})}else{const T=(g=(x=e.context.options.account)==null?void 0:x.accountLinking)==null?void 0:g.trustedProviders;if(!(T==null?void 0:T.includes(r.providerId))&&!t.emailVerified||((w=(v=e.context.options.account)==null?void 0:v.accountLinking)==null?void 0:w.enabled)===!1)return OT&&Qe.warn(`User already exist but account isn't linked to ${r.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await e.context.internalAdapter.linkAccount({providerId:r.providerId,accountId:t.id.toString(),userId:d.user.id,accessToken:await wn(r.accessToken,e.context),refreshToken:await wn(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope},e)}catch(z){return Qe.error("Unable to link account",z),{error:"unable to link account",data:null}}t.emailVerified&&!d.user.emailVerified&&t.email.toLowerCase()===d.user.email&&await e.context.internalAdapter.updateUser(d.user.id,{emailVerified:!0})}if(c){const{id:T,...B}=t;await e.context.internalAdapter.updateUser(d.user.id,{...B,email:t.email.toLowerCase(),emailVerified:t.email.toLowerCase()===d.user.email&&d.user.emailVerified||t.emailVerified})}}else{if(l)return{error:"signup disabled",data:null,isRegister:!1};try{const{id:U,...T}=t;if(f=await e.context.internalAdapter.createOAuthUser({...T,email:t.email.toLowerCase()},{accessToken:await wn(r.accessToken,e.context),refreshToken:await wn(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope,providerId:r.providerId,accountId:t.id.toString()},e).then(B=>B==null?void 0:B.user),!t.emailVerified&&f&&((N=e.context.options.emailVerification)!=null&&N.sendOnSignUp)){const B=await zo(e.context.secret,f.email,void 0,(k=e.context.options.emailVerification)==null?void 0:k.expiresIn),z=`${e.context.baseURL}/verify-email?token=${B}&callbackURL=${a}`;await((M=(R=e.context.options.emailVerification)==null?void 0:R.sendVerificationEmail)==null?void 0:M.call(R,{user:f,url:z,token:B},e.request))}}catch(U){return Qe.error(U),U instanceof se?{error:U.message,data:null,isRegister:!1}:{error:"unable to create user",data:null,isRegister:!1}}}if(!f)return{error:"unable to create user",data:null,isRegister:!1};const p=await e.context.internalAdapter.createSession(f.id,e);return p?{data:{session:p,user:f},error:null,isRegister:m}:{error:"unable to create session",data:null,isRegister:!1}}async function ft({id:e,options:t,authorizationEndpoint:r,state:a,codeVerifier:l,scopes:c,claims:d,redirectURI:f,duration:m,prompt:p,accessType:x,responseType:g,display:v,loginHint:w,hd:b,responseMode:N,additionalParams:k,scopeJoiner:R}){const M=new URL(r);M.searchParams.set("response_type",g||"code");const U=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;if(M.searchParams.set("client_id",U),M.searchParams.set("state",a),M.searchParams.set("scope",c.join(R||" ")),M.searchParams.set("redirect_uri",t.redirectURI||f),m&&M.searchParams.set("duration",m),v&&M.searchParams.set("display",v),w&&M.searchParams.set("login_hint",w),p&&M.searchParams.set("prompt",p),b&&M.searchParams.set("hd",b),x&&M.searchParams.set("access_type",x),N&&M.searchParams.set("response_mode",N),l){const T=await zS(l);M.searchParams.set("code_challenge_method","S256"),M.searchParams.set("code_challenge",T)}if(d){const T=d.reduce((B,z)=>(B[z]=null,B),{});M.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...T}}))}return k&&Object.entries(k).forEach(([T,B])=>{M.searchParams.set(T,B)}),M}function a3({code:e,codeVerifier:t,redirectURI:r,options:a,authentication:l,deviceId:c,headers:d,additionalParams:f={},resource:m}){const p=new URLSearchParams,x={"content-type":"application/x-www-form-urlencoded",accept:"application/json","user-agent":"better-auth",...d};if(p.set("grant_type","authorization_code"),p.set("code",e),t&&p.set("code_verifier",t),a.clientKey&&p.set("client_key",a.clientKey),c&&p.set("device_id",c),p.set("redirect_uri",a.redirectURI||r),m)if(typeof m=="string")p.append("resource",m);else for(const g of m)p.append("resource",g);if(l==="basic"){const g=Array.isArray(a.clientId)?a.clientId[0]:a.clientId,v=pa.encode(`${g}:${a.clientSecret??""}`);x.authorization=`Basic ${v}`}else{const g=Array.isArray(a.clientId)?a.clientId[0]:a.clientId;p.set("client_id",g),a.clientSecret&&p.set("client_secret",a.clientSecret)}for(const[g,v]of Object.entries(f))p.has(g)||p.append(g,v);return{body:p,headers:x}}async function st({code:e,codeVerifier:t,redirectURI:r,options:a,tokenEndpoint:l,authentication:c,deviceId:d,headers:f,additionalParams:m={},resource:p}){const{body:x,headers:g}=a3({code:e,codeVerifier:t,redirectURI:r,options:a,authentication:c,deviceId:d,headers:f,additionalParams:m,resource:p}),{data:v,error:w}=await Te(l,{method:"POST",body:x,headers:g});if(w)throw w;return LS(v)}function i3({refreshToken:e,options:t,authentication:r,extraParams:a,resource:l}){const c=new URLSearchParams,d={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(c.set("grant_type","refresh_token"),c.set("refresh_token",e),r==="basic"){const f=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;f?d.authorization="Basic "+pa.encode(`${f}:${t.clientSecret??""}`):d.authorization="Basic "+pa.encode(`:${t.clientSecret??""}`)}else{const f=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;c.set("client_id",f),t.clientSecret&&c.set("client_secret",t.clientSecret)}if(l)if(typeof l=="string")c.append("resource",l);else for(const f of l)c.append("resource",f);if(a)for(const[f,m]of Object.entries(a))c.set(f,m);return{body:c,headers:d}}async function lt({refreshToken:e,options:t,tokenEndpoint:r,authentication:a,extraParams:l}){var x;const{body:c,headers:d}=i3({refreshToken:e,options:t,authentication:a,extraParams:l}),{data:f,error:m}=await Te(r,{method:"POST",body:c,headers:d});if(m)throw m;const p={accessToken:f.access_token,refreshToken:f.refresh_token,tokenType:f.token_type,scopes:(x=f.scope)==null?void 0:x.split(" "),idToken:f.id_token};if(f.expires_in){const g=new Date;p.accessTokenExpiresAt=new Date(g.getTime()+f.expires_in*1e3)}return p}const o3=e=>{const t="https://appleid.apple.com/auth/token";return{id:"apple",name:"Apple",async createAuthorizationURL({state:r,scopes:a,redirectURI:l}){const c=e.disableDefaultScope?[]:["email","name"];return e.scope&&c.push(...e.scope),a&&c.push(...a),await ft({id:"apple",options:e,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:c,state:r,redirectURI:l,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:r,codeVerifier:a,redirectURI:l})=>st({code:r,codeVerifier:a,redirectURI:l,options:e,tokenEndpoint:t}),async verifyIdToken(r,a){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(r,a);const l=OS(r),{kid:c,alg:d}=l;if(!c||!d)return!1;const f=await l3(c),{payload:m}=await Kd(r,f,{algorithms:[d],issuer:"https://appleid.apple.com",audience:e.audience&&e.audience.length?e.audience:e.appBundleIdentifier?e.appBundleIdentifier:e.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(p=>{m[p]!==void 0&&(m[p]=!!m[p])}),a&&m.nonce!==a?!1:!!m},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>lt({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(r){var m,p,x;if(e.getUserInfo)return e.getUserInfo(r);if(!r.idToken)return null;const a=xa(r.idToken);if(!a)return null;const l=r.user?`${(m=r.user.name)==null?void 0:m.firstName} ${(p=r.user.name)==null?void 0:p.lastName}`:a.name||a.email,c=typeof a.email_verified=="boolean"?a.email_verified:a.email_verified==="true",d={...a,name:l},f=await((x=e.mapProfileToUser)==null?void 0:x.call(e,d));return{user:{id:a.sub,name:d.name,emailVerified:c,email:a.email,...f},data:d}},options:e}},l3=async e=>{const t="https://appleid.apple.com",r="/auth/keys",{data:a}=await Te(`${t}${r}`);if(!(a!=null&&a.keys))throw new se("BAD_REQUEST",{message:"Keys not found"});const l=a.keys.find(c=>c.kid===e);if(!l)throw new Error(`JWK with kid ${e} not found`);return await lg(l,l.alg)},c3=e=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:t,scopes:r,codeVerifier:a,redirectURI:l}){if(!e.clientId||!e.clientSecret)throw Qe.error("Client Id and Secret are required for Atlassian"),new $t("CLIENT_ID_AND_SECRET_REQUIRED");if(!a)throw new $t("codeVerifier is required for Atlassian");const c=e.disableDefaultScope?[]:["read:jira-user","offline_access"];return e.scope&&c.push(...e.scope),r&&c.push(...r),ft({id:"atlassian",options:e,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:c,state:t,codeVerifier:a,redirectURI:l,additionalParams:{audience:"api.atlassian.com"},prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:a})=>st({code:t,codeVerifier:r,redirectURI:a,options:e,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(t){var r;if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;try{const{data:a}=await Te("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!a)return null;const l=await((r=e.mapProfileToUser)==null?void 0:r.call(e,a));return{user:{id:a.account_id,name:a.name,email:a.email,image:a.picture,emailVerified:!1,...l},data:a}}catch(a){return Qe.error("Failed to fetch user info from Figma:",a),null}},options:e}),u3=e=>{if(!e.domain||!e.region||!e.userPoolId)throw Qe.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new $t("DOMAIN_AND_REGION_REQUIRED");const t=e.domain.replace(/^https?:\/\//,""),r=`https://${t}/oauth2/authorize`,a=`https://${t}/oauth2/token`,l=`https://${t}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:c,scopes:d,codeVerifier:f,redirectURI:m}){if(!e.clientId)throw Qe.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new $t("CLIENT_ID_AND_SECRET_REQUIRED");if(e.requireClientSecret&&!e.clientSecret)throw Qe.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new $t("CLIENT_SECRET_REQUIRED");const p=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&p.push(...e.scope),d&&p.push(...d),await ft({id:"cognito",options:{...e},authorizationEndpoint:r,scopes:p,state:c,codeVerifier:f,redirectURI:m,prompt:e.prompt})},validateAuthorizationCode:async({code:c,codeVerifier:d,redirectURI:f})=>st({code:c,codeVerifier:d,redirectURI:f,options:e,tokenEndpoint:a}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async c=>lt({refreshToken:c,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:a}),async verifyIdToken(c,d){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(c,d);try{const f=OS(c),{kid:m,alg:p}=f;if(!m||!p)return!1;const x=await d3(m,e.region,e.userPoolId),g=`https://cognito-idp.${e.region}.amazonaws.com/${e.userPoolId}`,{payload:v}=await Kd(c,x,{algorithms:[p],issuer:g,audience:e.clientId,maxTokenAge:"1h"});return!(d&&v.nonce!==d)}catch(f){return Qe.error("Failed to verify ID token:",f),!1}},async getUserInfo(c){var d,f;if(e.getUserInfo)return e.getUserInfo(c);if(c.idToken)try{const m=xa(c.idToken);if(!m)return null;const p=m.name||m.given_name||m.username||m.email,x={...m,name:p},g=await((d=e.mapProfileToUser)==null?void 0:d.call(e,x));return{user:{id:m.sub,name:x.name,email:m.email,image:m.picture,emailVerified:m.email_verified,...g},data:x}}catch(m){Qe.error("Failed to decode ID token:",m)}if(c.accessToken)try{const{data:m}=await Te(l,{headers:{Authorization:`Bearer ${c.accessToken}`}});if(m){const p=await((f=e.mapProfileToUser)==null?void 0:f.call(e,m));return{user:{id:m.sub,name:m.name||m.given_name||m.username,email:m.email,image:m.picture,emailVerified:m.email_verified,...p},data:m}}}catch(m){Qe.error("Failed to fetch user info from Cognito:",m)}return null},options:e}},d3=async(e,t,r)=>{const a=`https://cognito-idp.${t}.amazonaws.com/${r}/.well-known/jwks.json`;try{const{data:l}=await Te(a);if(!(l!=null&&l.keys))throw new se("BAD_REQUEST",{message:"Keys not found"});const c=l.keys.find(d=>d.kid===e);if(!c)throw new Error(`JWK with kid ${e} not found`);return await lg(c,c.alg)}catch(l){throw Qe.error("Failed to fetch Cognito public key:",l),l}},f3=e=>({id:"discord",name:"Discord",createAuthorizationURL({state:t,scopes:r,redirectURI:a}){const l=e.disableDefaultScope?[]:["identify","email"];return r&&l.push(...r),e.scope&&l.push(...e.scope),new URL(`https://discord.com/api/oauth2/authorize?scope=${l.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||a)}&state=${t}&prompt=${e.prompt||"none"}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>st({code:t,redirectURI:r,options:e,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(t){var c;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${t.accessToken}`}});if(a)return null;if(r.avatar===null){const d=r.discriminator==="0"?Number(BigInt(r.id)>>BigInt(22))%6:parseInt(r.discriminator)%5;r.image_url=`https://cdn.discordapp.com/embed/avatars/${d}.png`}else{const d=r.avatar.startsWith("a_")?"gif":"png";r.image_url=`https://cdn.discordapp.com/avatars/${r.id}/${r.avatar}.${d}`}const l=await((c=e.mapProfileToUser)==null?void 0:c.call(e,r));return{user:{id:r.id,name:r.global_name||r.username||"",email:r.email,emailVerified:r.verified,image:r.image_url,...l},data:r}},options:e}),h3=e=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:t,scopes:r,redirectURI:a,loginHint:l}){const c=e.disableDefaultScope?[]:["email","public_profile"];return e.scope&&c.push(...e.scope),r&&c.push(...r),await ft({id:"facebook",options:e,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:c,state:t,redirectURI:a,loginHint:l,additionalParams:e.configId?{config_id:e.configId}:{}})},validateAuthorizationCode:async({code:t,redirectURI:r})=>st({code:t,redirectURI:r,options:e,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);if(t.split(".").length===3)try{const{payload:a}=await Kd(t,JU(new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/")),{algorithms:["RS256"],audience:e.clientId,issuer:"https://www.facebook.com"});return r&&a.nonce!==r?!1:!!a}catch{return!1}return!0},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(t){var d,f;if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken&&t.idToken.split(".").length===3){const m=xa(t.idToken),p={id:m.sub,name:m.name,email:m.email,picture:{data:{url:m.picture,height:100,width:100,is_silhouette:!1}}},x=await((d=e.mapProfileToUser)==null?void 0:d.call(e,{...p,email_verified:!0}));return{user:{...p,emailVerified:!0,...x},data:m}}const r=["id","name","email","picture",...(e==null?void 0:e.fields)||[]],{data:a,error:l}=await Te("https://graph.facebook.com/me?fields="+r.join(","),{auth:{type:"Bearer",token:t.accessToken}});if(l)return null;const c=await((f=e.mapProfileToUser)==null?void 0:f.call(e,a));return{user:{id:a.id,name:a.name,email:a.email,image:a.picture.data.url,emailVerified:a.email_verified,...c},data:a}},options:e}),m3=e=>({id:"figma",name:"Figma",async createAuthorizationURL({state:t,scopes:r,codeVerifier:a,redirectURI:l}){if(!e.clientId||!e.clientSecret)throw Qe.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new $t("CLIENT_ID_AND_SECRET_REQUIRED");if(!a)throw new $t("codeVerifier is required for Figma");const c=e.disableDefaultScope?[]:["file_read"];return e.scope&&c.push(...e.scope),r&&c.push(...r),await ft({id:"figma",options:e,authorizationEndpoint:"https://www.figma.com/oauth",scopes:c,state:t,codeVerifier:a,redirectURI:l})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:a})=>st({code:t,codeVerifier:r,redirectURI:a,options:e,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(t){var r;if(e.getUserInfo)return e.getUserInfo(t);try{const{data:a}=await Te("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!a)return Qe.error("Failed to fetch user from Figma"),null;const l=await((r=e.mapProfileToUser)==null?void 0:r.call(e,a));return{user:{id:a.id,name:a.handle,email:a.email,image:a.img_url,emailVerified:!!a.email,...l},data:a}}catch(a){return Qe.error("Failed to fetch user info from Figma:",a),null}},options:e}),p3=e=>{const t="https://github.com/login/oauth/access_token";return{id:"github",name:"GitHub",createAuthorizationURL({state:r,scopes:a,loginHint:l,redirectURI:c}){const d=e.disableDefaultScope?[]:["read:user","user:email"];return e.scope&&d.push(...e.scope),a&&d.push(...a),ft({id:"github",options:e,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:d,state:r,redirectURI:c,loginHint:l,prompt:e.prompt})},validateAuthorizationCode:async({code:r,redirectURI:a})=>st({code:r,redirectURI:a,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>lt({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(r){var m,p,x;if(e.getUserInfo)return e.getUserInfo(r);const{data:a,error:l}=await Te("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${r.accessToken}`}});if(l)return null;const{data:c}=await Te("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${r.accessToken}`,"User-Agent":"better-auth"}});!a.email&&c&&(a.email=(m=c.find(g=>g.primary)??c[0])==null?void 0:m.email);const d=((p=c==null?void 0:c.find(g=>g.email===a.email))==null?void 0:p.verified)??!1,f=await((x=e.mapProfileToUser)==null?void 0:x.call(e,a));return{user:{id:a.id,name:a.name||a.login,email:a.email,image:a.avatar_url,emailVerified:d,...f},data:a}},options:e}},g3=e=>({id:"google",name:"Google",async createAuthorizationURL({state:t,scopes:r,codeVerifier:a,redirectURI:l,loginHint:c,display:d}){if(!e.clientId||!e.clientSecret)throw Qe.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new $t("CLIENT_ID_AND_SECRET_REQUIRED");if(!a)throw new $t("codeVerifier is required for Google");const f=e.disableDefaultScope?[]:["email","profile","openid"];return e.scope&&f.push(...e.scope),r&&f.push(...r),await ft({id:"google",options:e,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:f,state:t,codeVerifier:a,redirectURI:l,prompt:e.prompt,accessType:e.accessType,display:d||e.display,loginHint:c,hd:e.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:a})=>st({code:t,codeVerifier:r,redirectURI:a,options:e,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);const a=`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${t}`,{data:l}=await Te(a);return l?l.aud===e.clientId&&(l.iss==="https://accounts.google.com"||l.iss==="accounts.google.com"):!1},async getUserInfo(t){var l;if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;const r=xa(t.idToken),a=await((l=e.mapProfileToUser)==null?void 0:l.call(e,r));return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...a},data:r}},options:e}),y3=e=>({id:"kick",name:"Kick",createAuthorizationURL({state:t,scopes:r,redirectURI:a,codeVerifier:l}){const c=e.disableDefaultScope?[]:["user:read"];return e.scope&&c.push(...e.scope),r&&c.push(...r),ft({id:"kick",redirectURI:a,options:e,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:c,codeVerifier:l,state:t})},async validateAuthorizationCode({code:t,redirectURI:r,codeVerifier:a}){return st({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:a})},async getUserInfo(t){var d;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(a)return null;const l=r.data[0],c=await((d=e.mapProfileToUser)==null?void 0:d.call(e,l));return{user:{id:l.user_id,name:l.name,email:l.email,image:l.profile_picture,emailVerified:!0,...c},data:l}},options:e}),x3=e=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:t,scopes:r,codeVerifier:a,redirectURI:l}){const c=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&c.push(...e.scope),r&&c.push(...r),ft({id:"huggingface",options:e,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:c,state:t,codeVerifier:a,redirectURI:l})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:a})=>st({code:t,codeVerifier:r,redirectURI:a,options:e,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(t){var c;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(a)return null;const l=await((c=e.mapProfileToUser)==null?void 0:c.call(e,r));return{user:{id:r.sub,name:r.name||r.preferred_username,email:r.email,image:r.picture,emailVerified:r.email_verified??!1,...l},data:r}},options:e}),v3=e=>{const t=e.tenantId||"common",r=e.authority||"https://login.microsoftonline.com",a=`${r}/${t}/oauth2/v2.0/authorize`,l=`${r}/${t}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(c){const d=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&d.push(...e.scope),c.scopes&&d.push(...c.scopes),ft({id:"microsoft",options:e,authorizationEndpoint:a,state:c.state,codeVerifier:c.codeVerifier,scopes:d,redirectURI:c.redirectURI,prompt:e.prompt,loginHint:c.loginHint})},validateAuthorizationCode({code:c,codeVerifier:d,redirectURI:f}){return st({code:c,codeVerifier:d,redirectURI:f,options:e,tokenEndpoint:l})},async getUserInfo(c){var p;if(e.getUserInfo)return e.getUserInfo(c);if(!c.idToken)return null;const d=xa(c.idToken),f=e.profilePhotoSize||48;await Te(`https://graph.microsoft.com/v1.0/me/photos/${f}x${f}/$value`,{headers:{Authorization:`Bearer ${c.accessToken}`},async onResponse(x){if(!(e.disableProfilePhoto||!x.response.ok))try{const v=await x.response.clone().arrayBuffer(),w=pa.encode(v);d.picture=`data:image/jpeg;base64, ${w}`}catch(g){Qe.error(g&&typeof g=="object"&&"name"in g?g.name:"",g)}}});const m=await((p=e.mapProfileToUser)==null?void 0:p.call(e,d));return{user:{id:d.sub,name:d.name,email:d.email,image:d.picture,emailVerified:!0,...m},data:d}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async c=>{const d=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&d.push(...e.scope),lt({refreshToken:c,options:{clientId:e.clientId,clientSecret:e.clientSecret},extraParams:{scope:d.join(" ")},tokenEndpoint:l})},options:e}},b3=e=>({id:"slack",name:"Slack",createAuthorizationURL({state:t,scopes:r,redirectURI:a}){const l=e.disableDefaultScope?[]:["openid","profile","email"];r&&l.push(...r),e.scope&&l.push(...e.scope);const c=new URL("https://slack.com/openid/connect/authorize");return c.searchParams.set("scope",l.join(" ")),c.searchParams.set("response_type","code"),c.searchParams.set("client_id",e.clientId),c.searchParams.set("redirect_uri",e.redirectURI||a),c.searchParams.set("state",t),c},validateAuthorizationCode:async({code:t,redirectURI:r})=>st({code:t,redirectURI:r,options:e,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(t){var c;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(a)return null;const l=await((c=e.mapProfileToUser)==null?void 0:c.call(e,r));return{user:{id:r["https://slack.com/user_id"],name:r.name||"",email:r.email,emailVerified:r.email_verified,image:r.picture||r["https://slack.com/user_image_512"],...l},data:r}},options:e}),w3=e=>{const t="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:r,scopes:a,loginHint:l,redirectURI:c}){const d=e.disableDefaultScope?[]:[];return e.scope&&d.push(...e.scope),a&&d.push(...a),ft({id:"notion",options:e,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:d,state:r,redirectURI:c,loginHint:l,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:r,redirectURI:a})=>st({code:r,redirectURI:a,options:e,tokenEndpoint:t,authentication:"basic"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>lt({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(r){var f,m,p,x,g;if(e.getUserInfo)return e.getUserInfo(r);const{data:a,error:l}=await Te("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${r.accessToken}`,"Notion-Version":"2022-06-28"}});if(l||!a)return null;const c=(m=(f=a.bot)==null?void 0:f.owner)==null?void 0:m.user;if(!c)return null;const d=await((p=e.mapProfileToUser)==null?void 0:p.call(e,c));return{user:{id:c.id,name:c.name||"Notion User",email:((x=c.person)==null?void 0:x.email)||null,image:c.avatar_url,emailVerified:!!((g=c.person)!=null&&g.email),...d},data:c}},options:e}},S3=e=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:t,scopes:r,codeVerifier:a,redirectURI:l}){const c=e.disableDefaultScope?[]:["user-read-email"];return e.scope&&c.push(...e.scope),r&&c.push(...r),ft({id:"spotify",options:e,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:c,state:t,codeVerifier:a,redirectURI:l})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:a})=>st({code:t,codeVerifier:r,redirectURI:a,options:e,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(t){var c,d;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(a)return null;const l=await((c=e.mapProfileToUser)==null?void 0:c.call(e,r));return{user:{id:r.id,name:r.display_name,email:r.email,image:(d=r.images[0])==null?void 0:d.url,emailVerified:!1,...l},data:r}},options:e}),N3=e=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:t,scopes:r,redirectURI:a}){const l=e.disableDefaultScope?[]:["user:read:email","openid"];return e.scope&&l.push(...e.scope),r&&l.push(...r),ft({id:"twitch",redirectURI:a,options:e,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:l,state:t,claims:e.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:t,redirectURI:r})=>st({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(t){var c;if(e.getUserInfo)return e.getUserInfo(t);const r=t.idToken;if(!r)return Qe.error("No idToken found in token"),null;const a=xa(r),l=await((c=e.mapProfileToUser)==null?void 0:c.call(e,a));return{user:{id:a.sub,name:a.preferred_username,email:a.email,image:a.picture,emailVerified:a.email_verified,...l},data:a}},options:e}),j3=e=>({id:"twitter",name:"Twitter",createAuthorizationURL(t){const r=e.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),ft({id:"twitter",options:e,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:r,state:t.state,codeVerifier:t.codeVerifier,redirectURI:t.redirectURI})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:a})=>st({code:t,codeVerifier:r,authentication:"basic",redirectURI:a,options:e,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(t){var m,p;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(a)return null;const{data:l,error:c}=await Te("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});let d=!1;!c&&((m=l==null?void 0:l.data)!=null&&m.confirmed_email)&&(r.data.email=l.data.confirmed_email,d=!0);const f=await((p=e.mapProfileToUser)==null?void 0:p.call(e,r));return{user:{id:r.data.id,name:r.data.name,email:r.data.email||r.data.username||null,image:r.data.profile_image_url,emailVerified:d,...f},data:r}},options:e}),k3=e=>{const t="https://api.dropboxapi.com/oauth2/token";return{id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:r,scopes:a,codeVerifier:l,redirectURI:c})=>{const d=e.disableDefaultScope?[]:["account_info.read"];e.scope&&d.push(...e.scope),a&&d.push(...a);const f={};return e.accessType&&(f.token_access_type=e.accessType),await ft({id:"dropbox",options:e,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:d,state:r,redirectURI:c,codeVerifier:l,additionalParams:f})},validateAuthorizationCode:async({code:r,codeVerifier:a,redirectURI:l})=>await st({code:r,codeVerifier:a,redirectURI:l,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>lt({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(r){var d,f;if(e.getUserInfo)return e.getUserInfo(r);const{data:a,error:l}=await Te("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${r.accessToken}`}});if(l)return null;const c=await((d=e.mapProfileToUser)==null?void 0:d.call(e,a));return{user:{id:a.account_id,name:(f=a.name)==null?void 0:f.display_name,email:a.email,emailVerified:a.email_verified||!1,image:a.profile_photo_url,...c},data:a}},options:e}},_3=e=>{const t="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:r,scopes:a,loginHint:l,redirectURI:c}){const d=e.disableDefaultScope?[]:["read"];return e.scope&&d.push(...e.scope),a&&d.push(...a),ft({id:"linear",options:e,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:d,state:r,redirectURI:c,loginHint:l})},validateAuthorizationCode:async({code:r,redirectURI:a})=>st({code:r,redirectURI:a,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>lt({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(r){var f,m;if(e.getUserInfo)return e.getUserInfo(r);const{data:a,error:l}=await Te("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(l||!((f=a==null?void 0:a.data)!=null&&f.viewer))return null;const c=a.data.viewer,d=await((m=e.mapProfileToUser)==null?void 0:m.call(e,c));return{user:{id:a.data.viewer.id,name:a.data.viewer.name,email:a.data.viewer.email,image:a.data.viewer.avatarUrl,emailVerified:!0,...d},data:c}},options:e}},E3=e=>{const t="https://www.linkedin.com/oauth/v2/authorization",r="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:a,scopes:l,redirectURI:c,loginHint:d})=>{const f=e.disableDefaultScope?[]:["profile","email","openid"];return e.scope&&f.push(...e.scope),l&&f.push(...l),await ft({id:"linkedin",options:e,authorizationEndpoint:t,scopes:f,state:a,loginHint:d,redirectURI:c})},validateAuthorizationCode:async({code:a,redirectURI:l})=>await st({code:a,redirectURI:l,options:e,tokenEndpoint:r}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async a=>lt({refreshToken:a,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:r}),async getUserInfo(a){var f;if(e.getUserInfo)return e.getUserInfo(a);const{data:l,error:c}=await Te("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${a.accessToken}`}});if(c)return null;const d=await((f=e.mapProfileToUser)==null?void 0:f.call(e,l));return{user:{id:l.sub,name:l.name,email:l.email,emailVerified:l.email_verified||!1,image:l.picture,...d},data:l}},options:e}},Mm=(e="")=>e.split("://").map(t=>t.replace(/\/{2,}/g,"/")).join("://"),A3=e=>{let t=e||"https://gitlab.com";return{authorizationEndpoint:Mm(`${t}/oauth/authorize`),tokenEndpoint:Mm(`${t}/oauth/token`),userinfoEndpoint:Mm(`${t}/api/v4/user`)}},T3=e=>{const{authorizationEndpoint:t,tokenEndpoint:r,userinfoEndpoint:a}=A3(e.issuer),l="gitlab";return{id:l,name:"Gitlab",createAuthorizationURL:async({state:d,scopes:f,codeVerifier:m,loginHint:p,redirectURI:x})=>{const g=e.disableDefaultScope?[]:["read_user"];return e.scope&&g.push(...e.scope),f&&g.push(...f),await ft({id:l,options:e,authorizationEndpoint:t,scopes:g,state:d,redirectURI:x,codeVerifier:m,loginHint:p})},validateAuthorizationCode:async({code:d,redirectURI:f,codeVerifier:m})=>st({code:d,redirectURI:f,options:e,codeVerifier:m,tokenEndpoint:r}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async d=>lt({refreshToken:d,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://gitlab.com/oauth/token"}),async getUserInfo(d){var x;if(e.getUserInfo)return e.getUserInfo(d);const{data:f,error:m}=await Te(a,{headers:{authorization:`Bearer ${d.accessToken}`}});if(m||f.state!=="active"||f.locked)return null;const p=await((x=e.mapProfileToUser)==null?void 0:x.call(e,f));return{user:{id:f.id,name:f.name??f.username,email:f.email,image:f.avatar_url,emailVerified:!0,...p},data:f}},options:e}},R3=e=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:t,scopes:r,redirectURI:a}){const l=e.disableDefaultScope?[]:["user.info.profile"];return e.scope&&l.push(...e.scope),r&&l.push(...r),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${l.join(",")}&response_type=code&client_key=${e.clientKey}&redirect_uri=${encodeURIComponent(e.redirectURI||a)}&state=${t}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>st({code:t,redirectURI:e.redirectURI||r,options:{clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:e.clientKey}}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);const r=["open_id","avatar_large_url","display_name","username"],{data:a,error:l}=await Te(`https://open.tiktokapis.com/v2/user/info/?fields=${r.join(",")}`,{headers:{authorization:`Bearer ${t.accessToken}`}});return l?null:{user:{email:a.data.user.email||a.data.user.username,id:a.data.user.open_id,name:a.data.user.display_name||a.data.user.username,image:a.data.user.avatar_large_url,emailVerified:!!a.data.user.email},data:a}},options:e}),C3=e=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:t,scopes:r,redirectURI:a}){const l=e.disableDefaultScope?[]:["identity"];return e.scope&&l.push(...e.scope),r&&l.push(...r),ft({id:"reddit",options:e,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:l,state:t,redirectURI:a,duration:e.duration})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{const a=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:e.redirectURI||r}),l={"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${pa.encode(`${e.clientId}:${e.clientSecret}`)}`},{data:c,error:d}=await Te("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:l,body:a.toString()});if(d)throw d;return LS(c)},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(t){var c,d;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});if(a)return null;const l=await((c=e.mapProfileToUser)==null?void 0:c.call(e,r));return{user:{id:r.id,name:r.name,email:r.oauth_client_id,emailVerified:r.has_verified_email,image:(d=r.icon_img)==null?void 0:d.split("?")[0],...l},data:r}},options:e}),O3=e=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:t,scopes:r,redirectURI:a}){const l=e.disableDefaultScope?[]:["openid","profile"];return e.scope&&l.push(...e.scope),r&&l.push(...r),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${l.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||a)}&state=${t}&prompt=${e.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>st({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(t){var c;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(a)return null;const l=await((c=e.mapProfileToUser)==null?void 0:c.call(e,r));return{user:{id:r.sub,name:r.nickname||r.preferred_username||"",image:r.picture,email:r.preferred_username||null,emailVerified:!0,...l},data:{...r}}},options:e}),D3=e=>{const r=(e.environment??"production")==="sandbox",a=e.loginUrl?`https://${e.loginUrl}/services/oauth2/authorize`:r?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",l=e.loginUrl?`https://${e.loginUrl}/services/oauth2/token`:r?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",c=e.loginUrl?`https://${e.loginUrl}/services/oauth2/userinfo`:r?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:d,scopes:f,codeVerifier:m,redirectURI:p}){if(!e.clientId||!e.clientSecret)throw Qe.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new $t("CLIENT_ID_AND_SECRET_REQUIRED");if(!m)throw new $t("codeVerifier is required for Salesforce");const x=e.disableDefaultScope?[]:["openid","email","profile"];return e.scope&&x.push(...e.scope),f&&x.push(...f),ft({id:"salesforce",options:e,authorizationEndpoint:a,scopes:x,state:d,codeVerifier:m,redirectURI:e.redirectURI||p})},validateAuthorizationCode:async({code:d,codeVerifier:f,redirectURI:m})=>st({code:d,codeVerifier:f,redirectURI:e.redirectURI||m,options:e,tokenEndpoint:l}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async d=>lt({refreshToken:d,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:l}),async getUserInfo(d){var f,m,p;if(e.getUserInfo)return e.getUserInfo(d);try{const{data:x}=await Te(c,{headers:{Authorization:`Bearer ${d.accessToken}`}});if(!x)return Qe.error("Failed to fetch user info from Salesforce"),null;const g=await((f=e.mapProfileToUser)==null?void 0:f.call(e,x));return{user:{id:x.user_id,name:x.name,email:x.email,image:((m=x.photos)==null?void 0:m.picture)||((p=x.photos)==null?void 0:p.thumbnail),emailVerified:x.email_verified??!1,...g},data:x}}catch(x){return Qe.error("Failed to fetch user info from Salesforce:",x),null}},options:e}},U3=e=>({id:"vk",name:"VK",async createAuthorizationURL({state:t,scopes:r,codeVerifier:a,redirectURI:l}){const c=e.disableDefaultScope?[]:["email","phone"];return e.scope&&c.push(...e.scope),r&&c.push(...r),ft({id:"vk",options:e,authorizationEndpoint:"https://id.vk.com/authorize",scopes:c,state:t,redirectURI:l,codeVerifier:a})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:a,deviceId:l})=>st({code:t,codeVerifier:r,redirectURI:e.redirectURI||a,options:e,deviceId:l,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(t){var d;if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;const r=new URLSearchParams({access_token:t.accessToken,client_id:e.clientId}).toString(),{data:a,error:l}=await Te("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(l||!a.user.email)return null;const c=await((d=e.mapProfileToUser)==null?void 0:d.call(e,a));return{user:{id:a.user.user_id,first_name:a.user.first_name,last_name:a.user.last_name,email:a.user.email,image:a.user.avatar,emailVerified:!!a.user.email,birthday:a.user.birthday,sex:a.user.sex,name:`${a.user.first_name} ${a.user.last_name}`,...c},data:a}},options:e}),I3=e=>{const t={pkce:!0,...e};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:r,redirectURI:a,codeVerifier:l})=>{const c=new URLSearchParams({response_type:"code",redirect_uri:t.redirectURI?t.redirectURI:a,client_id:t.clientId,state:r});if(t.pkce){const f=await zS(l);c.set("code_challenge_method","S256"),c.set("code_challenge",f)}const d=new URL("https://zoom.us/oauth/authorize");return d.search=c.toString(),d},validateAuthorizationCode:async({code:r,redirectURI:a,codeVerifier:l})=>st({code:r,redirectURI:t.redirectURI||a,codeVerifier:l,options:t,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),async getUserInfo(r){var d;if(t.getUserInfo)return t.getUserInfo(r);const{data:a,error:l}=await Te("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${r.accessToken}`}});if(l)return null;const c=await((d=t.mapProfileToUser)==null?void 0:d.call(t,a));return{user:{id:a.id,name:a.display_name,image:a.pic_url,email:a.email,emailVerified:!!a.verified,...c},data:{...a}}}}},M3=e=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:t,scopes:r,redirectURI:a}){const l=e.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return e.scope&&l.push(...e.scope),r&&l.push(...r),ft({id:"kakao",options:e,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:l,state:t,redirectURI:a})},validateAuthorizationCode:async({code:t,redirectURI:r})=>st({code:t,redirectURI:r,options:e,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(t){var m;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(a||!r)return null;const l=await((m=e.mapProfileToUser)==null?void 0:m.call(e,r)),c=r.kakao_account||{},d=c.profile||{};return{user:{id:String(r.id),name:d.nickname||c.name||void 0,email:c.email,image:d.profile_image_url||d.thumbnail_image_url,emailVerified:!!c.is_email_valid&&!!c.is_email_verified,...l},data:r}},options:e}),z3=e=>({id:"naver",name:"Naver",createAuthorizationURL({state:t,scopes:r,redirectURI:a}){const l=e.disableDefaultScope?[]:["profile","email"];return e.scope&&l.push(...e.scope),r&&l.push(...r),ft({id:"naver",options:e,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:l,state:t,redirectURI:a})},validateAuthorizationCode:async({code:t,redirectURI:r})=>st({code:t,redirectURI:r,options:e,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>lt({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(t){var f;if(e.getUserInfo)return e.getUserInfo(t);const{data:r,error:a}=await Te("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(a||!r||r.resultcode!=="00")return null;const l=await((f=e.mapProfileToUser)==null?void 0:f.call(e,r)),c=r.response||{};return{user:{id:c.id,name:c.name||c.nickname,email:c.email,image:c.profile_image,emailVerified:!1,...l},data:r}},options:e}),L3=e=>{const t="https://access.line.me/oauth2/v2.1/authorize",r="https://api.line.me/oauth2/v2.1/token",a="https://api.line.me/oauth2/v2.1/userinfo",l="https://api.line.me/oauth2/v2.1/verify";return{id:"line",name:"LINE",async createAuthorizationURL({state:c,scopes:d,codeVerifier:f,redirectURI:m,loginHint:p}){const x=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&x.push(...e.scope),d&&x.push(...d),await ft({id:"line",options:e,authorizationEndpoint:t,scopes:x,state:c,codeVerifier:f,redirectURI:m,loginHint:p})},validateAuthorizationCode:async({code:c,codeVerifier:d,redirectURI:f})=>st({code:c,codeVerifier:d,redirectURI:f,options:e,tokenEndpoint:r}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async c=>lt({refreshToken:c,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:r}),async verifyIdToken(c,d){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(c,d);const f=new URLSearchParams;f.set("id_token",c),f.set("client_id",e.clientId),d&&f.set("nonce",d);const{data:m,error:p}=await Te(l,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:f});return!(p||!m||m.aud!==e.clientId||d&&m.nonce&&m.nonce!==d)},async getUserInfo(c){var v;if(e.getUserInfo)return e.getUserInfo(c);let d=null;if(c.idToken)try{d=xa(c.idToken)}catch{}if(!d){const{data:w}=await Te(a,{headers:{authorization:`Bearer ${c.accessToken}`}});d=w||null}if(!d)return null;const f=await((v=e.mapProfileToUser)==null?void 0:v.call(e,d)),m=d.sub||d.userId,p=d.name||d.displayName,x=d.picture||d.pictureUrl||void 0,g=d.email;return{user:{id:m,name:p,email:g,image:x,emailVerified:!1,...f},data:d}},options:e}},P3=e=>{const r=(e.environment||"sandbox")==="sandbox",a=r?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",l=r?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",c=r?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:d,codeVerifier:f,redirectURI:m}){if(!e.clientId||!e.clientSecret)throw Qe.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new $t("CLIENT_ID_AND_SECRET_REQUIRED");return await ft({id:"paypal",options:e,authorizationEndpoint:a,scopes:[],state:d,codeVerifier:f,redirectURI:m,prompt:e.prompt})},validateAuthorizationCode:async({code:d,redirectURI:f})=>{const m=pa.encode(`${e.clientId}:${e.clientSecret}`);try{const p=await Te(l,{method:"POST",headers:{Authorization:`Basic ${m}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:d,redirect_uri:f}).toString()});if(!p.data)throw new $t("FAILED_TO_GET_ACCESS_TOKEN");const x=p.data;return{accessToken:x.access_token,refreshToken:x.refresh_token,accessTokenExpiresAt:x.expires_in?new Date(Date.now()+x.expires_in*1e3):void 0,idToken:x.id_token}}catch(p){throw Qe.error("PayPal token exchange failed:",p),new $t("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async d=>{const f=pa.encode(`${e.clientId}:${e.clientSecret}`);try{const m=await Te(l,{method:"POST",headers:{Authorization:`Basic ${f}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:d}).toString()});if(!m.data)throw new $t("FAILED_TO_REFRESH_ACCESS_TOKEN");const p=m.data;return{accessToken:p.access_token,refreshToken:p.refresh_token,accessTokenExpiresAt:p.expires_in?new Date(Date.now()+p.expires_in*1e3):void 0}}catch(m){throw Qe.error("PayPal token refresh failed:",m),new $t("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(d,f){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(d,f);try{return!!xa(d).sub}catch(m){return Qe.error("Failed to verify PayPal ID token:",m),!1}},async getUserInfo(d){var f;if(e.getUserInfo)return e.getUserInfo(d);if(!d.accessToken)return Qe.error("Access token is required to fetch PayPal user info"),null;try{const m=await Te(`${c}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${d.accessToken}`,Accept:"application/json"}});if(!m.data)return Qe.error("Failed to fetch user info from PayPal"),null;const p=m.data,x=await((f=e.mapProfileToUser)==null?void 0:f.call(e,p));return{user:{id:p.user_id,name:p.name,email:p.email,image:p.picture,emailVerified:p.email_verified,...x},data:p}}catch(m){return Qe.error("Failed to fetch user info from PayPal:",m),null}},options:e}},$3={apple:o3,atlassian:c3,cognito:u3,discord:f3,facebook:h3,figma:m3,github:p3,microsoft:v3,google:g3,huggingface:x3,slack:b3,spotify:S3,twitch:N3,twitter:j3,dropbox:k3,kick:y3,linear:_3,linkedin:E3,gitlab:T3,tiktok:R3,reddit:C3,roblox:O3,salesforce:D3,vk:U3,zoom:I3,notion:w3,kakao:M3,naver:z3,line:L3,paypal:P3},B3=Object.keys($3),$S=G1(B3).or(oe());ot("/sign-in/social",{method:"POST",body:rt({callbackURL:oe().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:oe().optional(),errorCallbackURL:oe().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:$S,disableRedirect:ma().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:Ad(rt({token:oe().meta({description:"ID token from the provider"}),nonce:oe().meta({description:"Nonce used to generate the token"}).optional(),accessToken:oe().meta({description:"Access token from the provider"}).optional(),refreshToken:oe().meta({description:"Refresh token from the provider"}).optional(),expiresAt:V1().meta({description:"Expiry date of the token"}).optional()})),scopes:Ed(oe()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:ma().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:oe().meta({description:"The login hint to use for the authorization code request"}).optional()}),metadata:{openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token",url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}}},required:["redirect","token","user"]}}}}}}}},async e=>{const t=e.context.socialProviders.find(c=>c.id===e.body.provider);if(!t)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new se("NOT_FOUND",{message:Oe.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!t.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new se("NOT_FOUND",{message:Oe.ID_TOKEN_NOT_SUPPORTED});const{token:c,nonce:d}=e.body.idToken;if(!await t.verifyIdToken(c,d))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new se("UNAUTHORIZED",{message:Oe.INVALID_TOKEN});const m=await t.getUserInfo({idToken:c,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!m||!(m!=null&&m.user))throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new se("UNAUTHORIZED",{message:Oe.FAILED_TO_GET_USER_INFO});if(!m.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new se("UNAUTHORIZED",{message:Oe.USER_EMAIL_NOT_FOUND});const p=await PS(e,{userInfo:{...m.user,email:m.user.email,id:String(m.user.id),name:m.user.name||"",image:m.user.image,emailVerified:m.user.emailVerified||!1},account:{providerId:t.id,accountId:String(m.user.id),accessToken:e.body.idToken.accessToken},callbackURL:e.body.callbackURL,disableSignUp:t.disableImplicitSignUp&&!e.body.requestSignUp||t.disableSignUp});if(p.error)throw new se("UNAUTHORIZED",{message:p.error});return await ms(e,p.data),e.json({redirect:!1,token:p.data.session.token,url:void 0,user:{id:p.data.user.id,email:p.data.user.email,name:p.data.user.name,image:p.data.user.image,emailVerified:p.data.user.emailVerified,createdAt:p.data.user.createdAt,updatedAt:p.data.user.updatedAt}})}const{codeVerifier:r,state:a}=await MS(e),l=await t.createAuthorizationURL({state:a,codeVerifier:r,redirectURI:`${e.context.baseURL}/callback/${t.id}`,scopes:e.body.scopes,loginHint:e.body.loginHint});return e.json({url:l.toString(),redirect:!e.body.disableRedirect})});ot("/sign-in/email",{method:"POST",body:rt({email:oe().meta({description:"Email of the user"}),password:oe().meta({description:"Password of the user"}),callbackURL:oe().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:ma().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{openapi:{description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}},required:["redirect","token","user"]}}}}}}}},async e=>{var p,x,g,v,w,b,N,k,R;if(!((x=(p=e.context.options)==null?void 0:p.emailAndPassword)!=null&&x.enabled))throw e.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new se("BAD_REQUEST",{message:"Email and password is not enabled"});const{email:t,password:r}=e.body;if(!oe().email().safeParse(t).success)throw new se("BAD_REQUEST",{message:Oe.INVALID_EMAIL});const l=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!l)throw await e.context.password.hash(r),e.context.logger.error("User not found",{email:t}),new se("UNAUTHORIZED",{message:Oe.INVALID_EMAIL_OR_PASSWORD});const c=l.accounts.find(M=>M.providerId==="credential");if(!c)throw e.context.logger.error("Credential account not found",{email:t}),new se("UNAUTHORIZED",{message:Oe.INVALID_EMAIL_OR_PASSWORD});const d=c==null?void 0:c.password;if(!d)throw e.context.logger.error("Password not found",{email:t}),new se("UNAUTHORIZED",{message:Oe.INVALID_EMAIL_OR_PASSWORD});if(!await e.context.password.verify({hash:d,password:r}))throw e.context.logger.error("Invalid password"),new se("UNAUTHORIZED",{message:Oe.INVALID_EMAIL_OR_PASSWORD});if((v=(g=e.context.options)==null?void 0:g.emailAndPassword)!=null&&v.requireEmailVerification&&!l.user.emailVerified){if(!((b=(w=e.context.options)==null?void 0:w.emailVerification)!=null&&b.sendVerificationEmail))throw new se("FORBIDDEN",{message:Oe.EMAIL_NOT_VERIFIED});if((k=(N=e.context.options)==null?void 0:N.emailVerification)!=null&&k.sendOnSignIn){const M=await zo(e.context.secret,l.user.email,void 0,(R=e.context.options.emailVerification)==null?void 0:R.expiresIn),U=`${e.context.baseURL}/verify-email?token=${M}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:l.user,url:U,token:M},e.request)}throw new se("FORBIDDEN",{message:Oe.EMAIL_NOT_VERIFIED})}const m=await e.context.internalAdapter.createSession(l.user.id,e,e.body.rememberMe===!1);if(!m)throw e.context.logger.error("Failed to create session"),new se("UNAUTHORIZED",{message:Oe.FAILED_TO_CREATE_SESSION});return await ms(e,{session:m,user:l.user},e.body.rememberMe===!1),e.json({redirect:!!e.body.callbackURL,token:m.token,url:e.body.callbackURL,user:{id:l.user.id,email:l.user.email,name:l.user.name,image:l.user.image,emailVerified:l.user.emailVerified,createdAt:l.user.createdAt,updatedAt:l.user.updatedAt}})});const Wu=rt({code:oe().optional(),error:oe().optional(),device_id:oe().optional(),error_description:oe().optional(),state:oe().optional(),user:oe().optional()});ot("/callback/:id",{method:["GET","POST"],body:Wu.optional(),query:Wu.optional(),metadata:fg},async e=>{var z,J,K,q,L,ie,ue,he,de,me,D,Q,G;let t;const r=((z=e.context.options.onAPIError)==null?void 0:z.errorURL)||`${e.context.baseURL}/error`;try{if(e.method==="GET")t=Wu.parse(e.query);else if(e.method==="POST")t=Wu.parse(e.body);else throw new Error("Unsupported method")}catch(ee){throw e.context.logger.error("INVALID_CALLBACK_REQUEST",ee),e.redirect(`${r}?error=invalid_callback_request`)}const{code:a,error:l,state:c,error_description:d,device_id:f}=t;if(!c){e.context.logger.error("State not found",l);const ee=r.includes("?")?"&":"?",E=`${r}${ee}state=state_not_found`;throw e.redirect(E)}const{codeVerifier:m,callbackURL:p,link:x,errorURL:g,newUserURL:v,requestSignUp:w}=await r3(e);function b(ee,E){const Z=g??r,ne=new URLSearchParams({error:ee});E&&ne.set("error_description",E);const te=Z.includes("?")?"&":"?",le=`${Z}${te}${ne.toString()}`;throw e.redirect(le)}if(l&&b(l,d),!a)throw e.context.logger.error("Code not found"),b("no_code");const N=e.context.socialProviders.find(ee=>ee.id===e.params.id);if(!N)throw e.context.logger.error("Oauth provider with id",e.params.id,"not found"),b("oauth_provider_not_found");let k;try{k=await N.validateAuthorizationCode({code:a,codeVerifier:m,deviceId:f,redirectURI:`${e.context.baseURL}/callback/${N.id}`})}catch(ee){throw e.context.logger.error("",ee),b("invalid_code")}const R=await N.getUserInfo({...k,user:(J=e.body)!=null&&J.user?aS(e.body.user):void 0}).then(ee=>ee==null?void 0:ee.user);if(!R)return e.context.logger.error("Unable to get user info"),b("unable_to_get_user_info");if(!p)throw e.context.logger.error("No callback URL found"),b("no_callback_url");if(x){const ee=(q=(K=e.context.options.account)==null?void 0:K.accountLinking)==null?void 0:q.trustedProviders;if(!(ee==null?void 0:ee.includes(N.id))&&!R.emailVerified||((ie=(L=e.context.options.account)==null?void 0:L.accountLinking)==null?void 0:ie.enabled)===!1)return e.context.logger.error("Unable to link account - untrusted provider"),b("unable_to_link_account");if(R.email!==x.email&&((he=(ue=e.context.options.account)==null?void 0:ue.accountLinking)==null?void 0:he.allowDifferentEmails)!==!0)return b("email_doesn't_match");const Z=await e.context.internalAdapter.findAccount(String(R.id));if(Z){if(Z.userId.toString()!==x.userId.toString())return b("account_already_linked_to_different_user");const te=Object.fromEntries(Object.entries({accessToken:await wn(k.accessToken,e.context),refreshToken:await wn(k.refreshToken,e.context),idToken:k.idToken,accessTokenExpiresAt:k.accessTokenExpiresAt,refreshTokenExpiresAt:k.refreshTokenExpiresAt,scope:(de=k.scopes)==null?void 0:de.join(",")}).filter(([le,ke])=>ke!==void 0));await e.context.internalAdapter.updateAccount(Z.id,te)}else if(!await e.context.internalAdapter.createAccount({userId:x.userId,providerId:N.id,accountId:String(R.id),...k,accessToken:await wn(k.accessToken,e.context),refreshToken:await wn(k.refreshToken,e.context),scope:(me=k.scopes)==null?void 0:me.join(",")},e))return b("unable_to_link_account");let ne;try{ne=p.toString()}catch{ne=p}throw e.redirect(ne)}if(!R.email)return e.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),b("email_not_found");const M=await PS(e,{userInfo:{...R,id:String(R.id),email:R.email,name:R.name||R.email},account:{providerId:N.id,accountId:String(R.id),...k,scope:(D=k.scopes)==null?void 0:D.join(",")},callbackURL:p,disableSignUp:N.disableImplicitSignUp&&!w||((Q=N.options)==null?void 0:Q.disableSignUp),overrideUserInfo:(G=N.options)==null?void 0:G.overrideUserInfoOnSignIn});if(M.error)return e.context.logger.error(M.error.split(" ").join("_")),b(M.error.split(" ").join("_"));const{session:U,user:T}=M.data;await ms(e,{session:U,user:T});let B;try{B=(M.isRegister&&v||p).toString()}catch{B=M.isRegister&&v||p}throw e.redirect(B)});ot("/sign-out",{method:"POST",requireHeaders:!0,metadata:{openapi:{description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{const t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)throw Io(e),new se("BAD_REQUEST",{message:Oe.FAILED_TO_GET_SESSION});return await e.context.internalAdapter.deleteSession(t),Io(e),e.json({success:!0})});function Qb(e,t,r){const a=t?new URL(t,e.baseURL):new URL(`${e.baseURL}/error`);return r&&Object.entries(r).forEach(([l,c])=>a.searchParams.set(l,c)),a.href}function q3(e,t,r){const a=new URL(t,e.baseURL);return r&&Object.entries(r).forEach(([l,c])=>a.searchParams.set(l,c)),a.href}ot("/request-password-reset",{method:"POST",body:rt({email:eg().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:oe().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{var p;if(!((p=e.context.options.emailAndPassword)!=null&&p.sendResetPassword))throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new se("BAD_REQUEST",{message:"Reset password isn't enabled"});const{email:t,redirectTo:r}=e.body,a=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!a)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});const l=60*60*1,c=Uo(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||l,"sec"),d=US(24);await e.context.internalAdapter.createVerificationValue({value:a.user.id,identifier:`reset-password:${d}`,expiresAt:c},e);const f=r?encodeURIComponent(r):"",m=`${e.context.baseURL}/reset-password/${d}?callbackURL=${f}`;return await e.context.options.emailAndPassword.sendResetPassword({user:a.user,url:m,token:d},e.request),e.json({status:!0})});ot("/forget-password",{method:"POST",body:rt({email:oe().email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:oe().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{var p;if(!((p=e.context.options.emailAndPassword)!=null&&p.sendResetPassword))throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new se("BAD_REQUEST",{message:"Reset password isn't enabled"});const{email:t,redirectTo:r}=e.body,a=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!a)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});const l=60*60*1,c=Uo(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||l,"sec"),d=US(24);await e.context.internalAdapter.createVerificationValue({value:a.user.id,identifier:`reset-password:${d}`,expiresAt:c},e);const f=r?encodeURIComponent(r):"",m=`${e.context.baseURL}/reset-password/${d}?callbackURL=${f}`;return await e.context.options.emailAndPassword.sendResetPassword({user:a.user,url:m,token:d},e.request),e.json({status:!0})});ot("/reset-password/:token",{method:"GET",query:rt({callbackURL:oe().meta({description:"The URL to redirect the user to reset their password"})}),use:[dg(e=>e.query.callbackURL)],metadata:{openapi:{description:"Redirects the user to the callback URL with the token",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async e=>{const{token:t}=e.params,{callbackURL:r}=e.query;if(!t||!r)throw e.redirect(Qb(e.context,r,{error:"INVALID_TOKEN"}));const a=await e.context.internalAdapter.findVerificationValue(`reset-password:${t}`);throw!a||a.expiresAt<new Date?e.redirect(Qb(e.context,r,{error:"INVALID_TOKEN"})):e.redirect(q3(e.context,r,{token:t}))});ot("/reset-password",{method:"POST",query:rt({token:oe().optional()}).optional(),body:rt({newPassword:oe().meta({description:"The new password to set"}),token:oe().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{var g,v,w,b,N;const t=e.body.token||((g=e.query)==null?void 0:g.token);if(!t)throw new se("BAD_REQUEST",{message:Oe.INVALID_TOKEN});const{newPassword:r}=e.body,a=(v=e.context.password)==null?void 0:v.config.minPasswordLength,l=(w=e.context.password)==null?void 0:w.config.maxPasswordLength;if(r.length<a)throw new se("BAD_REQUEST",{message:Oe.PASSWORD_TOO_SHORT});if(r.length>l)throw new se("BAD_REQUEST",{message:Oe.PASSWORD_TOO_LONG});const c=`reset-password:${t}`,d=await e.context.internalAdapter.findVerificationValue(c);if(!d||d.expiresAt<new Date)throw new se("BAD_REQUEST",{message:Oe.INVALID_TOKEN});const f=d.value,m=await e.context.password.hash(r);if((await e.context.internalAdapter.findAccounts(f)).find(k=>k.providerId==="credential")?await e.context.internalAdapter.updatePassword(f,m,e):await e.context.internalAdapter.createAccount({userId:f,providerId:"credential",password:m,accountId:f},e),await e.context.internalAdapter.deleteVerificationValue(d.id),(b=e.context.options.emailAndPassword)!=null&&b.onPasswordReset){const k=await e.context.internalAdapter.findUserById(f);k&&await e.context.options.emailAndPassword.onPasswordReset({user:k},e.request)}return(N=e.context.options.emailAndPassword)!=null&&N.revokeSessionsOnPasswordReset&&await e.context.internalAdapter.deleteSessions(f),e.json({status:!0})});ot("/change-password",{method:"POST",body:rt({newPassword:oe().meta({description:"The new password to set"}),currentPassword:oe().meta({description:"The current password is required"}),revokeOtherSessions:ma().meta({description:"Must be a boolean value"}).optional()}),use:[di],metadata:{openapi:{description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async e=>{const{newPassword:t,currentPassword:r,revokeOtherSessions:a}=e.body,l=e.context.session,c=e.context.password.config.minPasswordLength;if(t.length<c)throw e.context.logger.error("Password is too short"),new se("BAD_REQUEST",{message:Oe.PASSWORD_TOO_SHORT});const d=e.context.password.config.maxPasswordLength;if(t.length>d)throw e.context.logger.error("Password is too long"),new se("BAD_REQUEST",{message:Oe.PASSWORD_TOO_LONG});const m=(await e.context.internalAdapter.findAccounts(l.user.id)).find(v=>v.providerId==="credential"&&v.password);if(!m||!m.password)throw new se("BAD_REQUEST",{message:Oe.CREDENTIAL_ACCOUNT_NOT_FOUND});const p=await e.context.password.hash(t);if(!await e.context.password.verify({hash:m.password,password:r}))throw new se("BAD_REQUEST",{message:Oe.INVALID_PASSWORD});await e.context.internalAdapter.updateAccount(m.id,{password:p});let g=null;if(a){await e.context.internalAdapter.deleteSessions(l.user.id);const v=await e.context.internalAdapter.createSession(l.user.id,e);if(!v)throw new se("INTERNAL_SERVER_ERROR",{message:Oe.FAILED_TO_GET_SESSION});await ms(e,{session:v,user:l.user}),g=v.token}return e.json({token:g,user:{id:l.user.id,email:l.user.email,name:l.user.name,image:l.user.image,emailVerified:l.user.emailVerified,createdAt:l.user.createdAt,updatedAt:l.user.updatedAt}})});ot("/set-password",{method:"POST",body:rt({newPassword:oe().meta({description:"The new password to set is required"})}),metadata:{SERVER_ONLY:!0},use:[di]},async e=>{const{newPassword:t}=e.body,r=e.context.session,a=e.context.password.config.minPasswordLength;if(t.length<a)throw e.context.logger.error("Password is too short"),new se("BAD_REQUEST",{message:Oe.PASSWORD_TOO_SHORT});const l=e.context.password.config.maxPasswordLength;if(t.length>l)throw e.context.logger.error("Password is too long"),new se("BAD_REQUEST",{message:Oe.PASSWORD_TOO_LONG});const d=(await e.context.internalAdapter.findAccounts(r.user.id)).find(m=>m.providerId==="credential"&&m.password),f=await e.context.password.hash(t);if(!d)return await e.context.internalAdapter.linkAccount({userId:r.user.id,providerId:"credential",accountId:r.user.id,password:f},e),e.json({status:!0});throw new se("BAD_REQUEST",{message:"user already has a password"})});ot("/delete-user",{method:"POST",use:[di],body:rt({callbackURL:oe().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:oe().meta({description:"The password of the user is required to delete the user"}).optional(),token:oe().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{description:"Delete the user",responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async e=>{var l,c,d,f,m,p;if(!((c=(l=e.context.options.user)==null?void 0:l.deleteUser)!=null&&c.enabled))throw e.context.logger.error("Delete user is disabled. Enable it in the options",{session:e.context.session}),new se("NOT_FOUND");const t=e.context.session;if(e.body.password){const g=(await e.context.internalAdapter.findAccounts(t.user.id)).find(w=>w.providerId==="credential"&&w.password);if(!g||!g.password)throw new se("BAD_REQUEST",{message:Oe.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await e.context.password.verify({hash:g.password,password:e.body.password}))throw new se("BAD_REQUEST",{message:Oe.INVALID_PASSWORD})}if(e.body.token)return await V3({...e,query:{token:e.body.token}}),e.json({success:!0,message:"User deleted"});if((d=e.context.options.user.deleteUser)!=null&&d.sendDeleteAccountVerification){const x=Sp(32,"0-9","a-z");await e.context.internalAdapter.createVerificationValue({value:t.user.id,identifier:`delete-account-${x}`,expiresAt:new Date(Date.now()+(((f=e.context.options.user.deleteUser)==null?void 0:f.deleteTokenExpiresIn)||60*60*24)*1e3)},e);const g=`${e.context.baseURL}/delete-user/callback?token=${x}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.deleteUser.sendDeleteAccountVerification({user:t.user,url:g,token:x},e.request),e.json({success:!0,message:"Verification email sent"})}if(!e.body.password&&e.context.sessionConfig.freshAge!==0){const x=new Date(t.session.createdAt).getTime(),g=e.context.sessionConfig.freshAge*1e3;if(Date.now()-x>g*1e3)throw new se("BAD_REQUEST",{message:Oe.SESSION_EXPIRED})}const r=(m=e.context.options.user.deleteUser)==null?void 0:m.beforeDelete;r&&await r(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),Io(e);const a=(p=e.context.options.user.deleteUser)==null?void 0:p.afterDelete;return a&&await a(t.user,e.request),e.json({success:!0,message:"User deleted"})});const V3=ot("/delete-user/callback",{method:"GET",query:rt({token:oe().meta({description:"The token to verify the deletion request"}),callbackURL:oe().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[dg(e=>e.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async e=>{var c,d,f,m;if(!((d=(c=e.context.options.user)==null?void 0:c.deleteUser)!=null&&d.enabled))throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new se("NOT_FOUND");const t=await zr(e);if(!t)throw new se("NOT_FOUND",{message:Oe.FAILED_TO_GET_USER_INFO});const r=await e.context.internalAdapter.findVerificationValue(`delete-account-${e.query.token}`);if(!r||r.expiresAt<new Date)throw new se("NOT_FOUND",{message:Oe.INVALID_TOKEN});if(r.value!==t.user.id)throw new se("NOT_FOUND",{message:Oe.INVALID_TOKEN});const a=(f=e.context.options.user.deleteUser)==null?void 0:f.beforeDelete;a&&await a(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),await e.context.internalAdapter.deleteVerificationValue(r.id),Io(e);const l=(m=e.context.options.user.deleteUser)==null?void 0:m.afterDelete;if(l&&await l(t.user,e.request),e.query.callbackURL)throw e.redirect(e.query.callbackURL||"/");return e.json({success:!0,message:"User deleted"})});ot("/change-email",{method:"POST",body:rt({newEmail:eg().meta({description:"The new email address to set must be a valid email address"}),callbackURL:oe().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[di],metadata:{openapi:{responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{var c,d,f,m,p;if(!((d=(c=e.context.options.user)==null?void 0:c.changeEmail)!=null&&d.enabled))throw e.context.logger.error("Change email is disabled."),new se("BAD_REQUEST",{message:"Change email is disabled"});const t=e.body.newEmail.toLowerCase();if(t===e.context.session.user.email)throw e.context.logger.error("Email is the same"),new se("BAD_REQUEST",{message:"Email is the same"});if(await e.context.internalAdapter.findUserByEmail(t))throw e.context.logger.error("Email already exists"),new se("BAD_REQUEST",{message:"Couldn't update your email"});if(e.context.session.user.emailVerified!==!0){if(await e.context.internalAdapter.findUserByEmail(t))throw new se("UNPROCESSABLE_ENTITY",{message:Oe.USER_ALREADY_EXISTS});if(await e.context.internalAdapter.updateUserByEmail(e.context.session.user.email,{email:t},e),await ms(e,{session:e.context.session.session,user:{...e.context.session.user,email:t}}),(f=e.context.options.emailVerification)!=null&&f.sendVerificationEmail){const g=await zo(e.context.secret,t,void 0,(m=e.context.options.emailVerification)==null?void 0:m.expiresIn),v=`${e.context.baseURL}/verify-email?token=${g}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:{...e.context.session.user,email:t},url:v,token:g},e.request)}return e.json({status:!0})}if(!e.context.options.user.changeEmail.sendChangeEmailVerification)throw e.context.logger.error("Verification email isn't enabled."),new se("BAD_REQUEST",{message:"Verification email isn't enabled"});const a=await zo(e.context.secret,e.context.session.user.email,t,(p=e.context.options.emailVerification)==null?void 0:p.expiresIn),l=`${e.context.baseURL}/verify-email?token=${a}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.changeEmail.sendChangeEmailVerification({user:e.context.session.user,newEmail:t,url:l,token:a},e.request),e.json({status:!0})});function H3(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}const G3=(e="Unknown")=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Error</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --accent-color: #000000;
            --error-color: #dc3545;
            --border-color: #e9ecef;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            line-height: 1.5;
        }
        .error-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            text-align: center;
            max-width: 90%;
            width: 400px;
        }
        h1 {
            color: var(--error-color);
            font-size: 1.75rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        p {
            margin-bottom: 1.5rem;
            color: #495057;
        }
        .btn {
            background-color: var(--accent-color);
            color: #ffffff;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 500;
            border: 2px solid var(--accent-color);
        }
        .btn:hover {
            background-color: #131721;
        }
        .error-code {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <div class="icon">⚠️</div>
        <h1>Better Auth Error</h1>
        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>
        <a href="/" id="returnLink" class="btn">Return to Application</a>
        <div class="error-code">Error Code: <span id="errorCode">${H3(e)}</span></div>
    </div>
</body>
</html>`;ot("/error",{method:"GET",metadata:{...fg,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async e=>{var r;const t=new URL(((r=e.request)==null?void 0:r.url)||"").searchParams.get("error")||"Unknown";return new Response(G3(t),{headers:{"Content-Type":"text/html"}})});ot("/ok",{method:"GET",metadata:{...fg,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async e=>e.json({ok:!0}));ot("/list-accounts",{method:"GET",use:[sg],metadata:{openapi:{description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","scopes"]}}}}}}}}},async e=>{const t=e.context.session,r=await e.context.internalAdapter.findAccounts(t.user.id);return e.json(r.map(a=>{var l;return{id:a.id,providerId:a.providerId,createdAt:a.createdAt,updatedAt:a.updatedAt,accountId:a.accountId,scopes:((l=a.scope)==null?void 0:l.split(","))||[]}}))});ot("/link-social",{method:"POST",requireHeaders:!0,body:rt({callbackURL:oe().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:$S,idToken:rt({token:oe(),nonce:oe().optional(),accessToken:oe().optional(),refreshToken:oe().optional(),scopes:Ed(oe()).optional()}).optional(),requestSignUp:ma().optional(),scopes:Ed(oe()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:oe().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:ma().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional()}),use:[sg],metadata:{openapi:{description:"Link a social account to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async e=>{var c,d,f,m,p,x,g,v,w,b,N;const t=e.context.session,r=e.context.socialProviders.find(k=>k.id===e.body.provider);if(!r)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new se("NOT_FOUND",{message:Oe.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!r.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new se("NOT_FOUND",{message:Oe.ID_TOKEN_NOT_SUPPORTED});const{token:k,nonce:R}=e.body.idToken;if(!await r.verifyIdToken(k,R))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new se("UNAUTHORIZED",{message:Oe.INVALID_TOKEN});const U=await r.getUserInfo({idToken:k,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!U||!(U!=null&&U.user))throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new se("UNAUTHORIZED",{message:Oe.FAILED_TO_GET_USER_INFO});const T=String(U.user.id);if(!U.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new se("UNAUTHORIZED",{message:Oe.USER_EMAIL_NOT_FOUND});if((await e.context.internalAdapter.findAccounts(t.user.id)).find(q=>q.providerId===r.id&&q.accountId===T))return e.json({url:"",status:!0,redirect:!1});const J=(d=(c=e.context.options.account)==null?void 0:c.accountLinking)==null?void 0:d.trustedProviders;if(!(J==null?void 0:J.includes(r.id))&&!U.user.emailVerified||((m=(f=e.context.options.account)==null?void 0:f.accountLinking)==null?void 0:m.enabled)===!1)throw new se("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(U.user.email!==t.user.email&&((x=(p=e.context.options.account)==null?void 0:p.accountLinking)==null?void 0:x.allowDifferentEmails)!==!0)throw new se("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await e.context.internalAdapter.createAccount({userId:t.user.id,providerId:r.id,accountId:T,accessToken:e.body.idToken.accessToken,idToken:k,refreshToken:e.body.idToken.refreshToken,scope:(g=e.body.idToken.scopes)==null?void 0:g.join(",")},e)}catch{throw new se("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(((w=(v=e.context.options.account)==null?void 0:v.accountLinking)==null?void 0:w.updateUserInfoOnLink)===!0)try{await e.context.internalAdapter.updateUser(t.user.id,{name:(b=U.user)==null?void 0:b.name,image:(N=U.user)==null?void 0:N.image})}catch(q){console.warn("Could not update user - "+q.toString())}return e.json({url:"",status:!0,redirect:!1})}const a=await MS(e,{userId:t.user.id,email:t.user.email}),l=await r.createAuthorizationURL({state:a.state,codeVerifier:a.codeVerifier,redirectURI:`${e.context.baseURL}/callback/${r.id}`,scopes:e.body.scopes});return e.json({url:l.toString(),redirect:!e.body.disableRedirect})});ot("/unlink-account",{method:"POST",body:rt({providerId:oe(),accountId:oe().optional()}),use:[M6],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{var c,d;const{providerId:t,accountId:r}=e.body,a=await e.context.internalAdapter.findAccounts(e.context.session.user.id);if(a.length===1&&!((d=(c=e.context.options.account)==null?void 0:c.accountLinking)!=null&&d.allowUnlinkingAll))throw new se("BAD_REQUEST",{message:Oe.FAILED_TO_UNLINK_LAST_ACCOUNT});const l=a.find(f=>r?f.accountId===r&&f.providerId===t:f.providerId===t);if(!l)throw new se("BAD_REQUEST",{message:Oe.ACCOUNT_NOT_FOUND});return await e.context.internalAdapter.deleteAccount(l.id),e.json({status:!0})});const K3=ot("/get-access-token",{method:"POST",body:rt({providerId:oe().meta({description:"The provider ID for the OAuth provider"}),accountId:oe().meta({description:"The account ID associated with the refresh token"}).optional(),userId:oe().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{var x,g;const{providerId:t,accountId:r,userId:a}=e.body,l=e.request,c=await zr(e);if(l&&!c)throw e.error("UNAUTHORIZED");let d=((x=c==null?void 0:c.user)==null?void 0:x.id)||a;if(!d)throw new se("BAD_REQUEST",{message:"Either userId or session is required"});if(!e.context.socialProviders.find(v=>v.id===t))throw new se("BAD_REQUEST",{message:`Provider ${t} is not supported.`});const m=(await e.context.internalAdapter.findAccounts(d)).find(v=>r?v.id===r&&v.providerId===t:v.providerId===t);if(!m)throw new se("BAD_REQUEST",{message:"Account not found"});const p=e.context.socialProviders.find(v=>v.id===t);if(!p)throw new se("BAD_REQUEST",{message:`Provider ${t} not found.`});try{let v=null;const w=m.accessTokenExpiresAt&&new Date(m.accessTokenExpiresAt).getTime()-Date.now()<5e3;m.refreshToken&&w&&p.refreshAccessToken&&(v=await p.refreshAccessToken(m.refreshToken),await e.context.internalAdapter.updateAccount(m.id,{accessToken:await wn(v.accessToken,e.context),accessTokenExpiresAt:v.accessTokenExpiresAt,refreshToken:await wn(v.refreshToken,e.context),refreshTokenExpiresAt:v.refreshTokenExpiresAt}));const b={accessToken:await s3((v==null?void 0:v.accessToken)??m.accessToken??"",e.context),accessTokenExpiresAt:(v==null?void 0:v.accessTokenExpiresAt)??m.accessTokenExpiresAt??void 0,scopes:((g=m.scope)==null?void 0:g.split(","))??[],idToken:(v==null?void 0:v.idToken)??m.idToken??void 0};return e.json(b)}catch(v){throw new se("BAD_REQUEST",{message:"Failed to get a valid access token",cause:v})}});ot("/refresh-token",{method:"POST",body:rt({providerId:oe().meta({description:"The provider ID for the OAuth provider"}),accountId:oe().meta({description:"The account ID associated with the refresh token"}).optional(),userId:oe().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{var x;const{providerId:t,accountId:r,userId:a}=e.body,l=e.request,c=await zr(e);if(l&&!c)throw e.error("UNAUTHORIZED");let d=((x=c==null?void 0:c.user)==null?void 0:x.id)||a;if(!d)throw new se("BAD_REQUEST",{message:"Either userId or session is required"});const m=(await e.context.internalAdapter.findAccounts(d)).find(g=>r?g.id===r&&g.providerId===t:g.providerId===t);if(!m)throw new se("BAD_REQUEST",{message:"Account not found"});const p=e.context.socialProviders.find(g=>g.id===t);if(!p)throw new se("BAD_REQUEST",{message:`Provider ${t} not found.`});if(!p.refreshAccessToken)throw new se("BAD_REQUEST",{message:`Provider ${t} does not support token refreshing.`});try{const g=await p.refreshAccessToken(m.refreshToken);return await e.context.internalAdapter.updateAccount(m.id,{accessToken:await wn(g.accessToken,e.context),refreshToken:await wn(g.refreshToken,e.context),accessTokenExpiresAt:g.accessTokenExpiresAt,refreshTokenExpiresAt:g.refreshTokenExpiresAt}),e.json(g)}catch(g){throw new se("BAD_REQUEST",{message:"Failed to refresh access token",cause:g})}});ot("/account-info",{method:"POST",use:[sg],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},body:rt({accountId:oe().meta({description:"The provider given account id for which to get the account info"})})},async e=>{const t=await e.context.internalAdapter.findAccount(e.body.accountId);if(!t||t.userId!==e.context.session.user.id)throw new se("BAD_REQUEST",{message:"Account not found"});const r=e.context.socialProviders.find(c=>c.id===t.providerId);if(!r)throw new se("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${t.providerId} but it is not configured`});const a=await K3({...e,body:{accountId:t.id,providerId:t.providerId},returnHeaders:!1});if(!a.accessToken)throw new se("BAD_REQUEST",{message:"Access token not found"});const l=await r.getUserInfo({...a,accessToken:a.accessToken});return e.json(l)});const Z3={user:["create","list","set-role","ban","impersonate","delete","set-password","get","update"],session:["list","revoke","delete"]},BS=iR(Z3),qS=BS.newRole({user:["create","list","set-role","ban","impersonate","delete","set-password","get","update"],session:["list","revoke","delete"]}),VS=BS.newRole({user:[],session:[]}),F3={admin:qS,user:VS},Q3=e=>{var a,l,c,d;if(e.userId&&((l=(a=e.options)==null?void 0:a.adminUserIds)!=null&&l.includes(e.userId)))return!0;if(!e.permissions&&!e.permission)return!1;const t=(e.role||((c=e.options)==null?void 0:c.defaultRole)||"user").split(","),r=((d=e.options)==null?void 0:d.roles)||F3;for(const f of t){const m=r[f],p=m==null?void 0:m.authorize(e.permission??e.permissions);if(p!=null&&p.success)return!0}return!1},Y3=e=>{const t={admin:qS,user:VS,...e==null?void 0:e.roles};return{id:"admin-client",$InferServerPlugin:{},getActions:()=>({admin:{checkRolePermission:r=>Q3({role:r.role,options:{ac:e==null?void 0:e.ac,roles:t},permissions:r.permissions??r.permission})}}),pathMethods:{"/admin/list-users":"GET","/admin/stop-impersonating":"POST"}}},dd=sR({baseURL:"http://localhost:3000",fetchOptions:{credentials:"include"},plugins:[Y3()]}),{signIn:hM,signOut:mM,signUp:J3,useSession:pM,getSession:Yb,admin:zm}=dd,Jb=e=>{var a;if(console.log("sessionToUser - input session:",e),console.log("sessionToUser - session type:",typeof e),!e)return console.log("sessionToUser - session is null/undefined"),null;let t=null;if(e.user?(console.log("sessionToUser - found session.user:",e.user),t=e.user):(a=e.data)!=null&&a.user?(console.log("sessionToUser - found session.data.user:",e.data.user),t=e.data.user):e.id&&e.email&&(console.log("sessionToUser - treating session as direct user object"),t=e),!t)return console.log("sessionToUser - no user found in session"),null;if(console.log("sessionToUser - extracted user:",t),!t.id||!t.email)return console.log("sessionToUser - user missing required fields (id or email)"),null;let r="user";return t.role&&(t.role==="admin"?r="admin":r="user"),{id:t.id,name:t.name||t.email,email:t.email,role:r,isAuthenticated:!0}};let Gs=null;const X3=5e3,Ke={login:async(e,t)=>{var r,a;try{const l=await dd.signIn.email({email:e,password:t});if((r=l.data)!=null&&r.user){const c=await Yb(),d=Jb(c);return Gs={user:d,timestamp:Date.now()},{success:!0,user:d||void 0}}return{success:!1,error:((a=l.error)==null?void 0:a.message)||"Login failed"}}catch{return{success:!1,error:"An unexpected error occurred"}}},getCurrentUser:async()=>{if(Gs&&Date.now()-Gs.timestamp<X3)return console.log("getCurrentUser - returning cached user:",Gs.user),Gs.user;try{console.log("getCurrentUser - fetching fresh session");const e=await Yb({fetchOptions:{onError(r){console.error("getCurrentUser - fetch error:",r)}}});console.log("getCurrentUser - raw session response:",e);const t=Jb(e);return console.log("getCurrentUser - converted user:",t),Gs={user:t,timestamp:Date.now()},t}catch(e){return console.error("getCurrentUser - error:",e),Gs=null,null}},isAuthenticated:async()=>{try{console.log("isAuthenticated - starting check");const e=await Ke.getCurrentUser(),t=(e==null?void 0:e.isAuthenticated)??!1;return console.log("isAuthenticated - user:",e,"result:",t),t}catch(e){return console.warn("Authentication check failed, falling back to false:",e),!1}},hasRole:async e=>{const t=await Ke.getCurrentUser();return(t==null?void 0:t.role)===e||!1},isAdmin:async()=>await Ke.hasRole("admin"),isUser:async()=>await Ke.hasRole("user"),logout:async()=>{await dd.signOut(),Gs=null},getDefaultDashboard:async()=>{const e=await Ke.getCurrentUser();return e?e.role==="admin"?"/dashboard/admin":"/dashboard/user":"/login"},signInWithGoogle:async()=>{try{const e=`${window.location.origin}/auth/callback`;return await dd.signIn.social({provider:"google",callbackURL:e}),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Authentication failed"}}}};function W3(){const e=Ft(),[t,r]=C.useState(null),[a,l]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const g=await Ke.getCurrentUser();r(g)}catch(g){console.error("Failed to load user:",g)}finally{l(!1)}})()},[]);const c=async()=>{try{await Ke.logout(),e({to:"/login"})}catch(x){console.error("Logout failed:",x)}},d=()=>{console.log("Navigate to profile")},f=()=>{console.log("Navigate to settings")},m=()=>{e({to:"/admin"})};if(a)return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-full animate-pulse"}),o.jsx(rb,{className:"h-4 w-4 text-gray-400"})]});if(!t)return o.jsx(ae,{variant:"outline",size:"sm",onClick:()=>e({to:"/login"}),children:"Login"});const p=o.jsxs("div",{className:"flex items-center space-x-2 hover:bg-gray-50 rounded-lg px-2 py-1 transition-colors cursor-pointer",children:[o.jsx(aT,{src:void 0,fallback:t.name,size:"sm"}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),o.jsx("div",{className:"text-xs text-gray-500 capitalize",children:t.role})]}),o.jsx(rb,{className:"h-4 w-4 text-gray-400"})]});return o.jsxs(iT,{trigger:p,align:"end",children:[o.jsx(oT,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:t.name}),o.jsx("p",{className:"text-xs leading-none text-gray-500",children:t.email})]})}),o.jsx(sb,{}),o.jsxs(Hu,{onClick:d,children:[o.jsx(Pd,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(Hu,{onClick:f,children:[o.jsx(u1,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),t.role==="admin"&&o.jsxs(Hu,{onClick:m,children:[o.jsx(QA,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Admin Panel"})]}),o.jsx(sb,{}),o.jsxs(Hu,{onClick:c,children:[o.jsx(MA,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Logout"})]})]})}function Ye({title:e,subtitle:t,actions:r,showBackButton:a=!1,children:l}){const c=In(),d=()=>{c.history.back()};return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o.jsx(rT,{}),o.jsxs("div",{className:"flex-1 lg:ml-0",children:[o.jsx("header",{className:"bg-white border-b border-gray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4 lg:ml-0 ml-12",children:[a&&o.jsx(ae,{variant:"ghost",size:"sm",onClick:d,className:"p-2",children:o.jsx(Mr,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),t&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[r,o.jsx(W3,{})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l})]})]})}const pe=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Tt("rounded-xl border bg-card text-card-foreground shadow",e),...t}));pe.displayName="Card";const He=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Tt("flex flex-col space-y-1.5 p-6",e),...t}));He.displayName="CardHeader";const Ge=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Tt("font-semibold leading-none tracking-tight",e),...t}));Ge.displayName="CardTitle";const fs=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Tt("text-sm text-muted-foreground",e),...t}));fs.displayName="CardDescription";const Fe=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Tt("p-6 pt-0",e),...t}));Fe.displayName="CardContent";const eI=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Tt("flex items-center p-6 pt-0",e),...t}));eI.displayName="CardFooter";function Fd({data:e,columns:t,loading:r=!1,pagination:a,onSort:l,emptyMessage:c="No data available"}){const[d,f]=C.useState(null),m=g=>{let v="asc";d&&d.key===g&&d.direction==="asc"&&(v="desc"),f({key:g,direction:v}),l==null||l(g,v)},p=g=>!d||d.key!==g?o.jsx(oA,{className:"h-4 w-4"}):d.direction==="asc"?o.jsx(cA,{className:"h-4 w-4"}):o.jsx(sA,{className:"h-4 w-4"}),x=(g,v)=>{if(v.render)return v.render(g);const w=g[v.key];return(w==null?void 0:w.toString())||"-"};return r?o.jsx(pe,{className:"overflow-hidden",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-3",children:o.jsx("div",{className:"flex space-x-4",children:t.map((g,v)=>o.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"},v))})}),Array.from({length:5}).map((g,v)=>o.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:o.jsx("div",{className:"flex space-x-4",children:t.map((w,b)=>o.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"},b))})},v))]})}):o.jsxs(pe,{className:"overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:t.map(g=>o.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${g.width||""}`,children:g.sortable?o.jsxs("button",{onClick:()=>m(g.key.toString()),className:"flex items-center space-x-1 hover:text-gray-700",children:[o.jsx("span",{children:g.header}),p(g.key.toString())]}):g.header},g.key.toString()))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:t.length,className:"px-6 py-12 text-center text-gray-500",children:c})}):e.map((g,v)=>o.jsx("tr",{className:"hover:bg-gray-50",children:t.map(w=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x(g,w)},w.key.toString()))},v))})]})}),a&&o.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[o.jsx(ae,{variant:"outline",onClick:()=>a.onPageChange(a.page-1),disabled:a.page<=1,children:"Previous"}),o.jsx(ae,{variant:"outline",onClick:()=>a.onPageChange(a.page+1),disabled:a.page*a.pageSize>=a.total,children:"Next"})]}),o.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:(a.page-1)*a.pageSize+1})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(a.page*a.pageSize,a.total)})," ","of"," ",o.jsx("span",{className:"font-medium",children:a.total})," results"]})}),o.jsx("div",{children:o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[o.jsx(ae,{variant:"outline",size:"sm",onClick:()=>a.onPageChange(a.page-1),disabled:a.page<=1,className:"rounded-l-md",children:o.jsx(xA,{className:"h-4 w-4"})}),o.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:["Page ",a.page]}),o.jsx(ae,{variant:"outline",size:"sm",onClick:()=>a.onPageChange(a.page+1),disabled:a.page*a.pageSize>=a.total,className:"rounded-r-md",children:o.jsx(bA,{className:"h-4 w-4"})})]})})]})]})})]})}const Ql="http://localhost:3000",kt={async get(e){const t=await fetch(`${Ql}${e}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`API Error: ${t.status} ${t.statusText}`);return t.json()},async post(e,t){const r=await fetch(`${Ql}${e}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0});if(!r.ok)throw new Error(`API Error: ${r.status} ${r.statusText}`);return r.json()},async put(e,t){const r=await fetch(`${Ql}${e}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0});if(!r.ok)throw new Error(`API Error: ${r.status} ${r.statusText}`);return r.json()},async patch(e,t){const r=await fetch(`${Ql}${e}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0});if(!r.ok)throw new Error(`API Error: ${r.status} ${r.statusText}`);return r.json()},async delete(e){const t=await fetch(`${Ql}${e}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`API Error: ${t.status} ${t.statusText}`);return t.json()},async downloadFile(e,t){try{const r=await fetch(e,{method:"GET",credentials:"include"});if(!r.ok)throw new Error(`Download failed: ${r.status} ${r.statusText}`);const a=await r.blob(),l=window.URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(l)}catch(r){throw console.error("Download failed:",r),r}}},Ut={BOOKINGS:"/api/bookings",BOOKING_BY_ID:e=>`/api/bookings/${e}`,INVOICES:"/api/invoices",GENERATE_INVOICE:e=>`/api/invoices/${e}/generate`,INVOICE_BY_BOOKING:e=>`/api/invoices/booking/${e}`,INVOICE_BY_BOOKING_TEST:e=>`/api/invoices/test/booking/${e}`,DOWNLOAD_INVOICE:e=>`/api/invoices/${e}/download`,VOUCHERS:"/api/vouchers",GENERATE_VOUCHER:e=>`/api/vouchers/${e}/generate`,REPORTS_SUMMARY:"/api/reports/summary",ANALYTICS_REVENUE:"/api/analytics/revenue",ANALYTICS_PROFIT:"/api/analytics/profit",ANALYTICS_DASHBOARD:"/api/analytics/dashboard",ANALYTICS_SUMMARY:"/api/analytics/summary",COSTS_HOTEL_TEMPLATES:"/api/costs/hotel-templates",COSTS_HOTEL_TEMPLATE_BY_ID:e=>`/api/costs/hotel-templates/${e}`,COSTS_OPERATIONAL:"/api/costs/operational",COSTS_OPERATIONAL_BY_ID:e=>`/api/costs/operational/${e}`,COSTS_OPERATIONAL_BY_BOOKING:e=>`/api/costs/operational/booking/${e}`},ro={all:["vouchers"],lists:()=>[...ro.all,"list"],list:e=>[...ro.lists(),{filters:e}],details:()=>[...ro.all,"detail"],detail:e=>[...ro.details(),e]};function tI(){return Pr({queryKey:ro.lists(),queryFn:async()=>(await kt.get(Ut.VOUCHERS)).data,staleTime:5*60*1e3})}function nI(e){return Pr({queryKey:[...ro.all,"check-exists",e],queryFn:async()=>{try{return(await kt.get(Ut.VOUCHERS)).data.find(l=>l.bookingId.toString()===e)||null}catch(t){return console.error("Error checking voucher existence:",t),null}},enabled:!!e,staleTime:5*60*1e3})}const rI=dt("/vouchers")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:sI});function sI(){const{data:e=[],isLoading:t,error:r}=tI(),a=(v,w)=>{const b=new Date(v),N=new Date(w),k=Math.abs(N.getTime()-b.getTime());return Math.ceil(k/(1e3*60*60*24))},l=[{key:"number",header:"Voucher Number",sortable:!0,width:"w-36"},{key:"guestName",header:"Guest",sortable:!0},{key:"hotelName",header:"Hotel",sortable:!0},{key:"checkIn",header:"Check-in",render:v=>Be(v.checkIn),sortable:!0,width:"w-28"},{key:"checkOut",header:"Check-out",render:v=>Be(v.checkOut),sortable:!0,width:"w-28"},{key:"nights",header:"Nights",render:v=>{const w=a(v.checkIn,v.checkOut);return`${w} night${w>1?"s":""}`},sortable:!0,width:"w-20"},{key:"createdAt",header:"Created",render:v=>Be(v.createdAt),sortable:!0,width:"w-28"},{key:"actions",header:"Actions",render:v=>o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>c(v),title:"View Voucher",children:o.jsx(fa,{className:"h-4 w-4"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>d(v),title:"Download PDF",children:o.jsx(Gp,{className:"h-4 w-4"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>f(v),title:"Share via WhatsApp",children:o.jsx(ii,{className:"h-4 w-4"})})]}),width:"w-32"}],c=v=>{console.log("Viewing voucher:",v.number),window.open(v.pdfUrl,"_blank")},d=v=>{console.log("Downloading PDF for voucher:",v.number);const w=document.createElement("a");w.href=v.pdfUrl,w.download=`${v.number}.pdf`,document.body.appendChild(w),w.click(),document.body.removeChild(w)},f=v=>{const w=YE({number:v.number,guestName:v.guestName,hotelName:v.hotelName,checkIn:v.checkIn,checkOut:v.checkOut,pdfUrl:v.pdfUrl});qp({phoneNumber:v.clientEmail,message:w})},m=(e==null?void 0:e.length)||0,p=(e==null?void 0:e.filter(v=>v.status==="active").length)||0,x=(e==null?void 0:e.filter(v=>v.status==="used").length)||0;e!=null&&e.filter(v=>v.status==="cancelled").length;const g=(e==null?void 0:e.reduce((v,w)=>v+w.nights,0))||0;return o.jsxs(Ye,{title:"Vouchers",subtitle:"Manage hotel vouchers and guest confirmations",actions:o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(ae,{variant:"outline",children:[o.jsx(Kp,{className:"h-4 w-4 mr-2"}),"Filter"]}),o.jsx(Un,{to:"/vouchers/create",children:o.jsxs(ae,{children:[o.jsx(Ld,{className:"h-4 w-4 mr-2"}),"Create Voucher"]})})]}),children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Vouchers"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:m})]}),o.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:o.jsx(fr,{className:"h-6 w-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:p})]}),o.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:o.jsx(fr,{className:"h-6 w-6 text-green-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Used"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:x})]}),o.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:o.jsx(fr,{className:"h-6 w-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Nights"}),o.jsx("p",{className:"text-3xl font-bold text-purple-600",children:g})]}),o.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:o.jsx(fr,{className:"h-6 w-6 text-purple-600"})})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Vouchers"})}),t?o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(pt,{className:"h-8 w-8 animate-spin text-gray-400"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Loading vouchers..."})]}):r?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("p",{className:"text-red-600",children:"Error loading vouchers. Please try again."})}):o.jsx(Fd,{data:e||[],columns:l,emptyMessage:"No vouchers found"})]})]})}const fe=C.forwardRef(({className:e,type:t,...r},a)=>o.jsx("input",{type:t,className:Tt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));fe.displayName="Input";function aI(e,t=[]){let r=[];function a(c,d){const f=C.createContext(d),m=r.length;r=[...r,d];const p=g=>{var R;const{scope:v,children:w,...b}=g,N=((R=v==null?void 0:v[e])==null?void 0:R[m])||f,k=C.useMemo(()=>b,Object.values(b));return o.jsx(N.Provider,{value:k,children:w})};p.displayName=c+"Provider";function x(g,v){var N;const w=((N=v==null?void 0:v[e])==null?void 0:N[m])||f,b=C.useContext(w);if(b)return b;if(d!==void 0)return d;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[p,x]}const l=()=>{const c=r.map(d=>C.createContext(d));return function(f){const m=(f==null?void 0:f[e])||c;return C.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[a,iI(l,...t)]}function iI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const d=a.reduce((f,{useScope:m,scopeName:p})=>{const g=m(c)[`__scope${p}`];return{...f,...g}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return r.scopeName=t.scopeName,r}function Xb(e,t,{checkForDefaultPrevented:r=!0}={}){return function(l){if(e==null||e(l),r===!1||!l.defaultPrevented)return t==null?void 0:t(l)}}var Dd=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},oI=Uk[" useInsertionEffect ".trim().toString()]||Dd;function lI({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[l,c,d]=cI({defaultProp:t,onChange:r}),f=e!==void 0,m=f?e:l;{const x=C.useRef(e!==void 0);C.useEffect(()=>{const g=x.current;g!==f&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,a])}const p=C.useCallback(x=>{var g;if(f){const v=uI(x)?x(e):x;v!==e&&((g=d.current)==null||g.call(d,v))}else c(x)},[f,e,c,d]);return[m,p]}function cI({defaultProp:e,onChange:t}){const[r,a]=C.useState(e),l=C.useRef(r),c=C.useRef(t);return oI(()=>{c.current=t},[t]),C.useEffect(()=>{var d;l.current!==r&&((d=c.current)==null||d.call(c,r),l.current=r)},[r,l]),[r,a,c]}function uI(e){return typeof e=="function"}function dI(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function fI(e){const[t,r]=C.useState(void 0);return Dd(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let d,f;if("borderBoxSize"in c){const m=c.borderBoxSize,p=Array.isArray(m)?m[0]:m;d=p.inlineSize,f=p.blockSize}else d=e.offsetWidth,f=e.offsetHeight;r({width:d,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}function hI(e,t){return C.useReducer((r,a)=>t[r][a]??r,e)}var HS=e=>{const{present:t,children:r}=e,a=mI(t),l=typeof r=="function"?r({present:a.isPresent}):C.Children.only(r),c=Pp(a.ref,pI(l));return typeof r=="function"||a.isPresent?C.cloneElement(l,{ref:c}):null};HS.displayName="Presence";function mI(e){const[t,r]=C.useState(),a=C.useRef(null),l=C.useRef(e),c=C.useRef("none"),d=e?"mounted":"unmounted",[f,m]=hI(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=ed(a.current);c.current=f==="mounted"?p:"none"},[f]),Dd(()=>{const p=a.current,x=l.current;if(x!==e){const v=c.current,w=ed(p);e?m("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(x&&v!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),Dd(()=>{if(t){let p;const x=t.ownerDocument.defaultView??window,g=w=>{const N=ed(a.current).includes(CSS.escape(w.animationName));if(w.target===t&&N&&(m("ANIMATION_END"),!l.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",p=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},v=w=>{w.target===t&&(c.current=ed(a.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{x.clearTimeout(p),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:C.useCallback(p=>{a.current=p?getComputedStyle(p):null,r(p)},[])}}function ed(e){return(e==null?void 0:e.animationName)||"none"}function pI(e){var a,l;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hg=gI.reduce((e,t)=>{const r=Gw(`Primitive.${t}`),a=C.forwardRef((l,c)=>{const{asChild:d,...f}=l,m=d?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(m,{...f,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Qd="Checkbox",[yI,gM]=aI(Qd),[xI,mg]=yI(Qd);function vI(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:l,disabled:c,form:d,name:f,onCheckedChange:m,required:p,value:x="on",internal_do_not_use_render:g}=e,[v,w]=lI({prop:r,defaultProp:l??!1,onChange:m,caller:Qd}),[b,N]=C.useState(null),[k,R]=C.useState(null),M=C.useRef(!1),U=b?!!d||!!b.closest("form"):!0,T={checked:v,disabled:c,setChecked:w,control:b,setControl:N,name:f,form:d,value:x,hasConsumerStoppedPropagationRef:M,required:p,defaultChecked:da(l)?!1:l,isFormControl:U,bubbleInput:k,setBubbleInput:R};return o.jsx(xI,{scope:t,...T,children:bI(g)?g(T):a})}var GS="CheckboxTrigger",KS=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},l)=>{const{control:c,value:d,disabled:f,checked:m,required:p,setControl:x,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:b}=mg(GS,e),N=Pp(l,x),k=C.useRef(m);return C.useEffect(()=>{const R=c==null?void 0:c.form;if(R){const M=()=>g(k.current);return R.addEventListener("reset",M),()=>R.removeEventListener("reset",M)}},[c,g]),o.jsx(hg.button,{type:"button",role:"checkbox","aria-checked":da(m)?"mixed":m,"aria-required":p,"data-state":JS(m),"data-disabled":f?"":void 0,disabled:f,value:d,...a,ref:N,onKeyDown:Xb(t,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:Xb(r,R=>{g(M=>da(M)?!0:!M),b&&w&&(v.current=R.isPropagationStopped(),v.current||R.stopPropagation())})})});KS.displayName=GS;var pg=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:l,defaultChecked:c,required:d,disabled:f,value:m,onCheckedChange:p,form:x,...g}=e;return o.jsx(vI,{__scopeCheckbox:r,checked:l,defaultChecked:c,disabled:f,required:d,onCheckedChange:p,name:a,form:x,value:m,internal_do_not_use_render:({isFormControl:v})=>o.jsxs(o.Fragment,{children:[o.jsx(KS,{...g,ref:t,__scopeCheckbox:r}),v&&o.jsx(YS,{__scopeCheckbox:r})]})})});pg.displayName=Qd;var ZS="CheckboxIndicator",FS=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...l}=e,c=mg(ZS,r);return o.jsx(HS,{present:a||da(c.checked)||c.checked===!0,children:o.jsx(hg.span,{"data-state":JS(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});FS.displayName=ZS;var QS="CheckboxBubbleInput",YS=C.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:d,required:f,disabled:m,name:p,value:x,form:g,bubbleInput:v,setBubbleInput:w}=mg(QS,e),b=Pp(r,w),N=dI(c),k=fI(a);C.useEffect(()=>{const M=v;if(!M)return;const U=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(U,"checked").set,z=!l.current;if(N!==c&&B){const J=new Event("click",{bubbles:z});M.indeterminate=da(c),B.call(M,da(c)?!1:c),M.dispatchEvent(J)}},[v,N,c,l]);const R=C.useRef(da(c)?!1:c);return o.jsx(hg.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??R.current,required:f,disabled:m,name:p,value:x,form:g,...t,tabIndex:-1,ref:b,style:{...t.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YS.displayName=QS;function bI(e){return typeof e=="function"}function da(e){return e==="indeterminate"}function JS(e){return da(e)?"indeterminate":e?"checked":"unchecked"}const gg=C.forwardRef(({className:e,...t},r)=>o.jsx(pg,{ref:r,className:Tt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(FS,{className:Tt("flex items-center justify-center text-current"),children:o.jsx(pA,{className:"h-4 w-4"})})}));gg.displayName=pg.displayName;const wI=dt("/register")({component:SI});function SI(){const[e,t]=C.useState(!1),[r,a]=C.useState(!1),[l,c]=C.useState(!1),[d,f]=C.useState(!1),[m,p]=C.useState(""),[x,g]=C.useState({name:"",email:"",password:"",confirmPassword:""}),v=Ft(),w=async N=>{if(N.preventDefault(),p(""),x.password!==x.confirmPassword){p("Passwords don't match!");return}if(!l){p("Please agree to the terms and conditions");return}f(!0);try{const k=await J3.email({email:x.email,password:x.password,name:x.name});k.error?p(k.error.message||"Registration failed"):v({to:"/login"})}catch{p("An unexpected error occurred during registration")}finally{f(!1)}},b=N=>{g(k=>({...k,[N.target.name]:N.target.value}))};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 dark:from-gray-900 dark:to-gray-800 p-4",children:o.jsxs(pe,{className:"w-full max-w-md shadow-2xl",children:[o.jsxs(He,{className:"space-y-1 text-center",children:[o.jsx(Ge,{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Create Account"}),o.jsx(fs,{className:"text-gray-600 dark:text-gray-400",children:"Sign up to get started with your account"})]}),o.jsxs(Fe,{children:[o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[m&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[o.jsx(Vp,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:m})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(fe,{id:"name",name:"name",type:"text",placeholder:"Enter your full name",value:x.name,onChange:b,className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(fe,{id:"email",name:"email",type:"email",placeholder:"Enter your email address",value:x.email,onChange:b,className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(cp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(fe,{id:"password",name:"password",type:e?"text":"password",placeholder:"Create a password",value:x.password,onChange:b,className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e?o.jsx(lp,{className:"h-4 w-4"}):o.jsx(fa,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(cp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(fe,{id:"confirmPassword",name:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",value:x.confirmPassword,onChange:b,className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r?o.jsx(lp,{className:"h-4 w-4"}):o.jsx(fa,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(gg,{id:"terms",checked:l,onCheckedChange:N=>c(N),className:"mt-1"}),o.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer leading-relaxed",children:["I agree to the"," ",o.jsx("a",{href:"#",className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 font-medium",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"#",className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 font-medium",children:"Privacy Policy"})]})]}),o.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-medium py-2.5 transition-all duration-200 transform hover:scale-[1.02]",disabled:d,children:d?"Creating Account...":"Create Account"})]}),o.jsxs("div",{className:"mt-6 flex items-center",children:[o.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"}),o.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-gray-400",children:"or"}),o.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"})]}),o.jsx("div",{className:"mt-4 space-y-3",children:o.jsxs(ae,{type:"button",variant:"outline",className:"w-full border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800",children:[o.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",o.jsx(Un,{to:"/login",className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 font-medium",children:"Sign in"})]})})]})]})})}const NI=dt("/login")({component:jI});function jI(){const[e,t]=C.useState(!1),[r,a]=C.useState(!1),[l,c]=C.useState(""),[d,f]=C.useState(""),[m,p]=C.useState(!1),[x,g]=C.useState(""),v=Ft(),w=async b=>{b.preventDefault(),p(!0),g("");try{const N=await Ke.login(l,d);if(N.success&&N.user){const k=await Ke.getDefaultDashboard();v({to:k})}else g(N.error||"Login failed")}catch{g("An unexpected error occurred")}finally{p(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:o.jsxs(pe,{className:"w-full max-w-md shadow-2xl",children:[o.jsxs(He,{className:"space-y-1 text-center",children:[o.jsx(Ge,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Welcome Back"}),o.jsx(fs,{className:"text-gray-600 dark:text-gray-400",children:"Sign in to your account to continue"})]}),o.jsxs(Fe,{children:[o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[x&&o.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[o.jsx(Vp,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:x})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email or Username"}),o.jsxs("div",{className:"relative",children:[o.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(fe,{id:"email",name:"email",type:"email",placeholder:"Enter your email or username",value:l,onChange:b=>c(b.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(cp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(fe,{id:"password",name:"password",type:e?"text":"password",placeholder:"Enter your password",value:d,onChange:b=>f(b.target.value),className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e?o.jsx(lp,{className:"h-4 w-4"}):o.jsx(fa,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gg,{id:"remember",checked:r,onCheckedChange:b=>a(b)}),o.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer",children:"Remember me"})]}),o.jsx(Un,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Forgot password?"})]}),o.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium py-2.5 transition-all duration-200 transform hover:scale-[1.02]",disabled:m,children:m?"Signing In...":"Sign In"})]}),o.jsxs("div",{className:"mt-6 flex items-center",children:[o.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"}),o.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-gray-400",children:"or"}),o.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"})]}),o.jsx("div",{className:"mt-4 space-y-3",children:o.jsxs(ae,{type:"button",variant:"outline",className:"w-full border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:async()=>{try{await Ke.signInWithGoogle()}catch{g("Google sign-in failed. Please try again.")}},children:[o.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",o.jsx(Un,{to:"/register",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Sign up"})]})})]})]})})}const kI=Fw("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white shadow hover:bg-green-500/80",warning:"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-500/80",admin:"border-transparent bg-purple-500 text-white shadow hover:bg-purple-500/80",user:"border-transparent bg-blue-500 text-white shadow hover:bg-blue-500/80"}},defaultVariants:{variant:"default"}});function dn({className:e,variant:t,...r}){return o.jsx("div",{className:Tt(kI({variant:t}),e),...r})}const so={all:["invoices"],lists:()=>[...so.all,"list"],list:e=>[...so.lists(),{filters:e}],details:()=>[...so.all,"detail"],detail:e=>[...so.details(),e]};function _I(){return Pr({queryKey:so.lists(),queryFn:async()=>(await kt.get(Ut.INVOICES)).data,staleTime:5*60*1e3})}function EI(e){return Pr({queryKey:[...so.all,"check-exists",e],queryFn:async()=>{try{return(await kt.get(Ut.INVOICES)).data.find(l=>l.bookingId.toString()===e)||null}catch(t){return console.error("Error checking invoice existence:",t),null}},enabled:!!e,staleTime:5*60*1e3})}const AI=dt("/invoices")({component:TI});function TI(){const{data:e=[],isLoading:t,error:r}=_I(),a=[{key:"number",header:"Invoice Number",sortable:!0,width:"w-36"},{key:"clientName",header:"Client",sortable:!0},{key:"bookingCode",header:"Booking",sortable:!0,width:"w-24"},{key:"bookingId",header:"Booking ID",render:w=>o.jsxs(Un,{to:"/bookings/$bookingId",params:{bookingId:w.bookingId.toString()},className:"text-blue-600 hover:text-blue-800 underline",children:["#",w.bookingId]}),sortable:!0,width:"w-24"},{key:"amount",header:"Amount",render:w=>Bt(w.amount,w.currency),sortable:!0,width:"w-32"},{key:"status",header:"Status",render:w=>o.jsx(dn,{className:d(w.status),children:w.status}),sortable:!0,width:"w-24"},{key:"issueDate",header:"Issue Date",render:w=>Be(w.issueDate),sortable:!0,width:"w-28"},{key:"dueDate",header:"Due Date",render:w=>Be(w.dueDate),sortable:!0,width:"w-28"},{key:"actions",header:"Actions",render:w=>o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>l(w),children:o.jsx(fa,{className:"h-4 w-4"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>c(w),children:o.jsx(Gp,{className:"h-4 w-4"})})]}),width:"w-24"}],l=async w=>{try{const b=await fetch(`http://localhost:3000/api/invoices/booking/${w.bookingCode}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!b.ok)throw new Error(`Failed to get invoice: ${b.status}`);const N=await b.json();N.success&&N.data.pdfUrl?window.open(N.data.pdfUrl,"_blank"):console.error("No PDF URL found in response")}catch(b){console.error("Error viewing invoice:",b),window.open(w.pdfUrl,"_blank")}},c=async w=>{try{const b=await fetch(`http://localhost:3000/api/invoices/booking/${w.bookingCode}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!b.ok)throw new Error(`Failed to get invoice: ${b.status}`);const N=await b.json();if(N.success&&N.data.pdfUrl){const k=await fetch(N.data.pdfUrl,{method:"GET",credentials:"include"});if(!k.ok)throw new Error(`Download failed: ${k.status}`);const R=await k.blob(),M=window.URL.createObjectURL(R),U=document.createElement("a");U.href=M,U.download=`${N.data.number||w.number}.pdf`,document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(M)}else console.error("No PDF URL found in response")}catch(b){console.error("Error downloading invoice:",b);const N=document.createElement("a");N.href=w.pdfUrl,N.download=`${w.number}.pdf`,document.body.appendChild(N),N.click(),document.body.removeChild(N)}},d=w=>{switch(w){case"paid":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=e.length,m=e.filter(w=>w.status==="paid").length,p=e.filter(w=>w.status==="pending").length,x=e.filter(w=>w.status==="overdue").length,g=e.reduce((w,b)=>w+parseInt(b.amount),0),v=e.filter(w=>w.status==="paid").reduce((w,b)=>w+parseInt(b.amount),0);return o.jsxs(Ye,{title:"Invoices",subtitle:"Manage invoices and payment tracking",actions:o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(ae,{variant:"outline",children:[o.jsx(Kp,{className:"h-4 w-4 mr-2"}),"Filter"]}),o.jsx(Un,{to:"/invoices/create",children:o.jsxs(ae,{children:[o.jsx(Ld,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})})]}),children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f})]}),o.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:o.jsx(dr,{className:"h-6 w-6 text-blue-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:m})]}),o.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:o.jsx(dr,{className:"h-6 w-6 text-green-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),o.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:p})]}),o.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:o.jsx(dr,{className:"h-6 w-6 text-yellow-600"})})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),o.jsx("p",{className:"text-3xl font-bold text-red-600",children:x})]}),o.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:o.jsx(dr,{className:"h-6 w-6 text-red-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total Revenue"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Bt(g.toString(),"IDR")}),o.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["From ",f," invoices"]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Collected Revenue"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:Bt(v.toString(),"IDR")}),o.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["From ",m," paid invoices"]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Invoices"})}),t?o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx(pt,{className:"h-8 w-8 animate-spin text-gray-400"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Loading invoices..."})]}):r?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("p",{className:"text-red-600",children:"Error loading invoices. Please try again."})}):o.jsx(Fd,{data:e,columns:a,emptyMessage:"No invoices found"})]})]})}const RI=dt("/forgot-password")({component:CI});function CI(){const[e,t]=C.useState(""),[r,a]=C.useState(!1),l=c=>{c.preventDefault(),console.log("Password reset request for:",e),a(!0)};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:o.jsxs(pe,{className:"w-full max-w-md shadow-2xl",children:[o.jsxs(He,{className:"space-y-1 text-center",children:[o.jsx(Ge,{className:"text-2xl font-bold text-green-600",children:"Check Your Email"}),o.jsxs(fs,{className:"text-gray-600 dark:text-gray-400",children:["We've sent a password reset link to ",e]})]}),o.jsx(Fe,{children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Didn't receive the email? Check your spam folder or try again."}),o.jsx(ae,{onClick:()=>a(!1),variant:"outline",className:"w-full",children:"Try Again"}),o.jsx(Un,{to:"/login",children:o.jsxs(ae,{variant:"ghost",className:"w-full",children:[o.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:o.jsxs(pe,{className:"w-full max-w-md shadow-2xl",children:[o.jsxs(He,{className:"space-y-1 text-center",children:[o.jsx(Ge,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Reset Password"}),o.jsx(fs,{className:"text-gray-600 dark:text-gray-400",children:"Enter your email address and we'll send you a link to reset your password"})]}),o.jsxs(Fe,{children:[o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(fe,{id:"email",name:"email",type:"email",placeholder:"Enter your email address",value:e,onChange:c=>t(c.target.value),className:"pl-10",required:!0})]})]}),o.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium py-2.5 transition-all duration-200 transform hover:scale-[1.02]",children:"Send Reset Link"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs(Un,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium inline-flex items-center",children:[o.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Back to Login"]})})]})]})})}const OI=dt("/dashboard")({beforeLoad:async({location:e})=>{if(e.pathname==="/dashboard"){await new Promise(a=>setTimeout(a,1e3));const t=await Ke.getCurrentUser();if(console.log("Dashboard beforeLoad - user:",t),!t)throw console.log("No user found, redirecting to login"),jt({to:"/login"});const r=t.role==="admin"?"/dashboard/admin":"/dashboard/user";throw console.log("Redirecting to:",r),jt({to:r})}},component:DI});function DI(){return o.jsx(Up,{})}function Ud({size:e=16,className:t}){return o.jsxs("svg",{width:e,height:e,viewBox:"0 0 1124.14 1256.39",className:t,fill:"currentColor",children:[o.jsx("path",{d:"M699.62,1113.02h0c-20.06,44.48-33.32,92.75-38.4,143.37l424.51-90.24c20.06-44.47,33.31-92.75,38.4-143.37l-424.51,90.24Z"}),o.jsx("path",{d:"M1085.73,895.8c20.06-44.47,33.32-92.75,38.4-143.37l-330.68,70.33v-135.2l292.27-62.11c20.06-44.47,33.32-92.75,38.4-143.37l-330.68,70.27V66.13c-50.67,28.45-95.67,66.32-132.25,110.99v403.35l-132.25,28.11V0c-50.67,28.44-95.67,66.32-132.25,110.99v525.69l-295.91,62.88c-20.06,44.47-33.33,92.75-38.42,143.37l334.33-71.05v170.26l-358.3,76.14c-20.06,44.47-33.32,92.75-38.4,143.37l375.04-79.7c30.53-6.35,56.77-24.4,73.83-49.24l68.78-101.97v-.02c7.14-10.55,11.3-23.27,11.3-36.97v-149.98l132.25-28.11v270.4l424.53-90.28Z"})]})}function ci({amount:e,className:t,showSymbol:r=!0,symbolPosition:a="left",iconSize:l=16}){const c=Bp(e);return r?o.jsxs("span",{className:Tt("inline-flex items-center",t),children:[a==="left"&&o.jsx(Ud,{size:l,className:"mr-1 text-current"}),o.jsx("span",{className:"amount",children:c}),a==="right"&&o.jsx(Ud,{size:l,className:"ml-1 text-current"})]}):o.jsx("span",{className:t,children:c})}function en({amount:e,className:t,iconSize:r=16}){const a=Bp(e);return o.jsxs("span",{className:Tt("inline-flex items-center",t),children:[o.jsx(Ud,{size:r,className:"mr-1 text-current"}),o.jsx("span",{children:a})]})}const hr={all:["bookings"],lists:()=>[...hr.all,"list"],list:e=>[...hr.lists(),{filters:e}],details:()=>[...hr.all,"detail"],detail:e=>[...hr.details(),e.toString()]};function UI(){return Pr({queryKey:hr.lists(),queryFn:async()=>(await kt.get(Ut.BOOKINGS)).data,staleTime:5*60*1e3})}function bc(e){return Pr({queryKey:hr.detail(e),queryFn:async()=>(await kt.get(`${Ut.BOOKINGS}/${e}`)).data,enabled:!!e,staleTime:5*60*1e3})}function XS(){const e=Lr();return $r({mutationFn:async t=>{const r={client:{name:t.guestName,email:t.guestEmail,phone:t.guestPhone},booking:{hotelName:t.hotelName,city:t.city,checkIn:t.checkInDate,checkOut:t.checkOutDate,meta:t.specialRequests?{specialRequests:t.specialRequests}:null},items:[{roomType:t.roomType,roomCount:1,unitPrice:t.totalAmount.toString(),hotelCostPrice:t.hotelCostPerNight||0}]};return(await kt.post(Ut.BOOKINGS,r)).data},onSuccess:()=>{e.invalidateQueries({queryKey:hr.lists()})}})}function WS(){const e=Lr();return $r({mutationFn:async t=>{const{id:r,...a}=t;return(await kt.put(`${Ut.BOOKINGS}/${r}`,a)).data},onSuccess:t=>{e.setQueryData(hr.detail(t.id),t),e.invalidateQueries({queryKey:hr.lists()})}})}function II(){const e=Lr();return $r({mutationFn:async({id:t,paymentStatus:r,bookingStatus:a,hotelConfirmationNo:l})=>{const c={};return r&&(c.paymentStatus=r),a&&(c.bookingStatus=a),l!==void 0&&(c.hotelConfirmationNo=l),(await kt.patch(Ut.BOOKING_BY_ID(t),c)).data},onSuccess:t=>{e.setQueryData(hr.detail(t.id),t),e.invalidateQueries({queryKey:hr.lists()})}})}function yg(){return $r({mutationFn:async({bookingId:e,dueDate:t})=>{const r=await kt.post(Ut.GENERATE_INVOICE(e),{dueDate:t});if(r.downloadUrl){const a=`invoice-${r.data.number||e}.pdf`;await kt.downloadFile(r.downloadUrl,a)}return r}})}function xg(){return $r({mutationFn:async({bookingId:e,guestName:t})=>{const r=await kt.post(Ut.GENERATE_VOUCHER(e),{guestName:t});if(r.data.pdfUrl){const a=`voucher-${r.data.number}.pdf`;await kt.downloadFile(r.data.pdfUrl,a)}return r}})}const MI=dt("/create-booking")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:zI});function zI(){const e=Ft(),t=XS(),[r,a]=C.useState({guestName:"",guestEmail:"",guestPhone:"",hotelName:"",city:"",checkInDate:"",checkOutDate:"",roomType:"",numberOfGuests:1,pricePerNight:0,hotelCostPerNight:0,totalAmount:0,totalHotelCost:0,specialRequests:""}),[l,c]=C.useState({}),d=(g,v)=>{const w={...r,[g]:v};if(g==="pricePerNight"||g==="hotelCostPerNight"||g==="checkInDate"||g==="checkOutDate"){const b=g==="checkInDate"||g==="checkOutDate"?f(g==="checkInDate"?v:w.checkInDate,g==="checkOutDate"?v:w.checkOutDate):x(),N=g==="pricePerNight"?v:w.pricePerNight,k=g==="hotelCostPerNight"?v:w.hotelCostPerNight;w.totalAmount=b*N,w.totalHotelCost=b*k}a(w),l[g]&&c(b=>({...b,[g]:""}))},f=(g,v)=>{if(g&&v){const w=new Date(g),b=new Date(v),N=Math.abs(b.getTime()-w.getTime());return Math.ceil(N/(1e3*60*60*24))}return 0},m=()=>{const g={};return r.guestName.trim()||(g.guestName="Guest name is required"),r.guestEmail.trim()?/\S+@\S+\.\S+/.test(r.guestEmail)||(g.guestEmail="Please enter a valid email address"):g.guestEmail="Guest email is required",r.guestPhone.trim()||(g.guestPhone="Guest phone is required"),r.hotelName.trim()||(g.hotelName="Hotel name is required"),r.city.trim()||(g.city="City is required"),r.checkInDate||(g.checkInDate="Check-in date is required"),r.checkOutDate||(g.checkOutDate="Check-out date is required"),r.checkInDate&&r.checkOutDate&&new Date(r.checkInDate)>=new Date(r.checkOutDate)&&(g.checkOutDate="Check-out date must be after check-in date"),r.roomType||(g.roomType="Room type is required"),r.numberOfGuests<1&&(g.numberOfGuests="Number of guests must be at least 1"),r.pricePerNight<=0&&(g.pricePerNight="Price per night must be greater than 0"),r.hotelCostPerNight<0&&(g.hotelCostPerNight="Hotel cost per night cannot be negative"),r.totalAmount<=0&&(g.totalAmount="Total amount must be greater than 0"),c(g),Object.keys(g).length===0},p=async g=>{if(g.preventDefault(),!!m())try{const v={guestName:r.guestName,guestEmail:r.guestEmail,guestPhone:r.guestPhone,hotelName:r.hotelName,city:r.city,checkInDate:r.checkInDate,checkOutDate:r.checkOutDate,roomType:r.roomType,numberOfGuests:r.numberOfGuests,totalAmount:r.totalAmount,hotelCostPerNight:r.hotelCostPerNight||void 0,totalHotelCost:r.totalHotelCost||void 0,specialRequests:r.specialRequests||void 0},w=await t.mutateAsync(v);e({to:"/bookings"})}catch(v){console.error("Failed to create booking:",v)}},x=()=>{if(r.checkInDate&&r.checkOutDate){const g=new Date(r.checkInDate),v=new Date(r.checkOutDate),w=Math.abs(v.getTime()-g.getTime());return Math.ceil(w/(1e3*60*60*24))}return 0};return o.jsx(Ye,{title:"Create New Booking",subtitle:"Add a new hotel booking to the system",actions:o.jsxs(ae,{variant:"outline",onClick:()=>e({to:"/bookings"}),children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Back to Bookings"]}),children:o.jsxs("form",{onSubmit:p,className:"max-w-4xl mx-auto space-y-8",children:[o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(ha,{className:"h-5 w-5 text-blue-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Guest Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guest Name *"}),o.jsx(fe,{value:r.guestName,onChange:g=>d("guestName",g.target.value),placeholder:"Enter guest full name",className:l.guestName?"border-red-500":""}),l.guestName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.guestName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),o.jsx(fe,{type:"email",value:r.guestEmail,onChange:g=>d("guestEmail",g.target.value),placeholder:"guest@example.com",className:l.guestEmail?"border-red-500":""}),l.guestEmail&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.guestEmail})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),o.jsx(fe,{value:r.guestPhone,onChange:g=>d("guestPhone",g.target.value),placeholder:"+62 812 3456 7890",className:l.guestPhone?"border-red-500":""}),l.guestPhone&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.guestPhone})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Guests *"}),o.jsx(fe,{type:"number",min:"1",max:"10",value:r.numberOfGuests,onChange:g=>d("numberOfGuests",parseInt(g.target.value)||1),className:l.numberOfGuests?"border-red-500":""}),l.numberOfGuests&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.numberOfGuests})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(wd,{className:"h-5 w-5 text-purple-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Hotel Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hotel Name *"}),o.jsx(fe,{value:r.hotelName,onChange:g=>d("hotelName",g.target.value),placeholder:"Enter hotel name",className:l.hotelName?"border-red-500":""}),l.hotelName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.hotelName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),o.jsxs("select",{value:r.city,onChange:g=>d("city",g.target.value),className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.city?"border-red-500":""}`,children:[o.jsx("option",{value:"",children:"Select city"}),o.jsx("option",{value:"Makkah",children:"Makkah"}),o.jsx("option",{value:"Madinah",children:"Madinah"})]}),l.city&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.city})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(Br,{className:"h-5 w-5 text-green-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Booking Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Date *"}),o.jsx(fe,{type:"date",value:r.checkInDate,onChange:g=>d("checkInDate",g.target.value),min:new Date().toISOString().split("T")[0],className:l.checkInDate?"border-red-500":""}),l.checkInDate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.checkInDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Date *"}),o.jsx(fe,{type:"date",value:r.checkOutDate,onChange:g=>d("checkOutDate",g.target.value),min:r.checkInDate||new Date().toISOString().split("T")[0],className:l.checkOutDate?"border-red-500":""}),l.checkOutDate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.checkOutDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type *"}),o.jsxs("select",{value:r.roomType,onChange:g=>d("roomType",g.target.value),className:`flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm ${l.roomType?"border-red-500":""}`,children:[o.jsx("option",{value:"",children:"Select room type"}),o.jsx("option",{value:"DBL",children:"Double Room (DBL)"}),o.jsx("option",{value:"TPL",children:"Triple Room (TPL)"}),o.jsx("option",{value:"Quad",children:"Quad Room (Quad)"})]}),l.roomType&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.roomType})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),o.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[x()," night",x()!==1?"s":""]})})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(Ud,{size:16,className:"text-yellow-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Pricing & Costs"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selling Price per Night (SAR) *"}),o.jsx(fe,{type:"number",min:"0",step:"10",value:r.pricePerNight,onChange:g=>d("pricePerNight",parseFloat(g.target.value)||0),placeholder:"0",className:l.pricePerNight?"border-red-500":""}),l.pricePerNight&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.pricePerNight})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hotel Cost per Night (SAR)"}),o.jsx(fe,{type:"number",min:"0",step:"10",value:r.hotelCostPerNight,onChange:g=>d("hotelCostPerNight",parseFloat(g.target.value)||0),placeholder:"0",className:l.hotelCostPerNight?"border-red-500":""}),l.hotelCostPerNight&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.hotelCostPerNight}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cost price from hotel supplier"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Revenue"}),o.jsx("div",{className:"bg-green-50 p-3 rounded-md border border-green-200",children:o.jsxs("p",{className:"text-sm text-green-800 font-medium",children:[o.jsx(en,{amount:r.totalAmount})," (",x()," night",x()!==1?"s":"",")"]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Hotel Cost"}),o.jsx("div",{className:"bg-red-50 p-3 rounded-md border border-red-200",children:o.jsxs("p",{className:"text-sm text-red-800 font-medium",children:[o.jsx(en,{amount:r.totalHotelCost})," (",x()," night",x()!==1?"s":"",")"]})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Profit"}),o.jsx("div",{className:`p-3 rounded-md border ${r.totalAmount-r.totalHotelCost>=0?"bg-blue-50 border-blue-200":"bg-yellow-50 border-yellow-200"}`,children:o.jsxs("p",{className:`text-sm font-semibold ${r.totalAmount-r.totalHotelCost>=0?"text-blue-800":"text-yellow-800"}`,children:[o.jsx(en,{amount:r.totalAmount-r.totalHotelCost}),r.pricePerNight>0&&r.hotelCostPerNight>0&&o.jsxs("span",{className:"ml-2 text-xs",children:["(",((r.pricePerNight-r.hotelCostPerNight)/r.pricePerNight*100).toFixed(1),"% margin)"]})]})})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsx(wd,{className:"h-5 w-5 text-purple-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests"}),o.jsx("textarea",{value:r.specialRequests,onChange:g=>d("specialRequests",g.target.value),placeholder:"Any special requests or notes...",rows:3,className:`flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm ${l.specialRequests?"border-red-500":""}`}),l.specialRequests&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.specialRequests})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx(ae,{type:"button",variant:"outline",onClick:()=>e({to:"/bookings"}),children:"Cancel"}),o.jsx(ae,{type:"submit",disabled:t.isPending,className:"min-w-[120px]",children:t.isPending?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Create Booking"]})})]})]})})}const Yd={all:["analytics"],revenue:e=>["analytics","revenue",e],profit:e=>["analytics","profit",e],dashboard:e=>["analytics","dashboard",e],summary:e=>["analytics","summary",e]},xs={all:["costs"],hotelTemplates:()=>["costs","hotel-templates"],hotelTemplate:e=>["costs","hotel-template",e],operational:e=>["costs","operational",e],operationalByBooking:e=>["costs","operational","booking",e]};function LI(e){if(!e)return"";const t=new URLSearchParams;e.startDate&&t.append("startDate",e.startDate.toISOString()),e.endDate&&t.append("endDate",e.endDate.toISOString()),e.city&&t.append("city",e.city),e.status&&t.append("status",e.status);const r=t.toString();return r?`?${r}`:""}function PI(e){return Pr({queryKey:Yd.dashboard(e),queryFn:async()=>{const t=LI(e);return(await kt.get(`${Ut.ANALYTICS_DASHBOARD}${t}`)).data},staleTime:5*60*1e3})}function $I(){return Pr({queryKey:xs.hotelTemplates(),queryFn:async()=>(await kt.get(Ut.COSTS_HOTEL_TEMPLATES)).data,staleTime:10*60*1e3})}function eN(e){return Pr({queryKey:xs.operational(e),queryFn:async()=>{const t=Ut.COSTS_OPERATIONAL;return(await kt.get(t)).data},staleTime:5*60*1e3})}function BI(){const e=Lr();return $r({mutationFn:async t=>(await kt.post(Ut.COSTS_HOTEL_TEMPLATES,t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:xs.hotelTemplates()})}})}function qI(){const e=Lr();return $r({mutationFn:async({id:t,data:r})=>(await kt.put(Ut.COSTS_HOTEL_TEMPLATE_BY_ID(t),r)).data,onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:xs.hotelTemplates()}),e.invalidateQueries({queryKey:xs.hotelTemplate(r)})}})}function VI(){const e=Lr();return $r({mutationFn:async t=>{await kt.delete(Ut.COSTS_HOTEL_TEMPLATE_BY_ID(t))},onSuccess:()=>{e.invalidateQueries({queryKey:xs.hotelTemplates()}),e.invalidateQueries({queryKey:Yd.all})}})}function HI(){const e=Lr();return $r({mutationFn:async t=>(await kt.post(Ut.COSTS_OPERATIONAL,t)).data,onSuccess:(t,r)=>{e.invalidateQueries({queryKey:xs.operational()}),e.invalidateQueries({queryKey:xs.operationalByBooking(r.bookingId.toString())}),e.invalidateQueries({queryKey:Yd.all})}})}function GI(){const e=Lr();return $r({mutationFn:async t=>{await kt.delete(Ut.COSTS_OPERATIONAL_BY_ID(t))},onSuccess:()=>{e.invalidateQueries({queryKey:xs.operational()}),e.invalidateQueries({queryKey:Yd.all})}})}const KI=dt("/costs")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"});if(!await Ke.isAdmin())throw jt({to:"/dashboard"})},component:ZI});function ZI(){const[e,t]=C.useState("templates"),[r,a]=C.useState(!1),[l,c]=C.useState(!1),[d,f]=C.useState(null),{data:m,isLoading:p}=$I(),x=BI(),g=qI(),v=VI(),{data:w,isLoading:b}=eN(),N=HI(),k=GI(),R=async z=>{try{await x.mutateAsync(z),a(!1)}catch(J){console.error("Error creating template:",J)}},M=async z=>{if(d)try{await g.mutateAsync({id:d.id.toString(),data:z}),f(null)}catch(J){console.error("Error updating template:",J)}},U=async z=>{if(confirm("Are you sure you want to delete this template?"))try{await v.mutateAsync(z.toString())}catch(J){console.error("Error deleting template:",J)}},T=async z=>{try{await N.mutateAsync(z),c(!1)}catch(J){console.error("Error creating operational cost:",J)}},B=async z=>{if(confirm("Are you sure you want to delete this operational cost?"))try{await k.mutateAsync(z.toString())}catch(J){console.error("Error deleting operational cost:",J)}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-white shadow rounded-lg",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cost Management"}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage hotel cost templates and operational costs"})]}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[o.jsx("button",{onClick:()=>t("templates"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Hotel Cost Templates"}),o.jsx("button",{onClick:()=>t("operational"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="operational"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Operational Costs"})]})}),e==="templates"&&o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Hotel Cost Templates"}),o.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Add Template"})]}),p?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading templates..."})]}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hotel"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"City"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Price (SAR)"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m==null?void 0:m.map(z=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:z.hotelName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.city}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.roomType}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:parseFloat(z.costPrice).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[o.jsx("button",{onClick:()=>f(z),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),o.jsx("button",{onClick:()=>U(z.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},z.id))})]}),(m==null?void 0:m.length)===0&&o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No templates found"})})]})]}),e==="operational"&&o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Operational Costs"}),o.jsx("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Add Cost"})]}),b?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading operational costs..."})]}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount (SAR)"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w==null?void 0:w.map(z=>o.jsxs("tr",{children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",z.bookingId]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.costType}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:z.description||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:parseFloat(z.amount).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(z.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("button",{onClick:()=>B(z.id),className:"text-red-600 hover:text-red-900",children:"Delete"})})]},z.id))})]}),(w==null?void 0:w.length)===0&&o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No operational costs found"})})]})]})]})}),(r||d)&&o.jsx(FI,{template:d,onSubmit:d?M:R,onClose:()=>{a(!1),f(null)},isLoading:x.isPending||g.isPending}),l&&o.jsx(QI,{onSubmit:T,onClose:()=>c(!1),isLoading:N.isPending})]})}function FI({template:e,onSubmit:t,onClose:r,isLoading:a}){const[l,c]=C.useState({hotelName:(e==null?void 0:e.hotelName)||"",city:(e==null?void 0:e.city)||"Makkah",roomType:(e==null?void 0:e.roomType)||"Standard",costPrice:(e==null?void 0:e.costPrice)||""}),d=f=>{f.preventDefault(),t({...l,costPrice:parseFloat(l.costPrice)||0})};return o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:o.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:o.jsxs("div",{className:"mt-3",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:e?"Edit Template":"Add New Template"}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hotel Name"}),o.jsx("input",{type:"text",value:l.hotelName,onChange:f=>c({...l,hotelName:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),o.jsxs("select",{value:l.city,onChange:f=>c({...l,city:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[o.jsx("option",{value:"Makkah",children:"Makkah"}),o.jsx("option",{value:"Madinah",children:"Madinah"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Room Type"}),o.jsxs("select",{value:l.roomType,onChange:f=>c({...l,roomType:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[o.jsx("option",{value:"Standard",children:"Standard"}),o.jsx("option",{value:"Deluxe",children:"Deluxe"}),o.jsx("option",{value:"Suite",children:"Suite"}),o.jsx("option",{value:"Family",children:"Family"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost Price"}),o.jsx("input",{type:"number",value:l.costPrice,onChange:f=>c({...l,costPrice:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:a?"Saving...":e?"Update":"Create"})]})]})]})})})}function QI({onSubmit:e,onClose:t,isLoading:r}){const[a,l]=C.useState({bookingId:"",costType:"",amount:"",description:""}),c=d=>{d.preventDefault(),e({bookingId:parseInt(a.bookingId),costType:a.costType,amount:parseFloat(a.amount),description:a.description||void 0})};return o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:o.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:o.jsxs("div",{className:"mt-3",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Operational Cost"}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Booking ID"}),o.jsx("input",{type:"number",value:a.bookingId,onChange:d=>l({...a,bookingId:d.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost Type"}),o.jsxs("select",{value:a.costType,onChange:d=>l({...a,costType:d.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[o.jsx("option",{value:"",children:"Select cost type"}),o.jsx("option",{value:"transportation",children:"Transportation"}),o.jsx("option",{value:"visa",children:"Visa"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"marketing",children:"Marketing"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount (SAR)"}),o.jsx("input",{type:"number",step:"0.01",value:a.amount,onChange:d=>l({...a,amount:d.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{value:a.description,onChange:d=>l({...a,description:d.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",rows:3})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:r?"Creating...":"Create"})]})]})]})})})}const YI=dt("/clear-auth-cache")({component:JI});function JI(){const e=Ft(),t=()=>{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(a=>{const l=a.indexOf("="),c=l>-1?a.substr(0,l):a;document.cookie=c+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}),alert("Cache cleared! Please refresh the page and try logging in again.")},r=()=>{window.location.reload()};return o.jsx(Ye,{title:"Clear Auth Cache",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(pe,{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Authentication Cache Management"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600",children:"Jika Anda mengalami masalah dengan autentikasi, coba clear cache dan login ulang."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ae,{onClick:t,className:"w-full",variant:"destructive",children:"🗑️ Clear All Cache & Cookies"}),o.jsx(ae,{onClick:r,className:"w-full",variant:"outline",children:"🔄 Refresh Page"}),o.jsx(ae,{onClick:()=>e({to:"/login"}),className:"w-full",children:"🔐 Go to Login"}),o.jsx(ae,{onClick:()=>e({to:"/test-booking-access"}),className:"w-full",variant:"outline",children:"🧪 Test Booking Access"})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Troubleshooting Steps:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600",children:[o.jsx("li",{children:"Clear cache menggunakan tombol di atas"}),o.jsx("li",{children:"Refresh halaman"}),o.jsx("li",{children:"Login ulang dengan akun admin"}),o.jsx("li",{children:"Coba akses halaman /bookings/create"}),o.jsx("li",{children:"Jika masih bermasalah, check console browser untuk error"})]})]})]})})}function XI({isOpen:e,onClose:t,title:r,children:a,size:l="md",footer:c}){C.useEffect(()=>{const f=m=>{m.key==="Escape"&&e&&t()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[e,t]),C.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const d=()=>{switch(l){case"sm":return"max-w-sm";case"md":return"max-w-md";case"lg":return"max-w-lg";case"xl":return"max-w-xl";default:return"max-w-md"}};return e?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),o.jsx("div",{className:"absolute right-0 top-0 h-full flex",children:o.jsxs("div",{className:`bg-white shadow-xl h-full w-full ${d()} flex flex-col transform transition-transform`,children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:t,className:"p-2",children:o.jsx($d,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a}),c&&o.jsx("div",{className:"border-t border-gray-200 p-6",children:c})]})})]}):null}const tN={all:["reports"],summary:()=>[...tN.all,"summary"]};function WI(){return Pr({queryKey:tN.summary(),queryFn:()=>kt.get(Ut.REPORTS_SUMMARY),staleTime:2*60*1e3,refetchInterval:5*60*1e3})}const e5=dt("/bookings")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:t5});function t5(){const e=Ft(),[t,r]=C.useState(!1),[a,l]=C.useState({guestName:"",guestEmail:"",guestPhone:"",hotelName:"",city:"",checkInDate:"",checkOutDate:"",roomType:"",numberOfGuests:1,totalAmount:0,specialRequests:""}),{data:c=[],isLoading:d,error:f}=UI(),{data:m=[]}=eN(),p=XS(),x=[{key:"id",header:"ID",sortable:!0,width:"w-24"},{key:"actions",header:"Actions",render:b=>o.jsxs("div",{className:"flex space-x-1",children:[o.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>e({to:"/booking-detail",search:{id:b.id.toString()}}),title:"Lihat Detail Booking",className:"flex items-center space-x-1",children:[o.jsx(fa,{className:"h-4 w-4"}),o.jsx("span",{children:"Detail"})]}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>g(b),title:"Share ke WhatsApp",children:o.jsx(ii,{className:"h-4 w-4"})})]}),width:"w-36"},{key:"clientName",header:"Guest",sortable:!0},{key:"hotelName",header:"Hotel",sortable:!0},{key:"roomType",header:"Room Type",render:b=>{var N,k;return((k=(N=b.items)==null?void 0:N[0])==null?void 0:k.roomType)||"N/A"},sortable:!0},{key:"checkIn",header:"Check-in",render:b=>Be(b.checkIn),sortable:!0,width:"w-28"},{key:"checkOut",header:"Check-out",render:b=>Be(b.checkOut),sortable:!0,width:"w-28"},{key:"totalAmount",header:"Total Rates",render:b=>Bt(b.totalAmount.toString(),"SAR"),sortable:!0,width:"w-32"},{key:"bookingStatus",header:"Status",render:b=>o.jsx(dn,{className:i1(b.bookingStatus),children:b.bookingStatus}),sortable:!0,width:"w-24"}],g=b=>{const N=a1({code:b.code,clientName:b.clientName,hotelName:b.hotelName,checkIn:b.checkIn,checkOut:b.checkOut,totalAmount:b.totalAmount.toString(),currency:"SAR"});qp({phoneNumber:b.clientPhone,message:N})},v=(b,N)=>{l(k=>({...k,[b]:N}))},w=async()=>{try{const b={guestName:a.guestName,guestEmail:a.guestEmail,guestPhone:a.guestPhone,hotelName:a.hotelName,city:a.city,checkInDate:a.checkInDate,checkOutDate:a.checkOutDate,roomType:a.roomType,numberOfGuests:a.numberOfGuests,totalAmount:a.totalAmount,specialRequests:a.specialRequests||void 0};await p.mutateAsync(b),l({guestName:"",guestEmail:"",guestPhone:"",hotelName:"",city:"",checkInDate:"",checkOutDate:"",roomType:"",numberOfGuests:1,totalAmount:0,specialRequests:""}),r(!1)}catch(b){console.error("Failed to create booking:",b)}};return d?o.jsx(Ye,{title:"Bookings",subtitle:"Manage hotel bookings and reservations",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(pt,{className:"h-8 w-8 animate-spin"})})}):f?o.jsx(Ye,{title:"Bookings",subtitle:"Manage hotel bookings and reservations",children:o.jsxs("div",{className:"text-center text-red-600 p-8",children:["Error loading bookings: ",f.message]})}):o.jsxs(Ye,{title:"Bookings",subtitle:"Manage hotel bookings and reservations",actions:o.jsx(Un,{to:"/create-booking",children:o.jsxs(ae,{children:[o.jsx(Ld,{className:"h-4 w-4 mr-2"}),"Create Booking"]})}),children:[o.jsx(Fd,{data:c,columns:x,emptyMessage:"No bookings found"}),o.jsxs(XI,{isOpen:t,onClose:()=>r(!1),title:"Create New Booking",size:"lg",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs(pe,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(ha,{className:"h-5 w-5 text-blue-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Client Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Name *"}),o.jsx(fe,{value:a.guestName,onChange:b=>v("guestName",b.target.value),placeholder:"Enter guest name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),o.jsx(fe,{type:"email",value:a.guestEmail,onChange:b=>v("guestEmail",b.target.value),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),o.jsx(fe,{value:a.guestPhone,onChange:b=>v("guestPhone",b.target.value),placeholder:"Enter phone number"})]})]})]}),o.jsxs(pe,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Br,{className:"h-5 w-5 text-purple-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Booking Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date *"}),o.jsx(fe,{type:"date",value:a.checkInDate,onChange:b=>v("checkInDate",b.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date *"}),o.jsx(fe,{type:"date",value:a.checkOutDate,onChange:b=>v("checkOutDate",b.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type *"}),o.jsxs("select",{value:a.roomType,onChange:b=>v("roomType",b.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",children:[o.jsx("option",{value:"",children:"Select room type"}),o.jsx("option",{value:"DBL",children:"Double Room (DBL)"}),o.jsx("option",{value:"TPL",children:"Triple Room (TPL)"}),o.jsx("option",{value:"Quad",children:"Quad Room (Quad)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Guests *"}),o.jsx(fe,{type:"number",min:"1",value:a.numberOfGuests,onChange:b=>v("numberOfGuests",parseInt(b.target.value)||1)})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Requests"}),o.jsx(fe,{value:a.specialRequests,onChange:b=>v("specialRequests",b.target.value),placeholder:"Any special requests or notes"})]})]})]}),o.jsxs(pe,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(ci,{iconSize:20,className:"text-orange-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Pricing"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount *"}),o.jsx(fe,{type:"number",value:a.totalAmount,onChange:b=>v("totalAmount",parseFloat(b.target.value)||0),placeholder:"Enter total amount"})]}),o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Total Amount:"}),o.jsx("span",{className:"text-lg font-semibold text-gray-900",children:Bt(a.totalAmount.toString(),"SAR")})]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx(ae,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),o.jsx(ae,{onClick:w,disabled:!a.guestName||!a.guestEmail||!a.checkInDate||!a.checkOutDate||!a.roomType||!a.totalAmount||p.isPending,children:p.isPending?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Booking"})]})]})]})}const nN=dt("/booking-edit")({validateSearch:e=>({id:e.id||""}),beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:n5});function n5(){const{id:e}=nN.useSearch(),t=Ft(),{data:r,isLoading:a,error:l}=bc(e),c=WS(),[d,f]=C.useState({guestName:"",guestEmail:"",guestPhone:"",checkInDate:"",checkOutDate:"",roomType:"",numberOfGuests:1,specialRequests:"",totalAmount:0,hotelCostPerNight:0,totalHotelCost:0,status:"pending"});C.useEffect(()=>{var g,v;r&&f({guestName:r.clientName||"",guestEmail:r.clientEmail||"",guestPhone:r.clientPhone||"",checkInDate:r.checkIn?r.checkIn.split("T")[0]:"",checkOutDate:r.checkOut?r.checkOut.split("T")[0]:"",roomType:((v=(g=r.items)==null?void 0:g[0])==null?void 0:v.roomType)||"",numberOfGuests:1,specialRequests:"",totalAmount:r.totalAmount||0,hotelCostPerNight:0,totalHotelCost:0,status:r.bookingStatus||"pending"})},[r]);const m=(g,v)=>{f(w=>({...w,[g]:v}))},p=async g=>{g.preventDefault();try{await c.mutateAsync({id:e,...d}),console.log("Booking updated successfully!"),t({to:"/booking-detail",search:{id:e}})}catch(v){console.error("Failed to update booking:",v),alert("Failed to update booking. Please try again.")}},x=()=>{t({to:"/booking-detail",search:{id:e}})};return a?o.jsx(Ye,{title:"Loading...",subtitle:"Loading booking details",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(pt,{className:"h-8 w-8 animate-spin"})})}):l||!r?o.jsx(Ye,{title:"Error",subtitle:"Failed to load booking details",children:o.jsx("div",{className:"text-center text-red-600 p-8",children:(l==null?void 0:l.message)||"Booking not found"})}):o.jsx(Ye,{title:"Edit Booking",subtitle:`Booking ID: ${r.id}`,children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs(ae,{variant:"outline",size:"sm",onClick:x,children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Cancel"]})})}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Guest Information"})}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Name"}),o.jsx(fe,{type:"text",value:d.guestName,onChange:g=>m("guestName",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx(fe,{type:"email",value:d.guestEmail,onChange:g=>m("guestEmail",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),o.jsx(fe,{type:"tel",value:d.guestPhone,onChange:g=>m("guestPhone",g.target.value),required:!0})]})]})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Booking Details"})}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),o.jsx(fe,{type:"date",value:d.checkInDate,onChange:g=>m("checkInDate",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),o.jsx(fe,{type:"date",value:d.checkOutDate,onChange:g=>m("checkOutDate",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),o.jsxs("select",{value:d.roomType,onChange:g=>m("roomType",g.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[o.jsx("option",{value:"",children:"Select Room Type"}),o.jsx("option",{value:"DBL",children:"DBL (Double Room)"}),o.jsx("option",{value:"TPL",children:"TPL (Triple Room)"}),o.jsx("option",{value:"Quad",children:"Quad (Quad Room)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Guests"}),o.jsx(fe,{type:"number",min:"1",value:d.numberOfGuests,onChange:g=>m("numberOfGuests",parseInt(g.target.value)||1),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Requests"}),o.jsx(fe,{type:"text",value:d.specialRequests,onChange:g=>m("specialRequests",g.target.value),placeholder:"Any special requests..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount (SAR)"}),o.jsx(fe,{type:"number",step:"0.01",value:d.totalAmount,onChange:g=>m("totalAmount",parseFloat(g.target.value)||0),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Cost per Night (SAR)"}),o.jsx(fe,{type:"number",step:"0.01",min:"0",value:d.hotelCostPerNight,onChange:g=>m("hotelCostPerNight",parseFloat(g.target.value)||0),placeholder:"0"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cost price from hotel supplier"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Hotel Cost (SAR)"}),o.jsx(fe,{type:"number",step:"0.01",min:"0",value:d.totalHotelCost,onChange:g=>m("totalHotelCost",parseFloat(g.target.value)||0),placeholder:"0"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total cost for all nights"})]})]})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Status"})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Status"}),o.jsxs("select",{value:d.status,onChange:g=>m("status",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx(ae,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),o.jsxs(ae,{type:"submit",disabled:c.isPending,children:[c.isPending?o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})})}function rN({isOpen:e,onClose:t,title:r,children:a,size:l="md",footer:c,className:d}){if(C.useEffect(()=>{const m=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,t]),C.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const f={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:Tt("relative w-full bg-white rounded-lg shadow-xl transform transition-all",f[l],d),onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-gray-100",children:o.jsx($d,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"p-6",children:a}),c&&o.jsx("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:c})]})})]})}function r5({isOpen:e,onClose:t,onSubmit:r,isLoading:a=!1}){const[l,c]=C.useState(()=>{const x=new Date;return x.setDate(x.getDate()+7),x.toISOString().split("T")[0]}),[d,f]=C.useState(""),m=x=>{if(x.preventDefault(),!l){f("Due date is required");return}const g=new Date(l),v=new Date;if(v.setHours(0,0,0,0),g<v){f("Due date cannot be in the past");return}f(""),r(l)},p=()=>{f(""),t()};return o.jsx(rN,{isOpen:e,onClose:p,title:"Set Invoice Due Date",size:"sm",footer:o.jsxs(o.Fragment,{children:[o.jsx(ae,{variant:"outline",onClick:p,disabled:a,children:"Cancel"}),o.jsx(ae,{onClick:m,disabled:a,className:"min-w-[100px]",children:a?"Generating...":"Generate Invoice"})]}),children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Br,{className:"h-4 w-4 inline mr-2"}),"Due Date"]}),o.jsx(fe,{type:"date",value:l,onChange:x=>{c(x.target.value),f("")},className:"w-full",min:new Date().toISOString().split("T")[0],required:!0}),d&&o.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[o.jsx(Vp,{className:"h-4 w-4 mr-1"}),d]})]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," The invoice will be generated with the selected due date. You can change this later if needed."]})})]})})}function s5({isOpen:e,onClose:t,onSubmit:r,isLoading:a,booking:l}){const[c,d]=C.useState(l.paymentStatus),[f,m]=C.useState(l.bookingStatus),[p,x]=C.useState(l.hotelConfirmationNo||""),[g,v]=C.useState(!1);C.useEffect(()=>{e&&(d(l.paymentStatus),m(l.bookingStatus),x(l.hotelConfirmationNo||""),v(l.bookingStatus==="confirmed"))},[e,l]),C.useEffect(()=>{v(f==="confirmed")},[f]);const w=k=>{k.preventDefault();const R={};c!==l.paymentStatus&&(R.paymentStatus=c),f!==l.bookingStatus&&(R.bookingStatus=f),g&&p!==l.hotelConfirmationNo&&(R.hotelConfirmationNo=p),r(R)},b=c!==l.paymentStatus||f!==l.bookingStatus||g&&p!==l.hotelConfirmationNo,N=o.jsxs(o.Fragment,{children:[o.jsx(ae,{type:"button",variant:"outline",onClick:t,disabled:a,children:"Cancel"}),o.jsx(ae,{type:"submit",disabled:a||!b,onClick:w,children:a?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):"Update Status"})]});return o.jsx(rN,{isOpen:e,onClose:t,title:"Update Booking Status",footer:N,children:o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"paymentStatus",className:"block text-sm font-medium text-gray-700",children:"Payment Status"}),o.jsxs("select",{id:"paymentStatus",value:c,onChange:k=>d(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"unpaid",children:"Unpaid"}),o.jsx("option",{value:"partial",children:"Partial"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"overdue",children:"Overdue"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"bookingStatus",className:"block text-sm font-medium text-gray-700",children:"Booking Status"}),o.jsxs("select",{id:"bookingStatus",value:f,onChange:k=>m(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),g&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"hotelConfirmationNo",className:"block text-sm font-medium text-gray-700",children:"Hotel Confirmation Number"}),o.jsx(fe,{id:"hotelConfirmationNo",value:p,onChange:k=>x(k.target.value),placeholder:"Enter hotel confirmation number",maxLength:100}),o.jsx("p",{className:"text-sm text-gray-500",children:"Required for confirmed bookings to generate vouchers"})]})]})})}const Wb=e=>{switch(e){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ew=e=>{switch(e){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"unpaid":return"bg-red-100 text-red-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},sN=dt("/booking-detail")({validateSearch:e=>{const t=e.id;if(!t)throw new Error("Booking ID is required");return{id:t}},beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:a5});function a5(){var T,B;const{id:e}=sN.useSearch(),t=Ft(),[r,a]=C.useState(!1),[l,c]=C.useState(!1),{data:d,isLoading:f,error:m}=bc(e),p=yg(),x=xg(),g=II(),{data:v}=EI(e),{data:w}=nI(e),b=()=>{v?t({to:"/invoices"}):a(!0)},N=async z=>{try{await p.mutateAsync({bookingId:e,dueDate:z}),a(!1),alert("Invoice berhasil digenerate! Anda akan diarahkan ke halaman invoices."),t({to:"/invoices"})}catch(J){console.error("Failed to generate invoice:",J),alert("Gagal generate invoice. Silakan coba lagi.")}},k=async()=>{if(w)t({to:"/vouchers"});else{if(!d||!e){alert("Booking data tidak tersedia");return}try{await x.mutateAsync({bookingId:e.toString(),guestName:d.clientName}),console.log("Voucher generated successfully"),alert("Voucher berhasil digenerate dan diunduh!")}catch(z){console.error("Failed to generate voucher:",z),alert("Gagal generate voucher. Silakan coba lagi.")}}},R=()=>{if(!d)return;const z=`Booking Details:
Guest: ${d.clientName}
Code: ${d.code}
Hotel: ${d.hotelName}
Check-in: ${Be(d.checkIn)}
Check-out: ${Be(d.checkOut)}
Total: ${Bt(d.totalAmount.toString(),"SAR")}`,J=`https://wa.me/?text=${encodeURIComponent(z)}`;window.open(J,"_blank")},M=()=>{t({to:"/booking-edit",search:{id:e}})},U=async z=>{try{await g.mutateAsync({id:e.toString(),...z}),c(!1),alert("Status booking berhasil diupdate!")}catch(J){console.error("Failed to update booking status:",J),alert("Gagal update status booking. Silakan coba lagi.")}};return f?o.jsx(Ye,{title:"Loading...",subtitle:"Loading booking details",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(pt,{className:"h-8 w-8 animate-spin"})})}):m||!d?o.jsx(Ye,{title:"Error",subtitle:"Failed to load booking details",children:o.jsx("div",{className:"text-center text-red-600 p-8",children:(m==null?void 0:m.message)||"Booking not found"})}):o.jsxs(Ye,{title:"Booking Details",subtitle:`Booking Code: ${d.code}`,children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx(Un,{to:"/bookings",children:o.jsxs(ae,{variant:"outline",size:"sm",children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Back to Bookings"]})})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ae,{variant:"outline",size:"sm",onClick:R,children:[o.jsx(ii,{className:"h-4 w-4 mr-2"}),"Share"]}),o.jsxs(ae,{variant:"outline",size:"sm",onClick:M,children:[o.jsx(Sd,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(ha,{className:"h-5 w-5 mr-2"}),"Guest Information"]})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),o.jsx("p",{className:"text-gray-900",children:d.clientName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(xc,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("p",{className:"text-gray-900",children:d.clientEmail})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(c1,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("p",{className:"text-gray-900",children:d.clientPhone})]})]})]})})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(Br,{className:"h-5 w-5 mr-2"}),"Booking Details"]})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Check-in"}),o.jsx("p",{className:"text-gray-900",children:Be(d.checkIn)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Check-out"}),o.jsx("p",{className:"text-gray-900",children:Be(d.checkOut)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Hotel Name"}),o.jsx("p",{className:"text-gray-900",children:d.hotelName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"City"}),o.jsx("p",{className:"text-gray-900",children:d.city})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Room Type"}),o.jsx("p",{className:"text-gray-900",children:((B=(T=d.items)==null?void 0:T[0])==null?void 0:B.roomType)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ci,{iconSize:16,className:"mr-2 text-gray-400"}),o.jsx("p",{className:"text-gray-900 font-semibold",children:Bt(d.totalAmount.toString(),"SAR")})]})]})]})})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(Hp,{className:"h-5 w-5 mr-2"}),"Status Information"]})}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Status"}),o.jsx("div",{className:"mt-1",children:o.jsx(dn,{className:Wb(d.bookingStatus),children:d.bookingStatus})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),o.jsx("div",{className:"mt-1",children:o.jsx(dn,{className:ew(d.paymentStatus),children:d.paymentStatus})})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Status"})}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Status"}),o.jsx("div",{className:"mt-1",children:o.jsx(dn,{className:Wb(d.bookingStatus),children:d.bookingStatus})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),o.jsx("div",{className:"mt-1",children:o.jsx(dn,{className:ew(d.paymentStatus),children:d.paymentStatus})})]})]})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Actions"})}),o.jsxs(Fe,{className:"space-y-3",children:[o.jsxs(ae,{className:"w-full",onClick:b,disabled:p.isPending,children:[p.isPending?o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(dr,{className:"h-4 w-4 mr-2"}),p.isPending?"Generating...":v?"Lihat Invoice":"Generate Invoice"]}),o.jsxs(ae,{variant:"outline",className:"w-full",onClick:k,disabled:x.isPending,children:[x.isPending?o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(fr,{className:"h-4 w-4 mr-2"}),x.isPending?"Generating...":w?"Lihat Voucher":"Generate Voucher"]}),o.jsxs(ae,{variant:"secondary",className:"w-full",onClick:()=>c(!0),disabled:g.isPending,children:[g.isPending?o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(u1,{className:"h-4 w-4 mr-2"}),"Update Status"]})]})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Additional Information"})}),o.jsxs(Fe,{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),o.jsx("p",{className:"text-sm text-gray-900",children:Be(d.createdAt)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Updated"}),o.jsx("p",{className:"text-sm text-gray-900",children:Be(d.updatedAt)})]})]})]})]})]})]}),o.jsx(r5,{isOpen:r,onClose:()=>a(!1),onSubmit:N,isLoading:p.isPending}),o.jsx(s5,{isOpen:l,onClose:()=>c(!1),onSubmit:U,isLoading:g.isPending,booking:d})]})}function ia({title:e,value:t,icon:r,change:a,description:l,loading:c=!1}){const d=f=>{switch(f){case"increase":return"text-green-600";case"decrease":return"text-red-600";case"neutral":return"text-gray-600";default:return"text-gray-600"}};return c?o.jsx(pe,{className:"p-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]}),o.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-lg"})]}),a&&o.jsx("div",{className:"mt-4 h-3 bg-gray-200 rounded w-20"})]})}):o.jsxs(pe,{className:"p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),o.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(r,{className:"h-6 w-6 text-blue-600"})})]}),(a||l)&&o.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a&&o.jsx("span",{className:`text-sm font-medium ${d(a.type)}`,children:a.value}),l&&o.jsx("span",{className:"text-sm text-gray-500",children:l})]})]})}function i5(){var x,g,v,w,b,N,k,R,M,U,T,B,z,J,K;const[e,t]=C.useState({}),[r,a]=C.useState(!1),{data:l,isLoading:c,error:d}=PI(e);if(c)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(d)return o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-red-800 font-medium",children:"Error Loading Analytics"}),o.jsx("p",{className:"text-red-600 text-sm mt-1",children:d instanceof Error?d.message:"Failed to load analytics data"})]});if(!l)return o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:o.jsx("p",{className:"text-gray-600",children:"No analytics data available"})});const{summary:f,revenue:m,profit:p}=l;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Revenue & Profit Analytics"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive analysis of your business performance"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>a(!r),children:[o.jsx(Kp,{className:"h-4 w-4 mr-2"}),"Filters"]}),o.jsxs(ae,{variant:"outline",size:"sm",children:[o.jsx(Gp,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),r&&o.jsx(pe,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),o.jsx(fe,{type:"date",value:((x=e.startDate)==null?void 0:x.toISOString().split("T")[0])||"",onChange:q=>t(L=>({...L,startDate:q.target.value?new Date(q.target.value):void 0}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),o.jsx(fe,{type:"date",value:((g=e.endDate)==null?void 0:g.toISOString().split("T")[0])||"",onChange:q=>t(L=>({...L,endDate:q.target.value?new Date(q.target.value):void 0}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.city||"",onChange:q=>t(L=>({...L,city:q.target.value})),children:[o.jsx("option",{value:"",children:"All Cities"}),o.jsx("option",{value:"Makkah",children:"Makkah"}),o.jsx("option",{value:"Madinah",children:"Madinah"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.status||"",onChange:q=>t(L=>({...L,status:q.target.value})),children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(ia,{title:"Total Revenue",value:o.jsx(en,{amount:f.totalRevenue||0}),icon:jA,change:((v=m.revenueTrend)==null?void 0:v.length)>1?{value:`${o5(m.revenueTrend).toFixed(1)}%`,type:((w=m.revenueTrend[m.revenueTrend.length-1])==null?void 0:w.revenue)>(((b=m.revenueTrend[m.revenueTrend.length-2])==null?void 0:b.revenue)||0)?"increase":"decrease"}:void 0}),o.jsx(ia,{title:"Total Bookings",value:(f.totalBookings||0).toString(),icon:op,change:((N=m.revenueTrend)==null?void 0:N.length)>1?{value:`${l5(m.revenueTrend).toFixed(1)}%`,type:((k=m.revenueTrend[m.revenueTrend.length-1])==null?void 0:k.bookingCount)>(((R=m.revenueTrend[m.revenueTrend.length-2])==null?void 0:R.bookingCount)||0)?"increase":"decrease"}:void 0}),o.jsx(ia,{title:"Net Profit",value:o.jsx(en,{amount:f.netProfit||0}),icon:up,change:((M=p.profitByPeriod)==null?void 0:M.length)>1?{value:`${c5(p.profitByPeriod).toFixed(1)}%`,type:(f.netProfit||0)>0?"increase":"decrease"}:void 0}),o.jsx(ia,{title:"Profit Margin",value:`${(f.profitMargin||0).toFixed(1)}%`,icon:qA,change:((U=p.profitByPeriod)==null?void 0:U.length)>1?{value:`${u5(p.profitByPeriod).toFixed(1)}%`,type:(f.profitMargin||0)>0?"increase":"decrease"}:void 0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Trend"}),o.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(op,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-500",children:"Revenue chart will be displayed here"})]})})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Profit Analysis"}),o.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(up,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-500",children:"Profit chart will be displayed here"})]})})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance by City"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.revenueByCity.map((q,L)=>{const ie=p.profitByCity.find(ue=>ue.city===q.city);return o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-lg mb-3",children:q.city}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Revenue:"}),o.jsx("span",{className:"font-medium",children:o.jsx(en,{amount:q.revenue||0})})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Bookings:"}),o.jsx("span",{className:"font-medium",children:q.bookingCount||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Avg Booking Value:"}),o.jsx("span",{className:"font-medium",children:o.jsx(en,{amount:q.averageBookingValue||0})})]}),ie&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Net Profit:"}),o.jsx("span",{className:`font-medium ${(ie.netProfit||0)>=0?"text-green-600":"text-red-600"}`,children:o.jsx(en,{amount:ie.netProfit||0})})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Profit Margin:"}),o.jsxs("span",{className:`font-medium ${(ie.profitMargin||0)>=0?"text-green-600":"text-red-600"}`,children:[(ie.profitMargin||0).toFixed(1),"%"]})]})]})]})]},L)})})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cost Breakdown"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-3",children:"Total Costs"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Hotel Costs:"}),o.jsx("span",{className:"font-medium",children:o.jsx(en,{amount:((T=p.costBreakdown)==null?void 0:T.totalHotelCosts)||0})})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Operational Costs:"}),o.jsx("span",{className:"font-medium",children:o.jsx(en,{amount:((B=p.costBreakdown)==null?void 0:B.totalOperationalCosts)||0})})]}),o.jsxs("div",{className:"flex justify-between border-t pt-2",children:[o.jsx("span",{className:"font-medium",children:"Total:"}),o.jsx("span",{className:"font-medium",children:o.jsx(en,{amount:(((z=p.costBreakdown)==null?void 0:z.totalHotelCosts)||0)+(((J=p.costBreakdown)==null?void 0:J.totalOperationalCosts)||0)})})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-3",children:"Operational Costs by Type"}),o.jsx("div",{className:"space-y-2",children:(((K=p.costBreakdown)==null?void 0:K.operationalCostsByType)||[]).map((q,L)=>o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[q.costType,":"]}),o.jsxs("span",{className:"font-medium",children:[o.jsx(en,{amount:q.amount||0})," (",(q.percentage||0).toFixed(1),"%)"]})]},L))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue by Period"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2",children:"Period"}),o.jsx("th",{className:"text-right py-2",children:"Revenue"}),o.jsx("th",{className:"text-right py-2",children:"Bookings"}),o.jsx("th",{className:"text-right py-2",children:"Avg Value"})]})}),o.jsx("tbody",{children:(m.revenueByPeriod||[]).map((q,L)=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2",children:q.period}),o.jsx("td",{className:"text-right py-2",children:o.jsx(en,{amount:q.revenue||0})}),o.jsx("td",{className:"text-right py-2",children:q.bookingCount||0}),o.jsx("td",{className:"text-right py-2",children:o.jsx(en,{amount:(q.revenue||0)/(q.bookingCount||1)})})]},L))})]})})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Profit by Period"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2",children:"Period"}),o.jsx("th",{className:"text-right py-2",children:"Revenue"}),o.jsx("th",{className:"text-right py-2",children:"Costs"}),o.jsx("th",{className:"text-right py-2",children:"Net Profit"}),o.jsx("th",{className:"text-right py-2",children:"Margin"})]})}),o.jsx("tbody",{children:(p.profitByPeriod||[]).map((q,L)=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2",children:q.period}),o.jsx("td",{className:"text-right py-2",children:o.jsx(en,{amount:q.revenue||0})}),o.jsx("td",{className:"text-right py-2",children:o.jsx(en,{amount:(q.hotelCosts||0)+(q.operationalCosts||0)})}),o.jsx("td",{className:"text-right py-2 font-medium",children:o.jsx("span",{className:(q.netProfit||0)>=0?"text-green-600":"text-red-600",children:o.jsx(en,{amount:q.netProfit||0})})}),o.jsx("td",{className:"text-right py-2",children:o.jsxs("span",{className:(q.profitMargin||0)>=0?"text-green-600":"text-red-600",children:[(q.profitMargin||0).toFixed(1),"%"]})})]},L))})]})})]})]})]})}function o5(e){if(e.length<2)return 0;const t=e[e.length-1].revenue,r=e[e.length-2].revenue;return r>0?(t-r)/r*100:0}function l5(e){if(e.length<2)return 0;const t=e[e.length-1].bookingCount,r=e[e.length-2].bookingCount;return r>0?(t-r)/r*100:0}function c5(e){if(e.length<2)return 0;const t=e[e.length-1].netProfit,r=e[e.length-2].netProfit;return r!==0?(t-r)/Math.abs(r)*100:0}function u5(e){if(e.length<2)return 0;const t=e[e.length-1].profitMargin,r=e[e.length-2].profitMargin;return t-r}const d5=dt("/analytics")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"});if(!await Ke.isAdmin())throw jt({to:"/dashboard"})},component:f5});function f5(){return o.jsx(Ye,{title:"Revenue & Profit Analytics",subtitle:"Comprehensive analysis of your business performance",children:o.jsx(i5,{})})}const h5=dt("/admin")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"});if(!await Ke.isAdmin())throw jt({to:"/dashboard"})},component:m5});function m5(){const[e,t]=C.useState([]),[r,a]=C.useState(!0),[l,c]=C.useState(null);C.useEffect(()=>{d()},[]);const d=async()=>{var p;try{a(!0),c(null);const x=await zm.listUsers({query:{limit:100,offset:0}});if(console.log("Admin users response:",x),(p=x.data)!=null&&p.users){const g=x.data.users.map(v=>({id:v.id,name:v.name||v.email,email:v.email,role:v.role==="admin"?"admin":"user",createdAt:v.createdAt}));t(g)}}catch(x){console.error("Error loading users:",x),c("Failed to load users")}finally{a(!1)}},f=async(p,x)=>{try{await zm.setRole({userId:p,role:x}),await d()}catch(g){console.error("Error updating user role:",g),c("Failed to update user role")}},m=async p=>{try{await zm.removeUser({userId:p}),await d()}catch(x){console.error("Error removing user:",x),c("Failed to remove user")}};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-white shadow rounded-lg",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage users and their roles"})]}),l&&o.jsx("div",{className:"px-6 py-4 bg-red-50 border-l-4 border-red-400",children:o.jsx("p",{className:"text-red-700",children:l})}),o.jsxs("div",{className:"px-6 py-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Users (",e.length,")"]}),o.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Refresh"})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name}),o.jsx("div",{className:"text-sm text-gray-500",children:p.email})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.role==="admin"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:p.role})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.createdAt).toLocaleDateString()}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[o.jsxs("select",{value:p.role,onChange:x=>f(p.id,x.target.value),className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"admin",children:"Admin"})]}),o.jsx("button",{onClick:()=>m(p.id),className:"text-red-600 hover:text-red-900 ml-2",children:"Remove"})]})]},p.id))})]}),e.length===0&&o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No users found"})})]})]})]})})})}const p5=dt("/")({beforeLoad:async()=>{throw jt({to:"/dashboard/admin"})},component:g5});function g5(){return null}const y5=dt("/vouchers/create")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:x5});function x5(){const e=Ft(),[t,r]=C.useState(!1),[a,l]=C.useState(!1),[c,d]=C.useState({}),[f,m]=C.useState({voucherNumber:`VCH-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,guestName:"",guestEmail:"",bookingCode:"",packageName:"",destination:"",checkInDate:"",checkOutDate:"",totalAmount:"",currency:"IDR",issueDate:new Date().toISOString().split("T")[0],validUntil:"",status:"active",notes:""}),p=(b,N)=>{m(k=>({...k,[b]:N})),c[b]&&d(k=>({...k,[b]:""}))},x=()=>{const b={};return f.guestName.trim()||(b.guestName="Guest name is required"),f.guestEmail.trim()?/\S+@\S+\.\S+/.test(f.guestEmail)||(b.guestEmail="Please enter a valid email address"):b.guestEmail="Guest email is required",f.bookingCode.trim()||(b.bookingCode="Booking code is required"),f.packageName.trim()||(b.packageName="Package name is required"),f.destination.trim()||(b.destination="Destination is required"),f.checkInDate||(b.checkInDate="Check-in date is required"),f.checkOutDate||(b.checkOutDate="Check-out date is required"),f.totalAmount.trim()?(isNaN(Number(f.totalAmount))||Number(f.totalAmount)<=0)&&(b.totalAmount="Please enter a valid amount"):b.totalAmount="Total amount is required",f.validUntil||(b.validUntil="Valid until date is required"),f.checkInDate&&f.checkOutDate&&new Date(f.checkInDate)>=new Date(f.checkOutDate)&&(b.checkOutDate="Check-out date must be after check-in date"),f.validUntil&&new Date(f.validUntil)<=new Date&&(b.validUntil="Valid until date must be in the future"),d(b),Object.keys(b).length===0},g=async b=>{if(b.preventDefault(),!!x()){r(!0);try{console.log("Creating voucher:",f),await new Promise(N=>setTimeout(N,2e3)),e({to:"/vouchers"})}catch(N){console.error("Error creating voucher:",N)}finally{r(!1)}}},v=()=>{x()&&l(!0)},w=()=>{if(f.checkInDate&&f.checkOutDate){const b=new Date(f.checkInDate),N=new Date(f.checkOutDate),k=Math.abs(N.getTime()-b.getTime());return Math.ceil(k/(1e3*60*60*24))}return 0};return a?o.jsx(Ye,{title:"Voucher Preview",subtitle:"Review voucher before creating",actions:o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(ae,{variant:"outline",onClick:()=>l(!1),children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Back to Edit"]}),o.jsx(ae,{onClick:g,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Create Voucher"]})})]}),children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs(pe,{className:"p-8 bg-gradient-to-br from-blue-50 to-indigo-100 border-2 border-blue-200",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:o.jsx(fr,{className:"h-8 w-8 text-white"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Travel Voucher"}),o.jsx("p",{className:"text-lg text-gray-600",children:f.voucherNumber}),o.jsx(dn,{className:"mt-2 bg-green-100 text-green-800 border-green-200",children:f.status.toUpperCase()})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(ha,{className:"h-5 w-5 mr-2 text-blue-600"}),"Guest Information"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),o.jsx("p",{className:"font-medium text-gray-900",children:f.guestName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),o.jsx("p",{className:"font-medium text-gray-900",children:f.guestEmail})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Booking Code"}),o.jsx("p",{className:"font-medium text-gray-900",children:f.bookingCode})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(wd,{className:"h-5 w-5 mr-2 text-blue-600"}),"Trip Details"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Package"}),o.jsx("p",{className:"font-medium text-gray-900",children:f.packageName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Destination"}),o.jsx("p",{className:"font-medium text-gray-900",children:f.destination})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),o.jsxs("p",{className:"font-medium text-gray-900",children:[w()," days"]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-8",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(Br,{className:"h-5 w-5 mr-2 text-blue-600"}),"Travel Dates"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Check-in Date"}),o.jsx("p",{className:"text-xl font-semibold text-gray-900",children:Be(f.checkInDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Check-out Date"}),o.jsx("p",{className:"text-xl font-semibold text-gray-900",children:Be(f.checkOutDate)})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-8",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(ci,{amount:"",iconSize:20,className:"mr-2 text-blue-600",showSymbol:!0}),"Pricing"]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Amount"}),o.jsx("p",{className:"text-4xl font-bold text-blue-600",children:Bt(f.totalAmount,f.currency)})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Validity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Issue Date"}),o.jsx("p",{className:"font-medium text-gray-900",children:Be(f.issueDate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Valid Until"}),o.jsx("p",{className:"font-medium text-gray-900",children:Be(f.validUntil)})]})]})]}),f.notes&&o.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),o.jsx("p",{className:"text-gray-700",children:f.notes})]}),o.jsx("div",{className:"text-center mt-8 pt-6 border-t border-gray-200",children:o.jsx("p",{className:"text-sm text-gray-600",children:"This voucher is valid for the specified travel dates and must be presented during check-in."})})]})})}):o.jsx(Ye,{title:"Create Voucher",subtitle:"Generate a new travel voucher",actions:o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(ae,{variant:"outline",onClick:()=>e({to:"/vouchers"}),children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsxs(ae,{variant:"outline",onClick:v,children:[o.jsx(fa,{className:"h-4 w-4 mr-2"}),"Preview"]}),o.jsx(ae,{onClick:g,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Create Voucher"]})})]}),children:o.jsxs("form",{onSubmit:g,className:"max-w-4xl mx-auto space-y-8",children:[o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Voucher Number"}),o.jsx(fe,{value:f.voucherNumber,onChange:b=>p("voucherNumber",b.target.value),placeholder:"VCH-2024-001",disabled:!0,className:"bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Date"}),o.jsx(fe,{type:"date",value:f.issueDate,onChange:b=>p("issueDate",b.target.value),className:c.issueDate?"border-red-500":""}),c.issueDate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.issueDate})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Guest Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guest Name *"}),o.jsx(fe,{value:f.guestName,onChange:b=>p("guestName",b.target.value),placeholder:"Enter guest name",className:c.guestName?"border-red-500":""}),c.guestName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.guestName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guest Email *"}),o.jsx(fe,{type:"email",value:f.guestEmail,onChange:b=>p("guestEmail",b.target.value),placeholder:"guest@example.com",className:c.guestEmail?"border-red-500":""}),c.guestEmail&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.guestEmail})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Code *"}),o.jsx(fe,{value:f.bookingCode,onChange:b=>p("bookingCode",b.target.value),placeholder:"BK001",className:c.bookingCode?"border-red-500":""}),c.bookingCode&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.bookingCode})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Trip Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Name *"}),o.jsx(fe,{value:f.packageName,onChange:b=>p("packageName",b.target.value),placeholder:"Bali Adventure Package",className:c.packageName?"border-red-500":""}),c.packageName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.packageName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination *"}),o.jsx(fe,{value:f.destination,onChange:b=>p("destination",b.target.value),placeholder:"Bali, Indonesia",className:c.destination?"border-red-500":""}),c.destination&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.destination})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Date *"}),o.jsx(fe,{type:"date",value:f.checkInDate,onChange:b=>p("checkInDate",b.target.value),className:c.checkInDate?"border-red-500":""}),c.checkInDate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.checkInDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Date *"}),o.jsx(fe,{type:"date",value:f.checkOutDate,onChange:b=>p("checkOutDate",b.target.value),className:c.checkOutDate?"border-red-500":""}),c.checkOutDate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.checkOutDate})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Pricing & Validity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount *"}),o.jsx(fe,{type:"number",value:f.totalAmount,onChange:b=>p("totalAmount",b.target.value),placeholder:"2500000",className:c.totalAmount?"border-red-500":""}),c.totalAmount&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.totalAmount})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),o.jsxs("select",{value:f.currency,onChange:b=>p("currency",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"IDR",children:"IDR"}),o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"EUR",children:"EUR"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until *"}),o.jsx(fe,{type:"date",value:f.validUntil,onChange:b=>p("validUntil",b.target.value),className:c.validUntil?"border-red-500":""}),c.validUntil&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.validUntil})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:f.status,onChange:b=>p("status",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"used",children:"Used"}),o.jsx("option",{value:"expired",children:"Expired"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Additional Notes"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:f.notes,onChange:b=>p("notes",b.target.value),placeholder:"Any additional notes or special instructions...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})})}const v5=dt("/invoices/create")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:b5});function b5(){const e=Ft(),[t,r]=C.useState(!1),[a,l]=C.useState({clientName:"",clientEmail:"",clientAddress:"",hotelName:"",city:"",checkIn:"",checkOut:"",roomType:"",numberOfGuests:1,numberOfNights:1,roomRate:0,totalAmount:0,currency:"IDR",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],notes:""}),[c,d]=C.useState({}),f=(x,g)=>{l(v=>{const w={...v,[x]:g};if((x==="checkIn"||x==="checkOut")&&w.checkIn&&w.checkOut){const b=new Date(w.checkIn),N=new Date(w.checkOut),k=Math.ceil((N.getTime()-b.getTime())/(1e3*60*60*24));w.numberOfNights=Math.max(1,k)}return(x==="numberOfNights"||x==="roomRate")&&(w.totalAmount=w.numberOfNights*w.roomRate),w}),c[x]&&d(v=>({...v,[x]:""}))},m=()=>{const x={};a.clientName.trim()||(x.clientName="Client name is required"),a.clientEmail.trim()||(x.clientEmail="Client email is required"),a.hotelName.trim()||(x.hotelName="Hotel name is required"),a.city.trim()||(x.city="City is required"),a.checkIn||(x.checkIn="Check-in date is required"),a.checkOut||(x.checkOut="Check-out date is required"),a.roomType.trim()||(x.roomType="Room type is required"),a.numberOfGuests<1&&(x.numberOfGuests="Number of guests must be at least 1"),a.roomRate<=0&&(x.roomRate="Room rate must be greater than 0"),a.issueDate||(x.issueDate="Issue date is required"),a.dueDate||(x.dueDate="Due date is required");const g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(a.clientEmail&&!g.test(a.clientEmail)&&(x.clientEmail="Please enter a valid email address"),a.checkIn&&a.checkOut){const v=new Date(a.checkIn);new Date(a.checkOut)<=v&&(x.checkOut="Check-out date must be after check-in date")}if(a.issueDate&&a.dueDate){const v=new Date(a.issueDate);new Date(a.dueDate)<v&&(x.dueDate="Due date must be after issue date")}return d(x),Object.keys(x).length===0},p=async x=>{if(x.preventDefault(),!!m()){r(!0);try{console.log("Creating invoice with data:",a),await new Promise(g=>setTimeout(g,2e3)),e({to:"/invoices"})}catch(g){console.error("Failed to create invoice:",g)}finally{r(!1)}}};return o.jsx(Ye,{title:"Create Invoice",subtitle:"Generate a new invoice for hotel booking",showBackButton:!0,actions:o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(ae,{variant:"outline",onClick:()=>e({to:"/invoices"}),children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),o.jsx(ae,{onClick:p,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})})]}),children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("form",{onSubmit:p,children:[o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Pd,{className:"h-5 w-5 text-blue-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Client Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),o.jsx(fe,{value:a.clientName,onChange:x=>f("clientName",x.target.value),placeholder:"Enter client name",className:c.clientName?"border-red-500":""}),c.clientName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.clientName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),o.jsx(fe,{type:"email",value:a.clientEmail,onChange:x=>f("clientEmail",x.target.value),placeholder:"Enter email address",className:c.clientEmail?"border-red-500":""}),c.clientEmail&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.clientEmail})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),o.jsx("textarea",{value:a.clientAddress,onChange:x=>f("clientAddress",x.target.value),placeholder:"Enter client address",rows:2,className:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(dA,{className:"h-5 w-5 text-green-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Hotel Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hotel Name *"}),o.jsx(fe,{value:a.hotelName,onChange:x=>f("hotelName",x.target.value),placeholder:"Enter hotel name",className:c.hotelName?"border-red-500":""}),c.hotelName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.hotelName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),o.jsx(fe,{value:a.city,onChange:x=>f("city",x.target.value),placeholder:"Enter city",className:c.city?"border-red-500":""}),c.city&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.city})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Br,{className:"h-5 w-5 text-purple-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Booking Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Date *"}),o.jsx(fe,{type:"date",value:a.checkIn,onChange:x=>f("checkIn",x.target.value),className:c.checkIn?"border-red-500":""}),c.checkIn&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.checkIn})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Date *"}),o.jsx(fe,{type:"date",value:a.checkOut,onChange:x=>f("checkOut",x.target.value),className:c.checkOut?"border-red-500":""}),c.checkOut&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.checkOut})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type *"}),o.jsxs("select",{value:a.roomType,onChange:x=>f("roomType",x.target.value),className:`flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm ${c.roomType?"border-red-500":""}`,children:[o.jsx("option",{value:"",children:"Select room type"}),o.jsx("option",{value:"DBL",children:"Double Room (DBL)"}),o.jsx("option",{value:"TPL",children:"Triple Room (TPL)"}),o.jsx("option",{value:"Quad",children:"Quad Room (Quad)"})]}),c.roomType&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.roomType})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Guests *"}),o.jsx(fe,{type:"number",min:"1",value:a.numberOfGuests,onChange:x=>f("numberOfGuests",parseInt(x.target.value)||1),className:c.numberOfGuests?"border-red-500":""}),c.numberOfGuests&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.numberOfGuests})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(ci,{amount:"",iconSize:20,className:"text-orange-600",showSymbol:!0}),o.jsx("h3",{className:"text-lg font-semibold",children:"Pricing"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Nights"}),o.jsx(fe,{type:"number",min:"1",value:a.numberOfNights,onChange:x=>f("numberOfNights",parseInt(x.target.value)||1)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Rate per Night *"}),o.jsx(fe,{type:"number",min:"0",step:"0.01",value:a.roomRate,onChange:x=>f("roomRate",parseFloat(x.target.value)||0),placeholder:"0.00",className:c.roomRate?"border-red-500":""}),c.roomRate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.roomRate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount"}),o.jsx(fe,{value:Bt(a.totalAmount,a.currency),readOnly:!0,className:"bg-gray-50"})]})]})]}),o.jsxs(pe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(dr,{className:"h-5 w-5 text-indigo-600"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Date *"}),o.jsx(fe,{type:"date",value:a.issueDate,onChange:x=>f("issueDate",x.target.value),className:c.issueDate?"border-red-500":""}),c.issueDate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.issueDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),o.jsx(fe,{type:"date",value:a.dueDate,onChange:x=>f("dueDate",x.target.value),className:c.dueDate?"border-red-500":""}),c.dueDate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.dueDate})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:a.notes,onChange:x=>f("notes",x.target.value),placeholder:"Additional notes or terms...",rows:3,className:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]})]})]})]})}),o.jsx("div",{className:"space-y-6",children:o.jsxs(pe,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Invoice Preview"}),o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Client:"}),o.jsx("p",{className:"font-semibold",children:a.clientName||"Client Name"}),o.jsx("p",{className:"text-gray-600",children:a.clientEmail||"client@email.com"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Hotel:"}),o.jsx("p",{className:"font-semibold",children:a.hotelName||"Hotel Name"}),o.jsx("p",{className:"text-gray-600",children:a.city||"City"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Stay Period:"}),o.jsxs("p",{className:"font-semibold",children:[a.checkIn?Be(a.checkIn):"Check-in"," - ",a.checkOut?Be(a.checkOut):"Check-out"]}),o.jsxs("p",{className:"text-gray-600",children:[a.numberOfNights," night(s)"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Room:"}),o.jsx("p",{className:"font-semibold",children:a.roomType||"Room Type"}),o.jsxs("p",{className:"text-gray-600",children:[a.numberOfGuests," guest(s)"]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Room Rate:"}),o.jsx("span",{children:Bt(a.roomRate,a.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Nights:"}),o.jsx("span",{children:a.numberOfNights})]}),o.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[o.jsx("span",{children:"Total:"}),o.jsx("span",{className:"text-green-600",children:Bt(a.totalAmount,a.currency)})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Due Date:"}),o.jsx("p",{className:"font-semibold",children:a.dueDate?Be(a.dueDate):"Due Date"})]})]})]})})]})})}const w5=dt("/dashboard/user")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:S5});function S5(){const e=Ft(),[t,r]=C.useState(null),[a,l]=C.useState(!0),[c,d]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const p=await Ke.getCurrentUser();r(p)}catch(p){console.error("Failed to load user:",p)}finally{l(!1)}})()},[]);const f=async()=>{d(!0);try{await Ke.logout(),e({to:"/login"})}catch(m){console.error("Failed to sign out:",m)}finally{d(!1)}};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[t&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),o.jsx("p",{className:"text-xs text-gray-500",children:t.email})]}),o.jsx(dn,{variant:"secondary",className:"capitalize",children:t.role})]}),o.jsx(ae,{variant:"outline",onClick:f,disabled:c,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:c?"Signing out...":"Sign Out"})]})]})})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",(t==null?void 0:t.name)||"User","!"]}),o.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your account today."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs(pe,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center space-x-2",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("span",{children:"Profile"})]}),o.jsx(fs,{children:"Manage your account information"})]}),o.jsxs(Fe,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Name:"})," ",t==null?void 0:t.name]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Email:"})," ",t==null?void 0:t.email]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Role:"})," ",o.jsx(dn,{variant:"outline",className:"capitalize",children:t==null?void 0:t.role})]})]}),o.jsx(ae,{variant:"outline",className:"w-full mt-4",children:"Edit Profile"})]})]}),o.jsxs(pe,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center space-x-2",children:[o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),o.jsx("span",{children:"Activity"})]}),o.jsx(fs,{children:"Your recent activity overview"})]}),o.jsx(Fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Last login"}),o.jsx("span",{className:"text-sm font-medium",children:"Today"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Sessions"}),o.jsx("span",{className:"text-sm font-medium",children:"1 active"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),o.jsx(dn,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"})]})]})})]}),o.jsxs(pe,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center space-x-2",children:[o.jsxs("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),o.jsx("span",{children:"Settings"})]}),o.jsx(fs,{children:"Customize your preferences"})]}),o.jsx(Fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ae,{variant:"ghost",className:"w-full justify-start",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Security"]}),o.jsxs(ae,{variant:"ghost",className:"w-full justify-start",children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 19.5A2.5 2.5 0 016.5 17H20"})]}),"Notifications"]}),o.jsxs(ae,{variant:"ghost",className:"w-full justify-start",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17v4a2 2 0 002 2h4M13 5l4 4"})}),"Preferences"]})]})})]})]}),o.jsxs(pe,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Quick Actions"}),o.jsx(fs,{children:"Common tasks and shortcuts"})]}),o.jsx(Fe,{children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(ae,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2",children:[o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{className:"text-sm font-medium",children:"Create Document"})]}),o.jsxs(ae,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2",children:[o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2m-5 4v6m-3-3h6"})}),o.jsx("span",{className:"text-sm font-medium",children:"View Reports"})]}),o.jsxs(ae,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2",children:[o.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),o.jsx("span",{className:"text-sm font-medium",children:"Manage Team"})]}),o.jsxs(ae,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2",children:[o.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})}),o.jsx("span",{className:"text-sm font-medium",children:"Support"})]})]})})]})]})]})}const N5=dt("/dashboard/admin")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:j5});function j5(){const{data:e,isLoading:t,error:r}=WI();if(t)return o.jsx(Ye,{title:"Dashboard",subtitle:"Hotel Booking Management Overview",children:o.jsxs("div",{className:"flex items-center justify-center h-64",children:[o.jsx(pt,{className:"h-8 w-8 animate-spin text-gray-500"}),o.jsx("span",{className:"ml-2 text-gray-500",children:"Loading dashboard data..."})]})});if(r)return o.jsx(Ye,{title:"Dashboard",subtitle:"Hotel Booking Management Overview",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-600 mb-4",children:"Error loading dashboard data"}),o.jsx(ae,{onClick:()=>window.location.reload(),children:"Retry"})]})})});if(!e)return o.jsx(Ye,{title:"Dashboard",subtitle:"Hotel Booking Management Overview",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-gray-500",children:"No data available"})})});const a=[{key:"id",header:"ID",sortable:!0,width:"w-24"},{key:"guestName",header:"Guest",sortable:!0},{key:"hotelName",header:"Hotel",sortable:!0},{key:"roomType",header:"Room Type",sortable:!0},{key:"checkInDate",header:"Check-in",render:c=>Be(c.checkInDate),sortable:!0,width:"w-28"},{key:"totalAmount",header:"Total",render:c=>Bt(c.totalAmount.toString(),"SAR"),sortable:!0,width:"w-32"},{key:"status",header:"Status",render:c=>o.jsx(dn,{className:i1(c.status),children:c.status}),sortable:!0,width:"w-24"},{key:"actions",header:"Actions",render:c=>o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ae,{size:"sm",variant:"ghost",children:o.jsx(fa,{className:"h-4 w-4"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>l(c),children:o.jsx(ii,{className:"h-4 w-4"})})]}),width:"w-24"}],l=c=>{const d=a1({code:c.id,clientName:c.guestName,hotelName:c.roomType,checkIn:c.checkInDate,checkOut:c.checkInDate,totalAmount:c.totalAmount.toString(),currency:"SAR"});qp({message:d})};return o.jsxs(Ye,{title:"Dashboard",subtitle:"Hotel Booking Management Overview",actions:o.jsxs(ae,{children:[o.jsx(Ld,{className:"h-4 w-4 mr-2"}),"New Booking"]}),children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ia,{title:"Total Bookings",value:e.totalBookings.toString(),change:{value:"+12%",type:"increase"},icon:Br}),o.jsx(ia,{title:"Total Revenue",value:Bt(e.totalRevenue.toString()),change:{value:"+8%",type:"increase"},icon:ci}),o.jsx(ia,{title:"Pending Invoices",value:e.pendingInvoices.toString(),change:{value:"-3%",type:"decrease"},icon:dr}),o.jsx(ia,{title:"Total Vouchers",value:e.totalVouchers.toString(),change:{value:"+15%",type:"increase"},icon:fr})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Bookings"}),o.jsx(ae,{variant:"outline",size:"sm",children:"View All"})]}),o.jsx(Fd,{data:e.recentBookings,columns:a,emptyMessage:"No bookings found"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(l1,{className:"h-6 w-6 text-blue-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Hotels"})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Add, edit, or remove hotels from your inventory."}),o.jsx(ae,{variant:"outline",className:"w-full",children:"Manage Hotels"})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:o.jsx(ha,{className:"h-6 w-6 text-green-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Client Management"})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"View and manage your client database."}),o.jsx(ae,{variant:"outline",className:"w-full",children:"Manage Clients"})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:o.jsx(up,{className:"h-6 w-6 text-purple-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reports"})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Generate detailed reports and analytics."}),o.jsx(ae,{variant:"outline",className:"w-full",children:"View Reports"})]})]})]})}const aN=dt("/bookings/$bookingId")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:E5});function k5(e){switch(e){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function _5(e){switch(e){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"unpaid":return"bg-red-100 text-red-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function E5(){var x,g;const{bookingId:e}=aN.useParams(),t=Ft(),{data:r,isLoading:a,error:l}=bc(e),c=yg(),d=xg(),f=async()=>{if(!r)return;const v=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];try{await c.mutateAsync({bookingId:e,dueDate:v}),console.log("Invoice generated successfully"),alert("Invoice generated and downloaded successfully")}catch(w){console.error("Failed to generate invoice:",w),alert("Failed to generate invoice")}},m=async()=>{if(r)try{await d.mutateAsync({bookingId:e,guestName:r.clientName}),console.log("Voucher generated successfully"),alert("Voucher generated and downloaded successfully")}catch(v){console.error("Failed to generate voucher:",v),alert("Failed to generate voucher")}},p=()=>{var b,N;if(!r)return;const v=`Booking Details:
Code: ${r.code}
Guest: ${r.clientName}
Hotel: ${r.hotelName}
Check-in: ${Be(r.checkIn)}
Check-out: ${Be(r.checkOut)}
Room: ${((N=(b=r.items)==null?void 0:b[0])==null?void 0:N.roomType)||"N/A"}
Total: ${Bt(r.totalAmount,"SAR")}`,w=`https://wa.me/${r.clientPhone}?text=${encodeURIComponent(v)}`;window.open(w,"_blank")};return a?o.jsx(Ye,{title:"Loading...",subtitle:"Loading booking details",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(pt,{className:"h-8 w-8 animate-spin"})})}):l||!r?o.jsx(Ye,{title:"Error",subtitle:"Failed to load booking details",children:o.jsx("div",{className:"text-center text-red-600 p-8",children:(l==null?void 0:l.message)||"Booking not found"})}):o.jsx(Ye,{title:`Booking ${r.code}`,subtitle:"Booking details and management",showBackButton:!0,actions:o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(ae,{variant:"outline",onClick:()=>t({to:`/booking-edit?id=${r.id}`}),children:[o.jsx(Sd,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs(ae,{variant:"outline",onClick:p,children:[o.jsx(ii,{className:"h-4 w-4 mr-2"}),"Share WA"]}),o.jsx(ae,{variant:"outline",onClick:f,disabled:c.isPending,children:c.isPending?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Generate Invoice"]})}),o.jsx(ae,{onClick:m,disabled:d.isPending,children:d.isPending?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(fr,{className:"h-4 w-4 mr-2"}),"Generate Voucher"]})})]}),children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center space-x-2",children:[o.jsx(Hp,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{children:"Status Information"})]})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Booking Status"}),o.jsx("div",{className:"mt-1",children:o.jsx(dn,{className:k5(r.bookingStatus),children:r.bookingStatus})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Payment Status"}),o.jsx("div",{className:"mt-1",children:o.jsx(dn,{className:_5(r.paymentStatus),children:r.paymentStatus})})]})]})})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center space-x-2",children:[o.jsx(ha,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{children:"Guest Information"})]})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Name"}),o.jsx("p",{className:"font-semibold",children:r.clientName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Email"}),o.jsx("p",{className:"font-semibold",children:r.clientEmail})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Phone"}),o.jsx("p",{className:"font-semibold",children:r.clientPhone})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"City"}),o.jsx("p",{className:"font-semibold",children:r.city})]})]})})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center space-x-2",children:[o.jsx(Br,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{children:"Booking Details"})]})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Check-in Date"}),o.jsx("p",{className:"font-semibold",children:Be(r.checkIn)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Check-out Date"}),o.jsx("p",{className:"font-semibold",children:Be(r.checkOut)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Hotel"}),o.jsx("p",{className:"font-semibold",children:r.hotelName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Room Type"}),o.jsx("p",{className:"font-semibold",children:((g=(x=r.items)==null?void 0:x[0])==null?void 0:g.roomType)||"N/A"})]})]})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Quick Info"})}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Booking ID"}),o.jsx("p",{className:"font-semibold",children:r.id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Booking Code"}),o.jsx("p",{className:"font-semibold",children:r.code})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Created"}),o.jsx("p",{className:"font-semibold",children:Be(r.createdAt)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Total Amount"}),o.jsx("p",{className:"font-semibold text-lg",children:Bt(r.totalAmount)})]})]})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Actions"})}),o.jsxs(Fe,{className:"space-y-3",children:[o.jsxs(ae,{className:"w-full",variant:"outline",onClick:()=>t({to:`/booking-edit?id=${r.id}`}),children:[o.jsx(Sd,{className:"h-4 w-4 mr-2"}),"Edit Booking"]}),o.jsxs(ae,{className:"w-full",variant:"outline",onClick:p,children:[o.jsx(ii,{className:"h-4 w-4 mr-2"}),"Share via WhatsApp"]}),o.jsxs(ae,{className:"w-full",variant:"outline",onClick:f,disabled:c.isPending,children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Generate Invoice"]}),o.jsxs(ae,{className:"w-full",onClick:m,disabled:d.isPending,children:[o.jsx(fr,{className:"h-4 w-4 mr-2"}),"Generate Voucher"]})]})]})]})]})})}const iN=dt("/booking-view/$bookingId")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:A5});function A5(){const{bookingId:e}=iN.useParams(),t=Ft(),{data:r,isLoading:a,error:l}=bc(e),c=yg(),d=xg(),f=async()=>{if(r)try{await c.mutateAsync(r.id)}catch(g){console.error("Failed to generate invoice:",g)}},m=async()=>{if(r)try{await d.mutateAsync(r.id)}catch(g){console.error("Failed to generate voucher:",g)}},p=()=>{if(!r)return;const g=`Booking Details:
Code: ${r.code}
Guest: ${r.clientName}
Hotel: ${r.hotelName}
Check-in: ${Be(r.checkIn)}
Check-out: ${Be(r.checkOut)}
Total: ${Bt(r.totalAmount.toString(),"SAR")}`,v=`https://wa.me/?text=${encodeURIComponent(g)}`;window.open(v,"_blank")},x=()=>{r!=null&&r.id&&t({to:"/booking-edit",search:{id:r.id}})};return a?o.jsx(Ye,{title:"Loading...",subtitle:"Loading booking details",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(pt,{className:"h-8 w-8 animate-spin"})})}):l||!r?o.jsx(Ye,{title:"Error",subtitle:"Failed to load booking details",children:o.jsx("div",{className:"text-center text-red-600 p-8",children:(l==null?void 0:l.message)||"Booking not found"})}):o.jsx(Ye,{title:"Booking Details",subtitle:`Booking Code: ${r.code}`,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>t({to:"/bookings"}),children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Back to Bookings"]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(ae,{variant:"outline",size:"sm",onClick:p,children:[o.jsx(ii,{className:"h-4 w-4 mr-2"}),"Share"]}),o.jsxs(ae,{variant:"outline",size:"sm",onClick:x,children:[o.jsx(Sd,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),o.jsx(pe,{children:o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Booking Status"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(dn,{variant:r.bookingStatus==="confirmed"?"default":r.bookingStatus==="pending"?"secondary":"destructive",children:r.bookingStatus}),o.jsx(dn,{variant:r.paymentStatus==="paid"?"default":r.paymentStatus==="partial"?"secondary":"destructive",children:r.paymentStatus})]})]})})}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(ha,{className:"h-5 w-5 mr-2"}),"Guest Information"]})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),o.jsx("p",{className:"text-lg",children:r.clientName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(xc,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("p",{children:r.clientEmail})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(c1,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("p",{children:r.clientPhone})]})]})]})})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(wd,{className:"h-5 w-5 mr-2"}),"Hotel Information"]})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Hotel Name"}),o.jsx("p",{className:"text-lg",children:r.hotelName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"City"}),o.jsx("p",{className:"text-lg",children:r.city})]})]})})]}),r.items&&r.items.length>0&&o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(ha,{className:"h-5 w-5 mr-2"}),"Booking Items"]})}),o.jsx(Fe,{children:o.jsx("div",{className:"space-y-4",children:r.items.map((g,v)=>o.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Room Type"}),o.jsx("p",{className:"text-lg font-semibold",children:g.roomType})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Room Count"}),o.jsx("p",{className:"text-lg",children:g.roomCount})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Unit Price"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ci,{amount:"",iconSize:16,className:"mr-2 text-gray-400",showSymbol:!0}),o.jsx("p",{className:"text-lg font-semibold",children:Bt(g.unitPrice,"SAR")})]})]})]})},g.id||v))})})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(Br,{className:"h-5 w-5 mr-2"}),"Booking Details"]})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Check-in Date"}),o.jsx("p",{className:"text-lg",children:Be(r.checkIn)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Check-out Date"}),o.jsx("p",{className:"text-lg",children:Be(r.checkOut)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ci,{amount:"",iconSize:16,className:"mr-2 text-gray-400",showSymbol:!0}),o.jsx("p",{className:"text-lg font-semibold",children:Bt(r.totalAmount.toString(),"SAR")})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Hp,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("p",{children:Be(r.createdAt)})]})]})]})})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Actions"})}),o.jsx(Fe,{children:o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs(ae,{onClick:f,disabled:c.isPending,className:"flex items-center",children:[c.isPending?o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Generate Invoice"]}),o.jsxs(ae,{onClick:m,disabled:d.isPending,variant:"outline",className:"flex items-center",children:[d.isPending?o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(fr,{className:"h-4 w-4 mr-2"}),"Generate Voucher"]})]})})]})]})})}const T5=dt("/auth/callback")({component:R5});function R5(){const e=Ft(),[t,r]=C.useState(!0),[a,l]=C.useState(null);return C.useEffect(()=>{(async()=>{try{await new Promise(m=>setTimeout(m,2e3));const d=await Ke.getCurrentUser();if(console.log("OAuth callback - user:",d),!d){console.log("OAuth callback - no user found, redirecting to login"),l("Authentication failed. Please try again."),setTimeout(()=>{e({to:"/login"})},2e3);return}const f=d.role==="admin"?"/dashboard/admin":"/dashboard/user";console.log("OAuth callback - redirecting to:",f),e({to:f})}catch(d){console.error("OAuth callback error:",d),l("An error occurred during authentication."),setTimeout(()=>{e({to:"/login"})},2e3)}finally{r(!1)}})()},[e]),a?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-red-600 text-lg mb-4",children:a}),o.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:t?"Completing sign in...":"Redirecting..."})]})})}const oN=dt("/bookings/$bookingId/edit")({beforeLoad:async()=>{if(!await Ke.isAuthenticated())throw jt({to:"/login"})},component:C5});function C5(){const{bookingId:e}=oN.useParams(),t=Ft(),{data:r,isLoading:a,error:l}=bc(e),c=WS(),[d,f]=C.useState({guestName:"",guestEmail:"",guestPhone:"",checkInDate:"",checkOutDate:"",roomType:"",numberOfGuests:1,specialRequests:"",totalAmount:0,status:"pending"});C.useEffect(()=>{r&&f({guestName:r.guestName||"",guestEmail:r.guestEmail||"",guestPhone:r.guestPhone||"",checkInDate:r.checkInDate||"",checkOutDate:r.checkOutDate||"",roomType:r.roomType||"",numberOfGuests:r.numberOfGuests||1,specialRequests:r.specialRequests||"",totalAmount:r.totalAmount||0,status:r.status||"pending"})},[r]);const m=(g,v)=>{f(w=>({...w,[g]:v}))},p=async g=>{g.preventDefault();try{await c.mutateAsync({id:e,...d}),console.log("Booking updated successfully!"),t({to:`/bookings/${e}`})}catch(v){console.error("Error updating booking:",v),alert("Failed to update booking. Please try again.")}},x=()=>{t({to:`/bookings/${e}`})};return a?o.jsx(Ye,{title:"Edit Booking",subtitle:"Loading booking details...",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(pt,{className:"h-8 w-8 animate-spin"})})}):l||!r?o.jsx(Ye,{title:"Edit Booking",subtitle:"Error loading booking",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-red-600",children:"Failed to load booking details"}),o.jsx(ae,{onClick:()=>t({to:"/bookings"}),className:"mt-4",children:"Back to Bookings"})]})}):o.jsx(Ye,{title:`Edit Booking ${r.id}`,subtitle:"Update booking details",showBackButton:!0,actions:o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(ae,{variant:"outline",onClick:x,children:[o.jsx($d,{className:"h-4 w-4 mr-2"}),"Cancel"]}),o.jsx(ae,{onClick:p,disabled:c.isPending,children:c.isPending?o.jsxs(o.Fragment,{children:[o.jsx(pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}),children:o.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Guest Information"})}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"guestName",className:"block text-sm font-medium mb-1",children:"Guest Name *"}),o.jsx(fe,{id:"guestName",value:d.guestName,onChange:g=>m("guestName",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"guestEmail",className:"block text-sm font-medium mb-1",children:"Email *"}),o.jsx(fe,{id:"guestEmail",type:"email",value:d.guestEmail,onChange:g=>m("guestEmail",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"guestPhone",className:"block text-sm font-medium mb-1",children:"Phone *"}),o.jsx(fe,{id:"guestPhone",value:d.guestPhone,onChange:g=>m("guestPhone",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"numberOfGuests",className:"block text-sm font-medium mb-1",children:"Number of Guests *"}),o.jsx(fe,{id:"numberOfGuests",type:"number",min:"1",value:d.numberOfGuests,onChange:g=>m("numberOfGuests",parseInt(g.target.value)),required:!0})]})]})})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Booking Details"})}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium mb-1",children:"Check-in Date *"}),o.jsx(fe,{id:"checkInDate",type:"date",value:d.checkInDate,onChange:g=>m("checkInDate",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"checkOutDate",className:"block text-sm font-medium mb-1",children:"Check-out Date *"}),o.jsx(fe,{id:"checkOutDate",type:"date",value:d.checkOutDate,onChange:g=>m("checkOutDate",g.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"roomType",className:"block text-sm font-medium mb-1",children:"Room Type *"}),o.jsxs("select",{id:"roomType",value:d.roomType,onChange:g=>m("roomType",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select room type"}),o.jsx("option",{value:"DBL",children:"Double Room (DBL)"}),o.jsx("option",{value:"TPL",children:"Triple Room (TPL)"}),o.jsx("option",{value:"Quad",children:"Quad Room (Quad)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"totalAmount",className:"block text-sm font-medium mb-1",children:"Total Amount *"}),o.jsx(fe,{id:"totalAmount",type:"number",step:"0.01",value:d.totalAmount,onChange:g=>m("totalAmount",parseFloat(g.target.value)),required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"specialRequests",className:"block text-sm font-medium mb-1",children:"Special Requests"}),o.jsx("textarea",{id:"specialRequests",value:d.specialRequests,onChange:g=>m("specialRequests",g.target.value),placeholder:"Any special requests or notes...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o.jsxs(pe,{children:[o.jsx(He,{children:o.jsx(Ge,{children:"Status Information"})}),o.jsx(Fe,{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-medium mb-1",children:"Booking Status"}),o.jsxs("select",{id:"status",value:d.status,onChange:g=>m("status",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})})})]})]})})})}const lN=rI.update({id:"/vouchers",path:"/vouchers",getParentRoute:()=>Qt}),O5=wI.update({id:"/register",path:"/register",getParentRoute:()=>Qt}),D5=NI.update({id:"/login",path:"/login",getParentRoute:()=>Qt}),cN=AI.update({id:"/invoices",path:"/invoices",getParentRoute:()=>Qt}),U5=RI.update({id:"/forgot-password",path:"/forgot-password",getParentRoute:()=>Qt}),vg=OI.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>Qt}),I5=MI.update({id:"/create-booking",path:"/create-booking",getParentRoute:()=>Qt}),M5=KI.update({id:"/costs",path:"/costs",getParentRoute:()=>Qt}),z5=YI.update({id:"/clear-auth-cache",path:"/clear-auth-cache",getParentRoute:()=>Qt}),uN=e5.update({id:"/bookings",path:"/bookings",getParentRoute:()=>Qt}),L5=nN.update({id:"/booking-edit",path:"/booking-edit",getParentRoute:()=>Qt}),P5=sN.update({id:"/booking-detail",path:"/booking-detail",getParentRoute:()=>Qt}),$5=d5.update({id:"/analytics",path:"/analytics",getParentRoute:()=>Qt}),B5=h5.update({id:"/admin",path:"/admin",getParentRoute:()=>Qt}),q5=p5.update({id:"/",path:"/",getParentRoute:()=>Qt}),V5=y5.update({id:"/create",path:"/create",getParentRoute:()=>lN}),H5=v5.update({id:"/create",path:"/create",getParentRoute:()=>cN}),G5=w5.update({id:"/user",path:"/user",getParentRoute:()=>vg}),K5=N5.update({id:"/admin",path:"/admin",getParentRoute:()=>vg}),dN=aN.update({id:"/$bookingId",path:"/$bookingId",getParentRoute:()=>uN}),Z5=iN.update({id:"/booking-view/$bookingId",path:"/booking-view/$bookingId",getParentRoute:()=>Qt}),F5=T5.update({id:"/auth/callback",path:"/auth/callback",getParentRoute:()=>Qt}),Q5=oN.update({id:"/edit",path:"/edit",getParentRoute:()=>dN}),Y5={BookingsBookingIdEditRoute:Q5},J5=dN._addFileChildren(Y5),X5={BookingsBookingIdRoute:J5},W5=uN._addFileChildren(X5),eM={DashboardAdminRoute:K5,DashboardUserRoute:G5},tM=vg._addFileChildren(eM),nM={InvoicesCreateRoute:H5},rM=cN._addFileChildren(nM),sM={VouchersCreateRoute:V5},aM=lN._addFileChildren(sM),iM={IndexRoute:q5,AdminRoute:B5,AnalyticsRoute:$5,BookingDetailRoute:P5,BookingEditRoute:L5,BookingsRoute:W5,ClearAuthCacheRoute:z5,CostsRoute:M5,CreateBookingRoute:I5,DashboardRoute:tM,ForgotPasswordRoute:U5,InvoicesRoute:rM,LoginRoute:D5,RegisterRoute:O5,VouchersRoute:aM,AuthCallbackRoute:F5,BookingViewBookingIdRoute:Z5},oM=Qt._addFileChildren(iM)._addFileTypes(),lM=new J2,cM=j2({routeTree:oM}),jp=document.getElementById("root");if(!jp)throw new Error("Root element not found. Check if it's in your index.html or if the id is correct.");jp.innerHTML||Bk.createRoot(jp).render(o.jsx(C.StrictMode,{children:o.jsx(X2,{client:lM,children:o.jsx(E2,{router:cM})})}));
